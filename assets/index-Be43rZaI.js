var If=Object.defineProperty;var mc=t=>{throw TypeError(t)};var Ff=(t,e,a)=>e in t?If(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var Lf=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var dt=(t,e,a)=>Ff(t,typeof e!="symbol"?e+"":e,a),ha=(t,e,a)=>e.has(t)||mc("Cannot "+a);var ne=(t,e,a)=>(ha(t,e,"read from private field"),a?a.call(t):e.get(t)),ze=(t,e,a)=>e.has(t)?mc("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,a),We=(t,e,a,l)=>(ha(t,e,"write to private field"),l?l.call(t,a):e.set(t,a),a),$e=(t,e,a)=>(ha(t,e,"access private method"),a);var pa=(t,e,a,l)=>({set _(u){We(t,e,u,a)},get _(){return ne(t,e,l)}});var $f=Lf((exports,module)=>{function _mergeNamespaces(t,e){for(var a=0;a<e.length;a++){const l=e[a];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in t)){const c=Object.getOwnPropertyDescriptor(l,u);c&&Object.defineProperty(t,u,c.get?c:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=a(u);fetch(u.href,c)}})();function getDefaultExportFromCjs$1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var a=function l(){return this instanceof l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(l){var u=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(a,l,u.get?u:{enumerable:!0,get:function(){return t[l]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react$1={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function _(N,I,L){this.props=N,this.context=I,this.refs=E,this.updater=L||C}_.prototype.isReactComponent={},_.prototype.setState=function(N,I){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,I,"setState")},_.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function A(){}A.prototype=_.prototype;function R(N,I,L){this.props=N,this.context=I,this.refs=E,this.updater=L||C}var k=R.prototype=new A;k.constructor=R,S(k,_.prototype),k.isPureReactComponent=!0;var M=Array.isArray,D=Object.prototype.hasOwnProperty,B={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function T(N,I,L){var H,re={},oe=null,K=null;if(I!=null)for(H in I.ref!==void 0&&(K=I.ref),I.key!==void 0&&(oe=""+I.key),I)D.call(I,H)&&!U.hasOwnProperty(H)&&(re[H]=I[H]);var le=arguments.length-2;if(le===1)re.children=L;else if(1<le){for(var ye=Array(le),Ce=0;Ce<le;Ce++)ye[Ce]=arguments[Ce+2];re.children=ye}if(N&&N.defaultProps)for(H in le=N.defaultProps,le)re[H]===void 0&&(re[H]=le[H]);return{$$typeof:t,type:N,key:oe,ref:K,props:re,_owner:B.current}}function $(N,I){return{$$typeof:t,type:N.type,key:I,ref:N.ref,props:N.props,_owner:N._owner}}function G(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function ue(N){var I={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(L){return I[L]})}var te=/\/+/g;function Se(N,I){return typeof N=="object"&&N!==null&&N.key!=null?ue(""+N.key):I.toString(36)}function he(N,I,L,H,re){var oe=typeof N;(oe==="undefined"||oe==="boolean")&&(N=null);var K=!1;if(N===null)K=!0;else switch(oe){case"string":case"number":K=!0;break;case"object":switch(N.$$typeof){case t:case e:K=!0}}if(K)return K=N,re=re(K),N=H===""?"."+Se(K,0):H,M(re)?(L="",N!=null&&(L=N.replace(te,"$&/")+"/"),he(re,I,L,"",function(Ce){return Ce})):re!=null&&(G(re)&&(re=$(re,L+(!re.key||K&&K.key===re.key?"":(""+re.key).replace(te,"$&/")+"/")+N)),I.push(re)),1;if(K=0,H=H===""?".":H+":",M(N))for(var le=0;le<N.length;le++){oe=N[le];var ye=H+Se(oe,le);K+=he(oe,I,L,ye,re)}else if(ye=v(N),typeof ye=="function")for(N=ye.call(N),le=0;!(oe=N.next()).done;)oe=oe.value,ye=H+Se(oe,le++),K+=he(oe,I,L,ye,re);else if(oe==="object")throw I=String(N),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return K}function Te(N,I,L){if(N==null)return N;var H=[],re=0;return he(N,H,"","",function(oe){return I.call(L,oe,re++)}),H}function ve(N){if(N._status===-1){var I=N._result;I=I(),I.then(function(L){(N._status===0||N._status===-1)&&(N._status=1,N._result=L)},function(L){(N._status===0||N._status===-1)&&(N._status=2,N._result=L)}),N._status===-1&&(N._status=0,N._result=I)}if(N._status===1)return N._result.default;throw N._result}var ce={current:null},ae={transition:null},pe={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:ae,ReactCurrentOwner:B};function ee(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:Te,forEach:function(N,I,L){Te(N,function(){I.apply(this,arguments)},L)},count:function(N){var I=0;return Te(N,function(){I++}),I},toArray:function(N){return Te(N,function(I){return I})||[]},only:function(N){if(!G(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},react_production_min.Component=_,react_production_min.Fragment=a,react_production_min.Profiler=u,react_production_min.PureComponent=R,react_production_min.StrictMode=l,react_production_min.Suspense=m,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,react_production_min.act=ee,react_production_min.cloneElement=function(N,I,L){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var H=S({},N.props),re=N.key,oe=N.ref,K=N._owner;if(I!=null){if(I.ref!==void 0&&(oe=I.ref,K=B.current),I.key!==void 0&&(re=""+I.key),N.type&&N.type.defaultProps)var le=N.type.defaultProps;for(ye in I)D.call(I,ye)&&!U.hasOwnProperty(ye)&&(H[ye]=I[ye]===void 0&&le!==void 0?le[ye]:I[ye])}var ye=arguments.length-2;if(ye===1)H.children=L;else if(1<ye){le=Array(ye);for(var Ce=0;Ce<ye;Ce++)le[Ce]=arguments[Ce+2];H.children=le}return{$$typeof:t,type:N.type,key:re,ref:oe,props:H,_owner:K}},react_production_min.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},react_production_min.createElement=T,react_production_min.createFactory=function(N){var I=T.bind(null,N);return I.type=N,I},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(N){return{$$typeof:h,render:N}},react_production_min.isValidElement=G,react_production_min.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:ve}},react_production_min.memo=function(N,I){return{$$typeof:g,type:N,compare:I===void 0?null:I}},react_production_min.startTransition=function(N){var I=ae.transition;ae.transition={};try{N()}finally{ae.transition=I}},react_production_min.unstable_act=ee,react_production_min.useCallback=function(N,I){return ce.current.useCallback(N,I)},react_production_min.useContext=function(N){return ce.current.useContext(N)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(N){return ce.current.useDeferredValue(N)},react_production_min.useEffect=function(N,I){return ce.current.useEffect(N,I)},react_production_min.useId=function(){return ce.current.useId()},react_production_min.useImperativeHandle=function(N,I,L){return ce.current.useImperativeHandle(N,I,L)},react_production_min.useInsertionEffect=function(N,I){return ce.current.useInsertionEffect(N,I)},react_production_min.useLayoutEffect=function(N,I){return ce.current.useLayoutEffect(N,I)},react_production_min.useMemo=function(N,I){return ce.current.useMemo(N,I)},react_production_min.useReducer=function(N,I,L){return ce.current.useReducer(N,I,L)},react_production_min.useRef=function(N){return ce.current.useRef(N)},react_production_min.useState=function(N){return ce.current.useState(N)},react_production_min.useSyncExternalStore=function(N,I,L){return ce.current.useSyncExternalStore(N,I,L)},react_production_min.useTransition=function(){return ce.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react$1.exports=requireReact_production_min()),react$1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),e=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,m,g){var y,b={},v=null,C=null;g!==void 0&&(v=""+g),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(C=m.ref);for(y in m)l.call(m,y)&&!c.hasOwnProperty(y)&&(b[y]=m[y]);if(h&&h.defaultProps)for(y in m=h.defaultProps,m)b[y]===void 0&&(b[y]=m[y]);return{$$typeof:e,type:h,key:v,ref:C,props:b,_owner:u.current}}return reactJsxRuntime_production_min.Fragment=a,reactJsxRuntime_production_min.jsx=d,reactJsxRuntime_production_min.jsxs=d,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React2=getDefaultExportFromCjs$1(reactExports),React=_mergeNamespaces({__proto__:null,default:React2},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(t){function e(ae,pe){var ee=ae.length;ae.push(pe);e:for(;0<ee;){var N=ee-1>>>1,I=ae[N];if(0<u(I,pe))ae[N]=pe,ae[ee]=I,ee=N;else break e}}function a(ae){return ae.length===0?null:ae[0]}function l(ae){if(ae.length===0)return null;var pe=ae[0],ee=ae.pop();if(ee!==pe){ae[0]=ee;e:for(var N=0,I=ae.length,L=I>>>1;N<L;){var H=2*(N+1)-1,re=ae[H],oe=H+1,K=ae[oe];if(0>u(re,ee))oe<I&&0>u(K,re)?(ae[N]=K,ae[oe]=ee,N=oe):(ae[N]=re,ae[H]=ee,N=H);else if(oe<I&&0>u(K,ee))ae[N]=K,ae[oe]=ee,N=oe;else break e}}return pe}function u(ae,pe){var ee=ae.sortIndex-pe.sortIndex;return ee!==0?ee:ae.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var m=[],g=[],y=1,b=null,v=3,C=!1,S=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ae){for(var pe=a(g);pe!==null;){if(pe.callback===null)l(g);else if(pe.startTime<=ae)l(g),pe.sortIndex=pe.expirationTime,e(m,pe);else break;pe=a(g)}}function M(ae){if(E=!1,k(ae),!S)if(a(m)!==null)S=!0,ve(D);else{var pe=a(g);pe!==null&&ce(M,pe.startTime-ae)}}function D(ae,pe){S=!1,E&&(E=!1,A(T),T=-1),C=!0;var ee=v;try{for(k(pe),b=a(m);b!==null&&(!(b.expirationTime>pe)||ae&&!ue());){var N=b.callback;if(typeof N=="function"){b.callback=null,v=b.priorityLevel;var I=N(b.expirationTime<=pe);pe=t.unstable_now(),typeof I=="function"?b.callback=I:b===a(m)&&l(m),k(pe)}else l(m);b=a(m)}if(b!==null)var L=!0;else{var H=a(g);H!==null&&ce(M,H.startTime-pe),L=!1}return L}finally{b=null,v=ee,C=!1}}var B=!1,U=null,T=-1,$=5,G=-1;function ue(){return!(t.unstable_now()-G<$)}function te(){if(U!==null){var ae=t.unstable_now();G=ae;var pe=!0;try{pe=U(!0,ae)}finally{pe?Se():(B=!1,U=null)}}else B=!1}var Se;if(typeof R=="function")Se=function(){R(te)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Te=he.port2;he.port1.onmessage=te,Se=function(){Te.postMessage(null)}}else Se=function(){_(te,0)};function ve(ae){U=ae,B||(B=!0,Se())}function ce(ae,pe){T=_(function(){ae(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){S||C||(S=!0,ve(D))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return a(m)},t.unstable_next=function(ae){switch(v){case 1:case 2:case 3:var pe=3;break;default:pe=v}var ee=v;v=pe;try{return ae()}finally{v=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,pe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ee=v;v=ae;try{return pe()}finally{v=ee}},t.unstable_scheduleCallback=function(ae,pe,ee){var N=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?N+ee:N):ee=N,ae){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ee+I,ae={id:y++,callback:pe,priorityLevel:ae,startTime:ee,expirationTime:I,sortIndex:-1},ee>N?(ae.sortIndex=ee,e(g,ae),a(m)===null&&ae===a(g)&&(E?(A(T),T=-1):E=!0,ce(M,ee-N))):(ae.sortIndex=I,e(m,ae),S||C||(S=!0,ve(D))),ae},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(ae){var pe=v;return function(){var ee=v;v=pe;try{return ae.apply(this,arguments)}finally{v=ee}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),e=requireScheduler();function a(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,x=1;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function c(f,p){d(f,p),d(f+"Capture",p)}function d(f,p){for(u[f]=p,f=0;f<p.length;f++)l.add(p[f])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function v(f){return m.call(b,f)?!0:m.call(y,f)?!1:g.test(f)?b[f]=!0:(y[f]=!0,!1)}function C(f,p,x,w){if(x!==null&&x.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return w?!1:x!==null?!x.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function S(f,p,x,w){if(p===null||typeof p>"u"||C(f,p,x,w))return!0;if(w)return!1;if(x!==null)switch(x.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function E(f,p,x,w,O,F,J){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=w,this.attributeNamespace=O,this.mustUseProperty=x,this.propertyName=f,this.type=p,this.sanitizeURL=F,this.removeEmptyString=J}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){_[f]=new E(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var p=f[0];_[p]=new E(p,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){_[f]=new E(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){_[f]=new E(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){_[f]=new E(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){_[f]=new E(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){_[f]=new E(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){_[f]=new E(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){_[f]=new E(f,5,!1,f.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function R(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var p=f.replace(A,R);_[p]=new E(p,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var p=f.replace(A,R);_[p]=new E(p,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var p=f.replace(A,R);_[p]=new E(p,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){_[f]=new E(f,1,!1,f.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){_[f]=new E(f,1,!1,f.toLowerCase(),null,!0,!0)});function k(f,p,x,w){var O=_.hasOwnProperty(p)?_[p]:null;(O!==null?O.type!==0:w||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(S(p,x,O,w)&&(x=null),w||O===null?v(p)&&(x===null?f.removeAttribute(p):f.setAttribute(p,""+x)):O.mustUseProperty?f[O.propertyName]=x===null?O.type===3?!1:"":x:(p=O.attributeName,w=O.attributeNamespace,x===null?f.removeAttribute(p):(O=O.type,x=O===3||O===4&&x===!0?"":""+x,w?f.setAttributeNS(w,p,x):f.setAttribute(p,x))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),B=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ue=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),ae=Symbol.iterator;function pe(f){return f===null||typeof f!="object"?null:(f=ae&&f[ae]||f["@@iterator"],typeof f=="function"?f:null)}var ee=Object.assign,N;function I(f){if(N===void 0)try{throw Error()}catch(x){var p=x.stack.trim().match(/\n( *(at )?)/);N=p&&p[1]||""}return`
`+N+f}var L=!1;function H(f,p){if(!f||L)return"";L=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Fe){var w=Fe}Reflect.construct(f,[],p)}else{try{p.call()}catch(Fe){w=Fe}f.call(p.prototype)}else{try{throw Error()}catch(Fe){w=Fe}f()}}catch(Fe){if(Fe&&w&&typeof Fe.stack=="string"){for(var O=Fe.stack.split(`
`),F=w.stack.split(`
`),J=O.length-1,ge=F.length-1;1<=J&&0<=ge&&O[J]!==F[ge];)ge--;for(;1<=J&&0<=ge;J--,ge--)if(O[J]!==F[ge]){if(J!==1||ge!==1)do if(J--,ge--,0>ge||O[J]!==F[ge]){var _e=`
`+O[J].replace(" at new "," at ");return f.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",f.displayName)),_e}while(1<=J&&0<=ge);break}}}finally{L=!1,Error.prepareStackTrace=x}return(f=f?f.displayName||f.name:"")?I(f):""}function re(f){switch(f.tag){case 5:return I(f.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return f=H(f.type,!1),f;case 11:return f=H(f.type.render,!1),f;case 1:return f=H(f.type,!0),f;default:return""}}function oe(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case U:return"Fragment";case B:return"Portal";case $:return"Profiler";case T:return"StrictMode";case Se:return"Suspense";case he:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case ue:return(f.displayName||"Context")+".Consumer";case G:return(f._context.displayName||"Context")+".Provider";case te:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Te:return p=f.displayName||null,p!==null?p:oe(f.type)||"Memo";case ve:p=f._payload,f=f._init;try{return oe(f(p))}catch{}}return null}function K(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(p);case 8:return p===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function le(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ye(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ce(f){var p=ye(f)?"checked":"value",x=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),w=""+f[p];if(!f.hasOwnProperty(p)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,F=x.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return O.call(this)},set:function(J){w=""+J,F.call(this,J)}}),Object.defineProperty(f,p,{enumerable:x.enumerable}),{getValue:function(){return w},setValue:function(J){w=""+J},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function xe(f){f._valueTracker||(f._valueTracker=Ce(f))}function j(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var x=p.getValue(),w="";return f&&(w=ye(f)?f.checked?"true":"false":f.value),f=w,f!==x?(p.setValue(f),!0):!1}function V(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function Q(f,p){var x=p.checked;return ee({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??f._wrapperState.initialChecked})}function se(f,p){var x=p.defaultValue==null?"":p.defaultValue,w=p.checked!=null?p.checked:p.defaultChecked;x=le(p.value!=null?p.value:x),f._wrapperState={initialChecked:w,initialValue:x,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function q(f,p){p=p.checked,p!=null&&k(f,"checked",p,!1)}function de(f,p){q(f,p);var x=le(p.value),w=p.type;if(x!=null)w==="number"?(x===0&&f.value===""||f.value!=x)&&(f.value=""+x):f.value!==""+x&&(f.value=""+x);else if(w==="submit"||w==="reset"){f.removeAttribute("value");return}p.hasOwnProperty("value")?Ee(f,p.type,x):p.hasOwnProperty("defaultValue")&&Ee(f,p.type,le(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(f.defaultChecked=!!p.defaultChecked)}function be(f,p,x){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var w=p.type;if(!(w!=="submit"&&w!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+f._wrapperState.initialValue,x||p===f.value||(f.value=p),f.defaultValue=p}x=f.name,x!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,x!==""&&(f.name=x)}function Ee(f,p,x){(p!=="number"||V(f.ownerDocument)!==f)&&(x==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+x&&(f.defaultValue=""+x))}var Pe=Array.isArray;function fe(f,p,x,w){if(f=f.options,p){p={};for(var O=0;O<x.length;O++)p["$"+x[O]]=!0;for(x=0;x<f.length;x++)O=p.hasOwnProperty("$"+f[x].value),f[x].selected!==O&&(f[x].selected=O),O&&w&&(f[x].defaultSelected=!0)}else{for(x=""+le(x),p=null,O=0;O<f.length;O++){if(f[O].value===x){f[O].selected=!0,w&&(f[O].defaultSelected=!0);return}p!==null||f[O].disabled||(p=f[O])}p!==null&&(p.selected=!0)}}function W(f,p){if(p.dangerouslySetInnerHTML!=null)throw Error(a(91));return ee({},p,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function Y(f,p){var x=p.value;if(x==null){if(x=p.children,p=p.defaultValue,x!=null){if(p!=null)throw Error(a(92));if(Pe(x)){if(1<x.length)throw Error(a(93));x=x[0]}p=x}p==null&&(p=""),x=p}f._wrapperState={initialValue:le(x)}}function me(f,p){var x=le(p.value),w=le(p.defaultValue);x!=null&&(x=""+x,x!==f.value&&(f.value=x),p.defaultValue==null&&f.defaultValue!==x&&(f.defaultValue=x)),w!=null&&(f.defaultValue=""+w)}function Re(f){var p=f.textContent;p===f._wrapperState.initialValue&&p!==""&&p!==null&&(f.value=p)}function Oe(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(f,p){return f==null||f==="http://www.w3.org/1999/xhtml"?Oe(p):f==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var Le,qe=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,x,w,O){MSApp.execUnsafeLocalFunction(function(){return f(p,x,w,O)})}:f}(function(f,p){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=p;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Le.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;p.firstChild;)f.appendChild(p.firstChild)}});function Ye(f,p){if(p){var x=f.firstChild;if(x&&x===f.lastChild&&x.nodeType===3){x.nodeValue=p;return}}f.textContent=p}var Ie={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];Object.keys(Ie).forEach(function(f){Ae.forEach(function(p){p=p+f.charAt(0).toUpperCase()+f.substring(1),Ie[p]=Ie[f]})});function we(f,p,x){return p==null||typeof p=="boolean"||p===""?"":x||typeof p!="number"||p===0||Ie.hasOwnProperty(f)&&Ie[f]?(""+p).trim():p+"px"}function He(f,p){f=f.style;for(var x in p)if(p.hasOwnProperty(x)){var w=x.indexOf("--")===0,O=we(x,p[x],w);x==="float"&&(x="cssFloat"),w?f.setProperty(x,O):f[x]=O}}var nt=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function it(f,p){if(p){if(nt[f]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(a(137,f));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(a(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(a(61))}if(p.style!=null&&typeof p.style!="object")throw Error(a(62))}}function at(f,p){if(f.indexOf("-")===-1)return typeof p.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function Dt(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Lt=null,ft=null,Ut=null;function tn(f){if(f=ns(f)){if(typeof Lt!="function")throw Error(a(280));var p=f.stateNode;p&&(p=Vs(p),Lt(f.stateNode,f.type,p))}}function qn(f){ft?Ut?Ut.push(f):Ut=[f]:ft=f}function yt(){if(ft){var f=ft,p=Ut;if(Ut=ft=null,tn(f),p)for(f=0;f<p.length;f++)tn(p[f])}}function Zn(f,p){return f(p)}function Gn(){}var Kn=!1;function cr(f,p,x){if(Kn)return f(p,x);Kn=!0;try{return Zn(f,p,x)}finally{Kn=!1,(ft!==null||Ut!==null)&&(Gn(),yt())}}function nn(f,p){var x=f.stateNode;if(x===null)return null;var w=Vs(x);if(w===null)return null;x=w[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(f=f.type,w=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!w;break e;default:f=!1}if(f)return null;if(x&&typeof x!="function")throw Error(a(231,p,typeof x));return x}var At=!1;if(h)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){At=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{At=!1}function Fr(f,p,x,w,O,F,J,ge,_e){var Fe=Array.prototype.slice.call(arguments,3);try{p.apply(x,Fe)}catch(Be){this.onError(Be)}}var Lr=!1,Es=null,vs=!1,Pi=null,zc={onError:function(f){Lr=!0,Es=f}};function Vc(f,p,x,w,O,F,J,ge,_e){Lr=!1,Es=null,Fr.apply(zc,arguments)}function Uc(f,p,x,w,O,F,J,ge,_e){if(Vc.apply(this,arguments),Lr){if(Lr){var Fe=Es;Lr=!1,Es=null}else throw Error(a(198));vs||(vs=!0,Pi=Fe)}}function Xn(f){var p=f,x=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,p.flags&4098&&(x=p.return),f=p.return;while(f)}return p.tag===3?x:null}function $a(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function ja(f){if(Xn(f)!==f)throw Error(a(188))}function Hc(f){var p=f.alternate;if(!p){if(p=Xn(f),p===null)throw Error(a(188));return p!==f?null:f}for(var x=f,w=p;;){var O=x.return;if(O===null)break;var F=O.alternate;if(F===null){if(w=O.return,w!==null){x=w;continue}break}if(O.child===F.child){for(F=O.child;F;){if(F===x)return ja(O),f;if(F===w)return ja(O),p;F=F.sibling}throw Error(a(188))}if(x.return!==w.return)x=O,w=F;else{for(var J=!1,ge=O.child;ge;){if(ge===x){J=!0,x=O,w=F;break}if(ge===w){J=!0,w=O,x=F;break}ge=ge.sibling}if(!J){for(ge=F.child;ge;){if(ge===x){J=!0,x=F,w=O;break}if(ge===w){J=!0,w=F,x=O;break}ge=ge.sibling}if(!J)throw Error(a(189))}}if(x.alternate!==w)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?f:p}function Ba(f){return f=Hc(f),f!==null?za(f):null}function za(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=za(f);if(p!==null)return p;f=f.sibling}return null}var Va=e.unstable_scheduleCallback,Ua=e.unstable_cancelCallback,Wc=e.unstable_shouldYield,qc=e.unstable_requestPaint,xt=e.unstable_now,Zc=e.unstable_getCurrentPriorityLevel,Oi=e.unstable_ImmediatePriority,Ha=e.unstable_UserBlockingPriority,Ss=e.unstable_NormalPriority,Gc=e.unstable_LowPriority,Wa=e.unstable_IdlePriority,_s=null,hn=null;function Kc(f){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(_s,f,void 0,(f.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:Jc,Xc=Math.log,Yc=Math.LN2;function Jc(f){return f>>>=0,f===0?32:31-(Xc(f)/Yc|0)|0}var Cs=64,ws=4194304;function $r(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function ks(f,p){var x=f.pendingLanes;if(x===0)return 0;var w=0,O=f.suspendedLanes,F=f.pingedLanes,J=x&268435455;if(J!==0){var ge=J&~O;ge!==0?w=$r(ge):(F&=J,F!==0&&(w=$r(F)))}else J=x&~O,J!==0?w=$r(J):F!==0&&(w=$r(F));if(w===0)return 0;if(p!==0&&p!==w&&!(p&O)&&(O=w&-w,F=p&-p,O>=F||O===16&&(F&4194240)!==0))return p;if(w&4&&(w|=x&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=w;0<p;)x=31-sn(p),O=1<<x,w|=f[x],p&=~O;return w}function Qc(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ed(f,p){for(var x=f.suspendedLanes,w=f.pingedLanes,O=f.expirationTimes,F=f.pendingLanes;0<F;){var J=31-sn(F),ge=1<<J,_e=O[J];_e===-1?(!(ge&x)||ge&w)&&(O[J]=Qc(ge,p)):_e<=p&&(f.expiredLanes|=ge),F&=~ge}}function Ni(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function qa(){var f=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),f}function Di(f){for(var p=[],x=0;31>x;x++)p.push(f);return p}function jr(f,p,x){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-sn(p),f[p]=x}function td(f,p){var x=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var w=f.eventTimes;for(f=f.expirationTimes;0<x;){var O=31-sn(x),F=1<<O;p[O]=0,w[O]=-1,f[O]=-1,x&=~F}}function Ii(f,p){var x=f.entangledLanes|=p;for(f=f.entanglements;x;){var w=31-sn(x),O=1<<w;O&p|f[w]&p&&(f[w]|=p),x&=~O}}var ot=0;function Za(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var Ga,Fi,Ka,Xa,Ya,Li=!1,As=[],An=null,Tn=null,Rn=null,Br=new Map,zr=new Map,Mn=[],nd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(f,p){switch(f){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Br.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(p.pointerId)}}function Vr(f,p,x,w,O,F){return f===null||f.nativeEvent!==F?(f={blockedOn:p,domEventName:x,eventSystemFlags:w,nativeEvent:F,targetContainers:[O]},p!==null&&(p=ns(p),p!==null&&Fi(p)),f):(f.eventSystemFlags|=w,p=f.targetContainers,O!==null&&p.indexOf(O)===-1&&p.push(O),f)}function rd(f,p,x,w,O){switch(p){case"focusin":return An=Vr(An,f,p,x,w,O),!0;case"dragenter":return Tn=Vr(Tn,f,p,x,w,O),!0;case"mouseover":return Rn=Vr(Rn,f,p,x,w,O),!0;case"pointerover":var F=O.pointerId;return Br.set(F,Vr(Br.get(F)||null,f,p,x,w,O)),!0;case"gotpointercapture":return F=O.pointerId,zr.set(F,Vr(zr.get(F)||null,f,p,x,w,O)),!0}return!1}function Qa(f){var p=Yn(f.target);if(p!==null){var x=Xn(p);if(x!==null){if(p=x.tag,p===13){if(p=$a(x),p!==null){f.blockedOn=p,Ya(f.priority,function(){Ka(x)});return}}else if(p===3&&x.stateNode.current.memoizedState.isDehydrated){f.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Ts(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var x=ji(f.domEventName,f.eventSystemFlags,p[0],f.nativeEvent);if(x===null){x=f.nativeEvent;var w=new x.constructor(x.type,x);_t=w,x.target.dispatchEvent(w),_t=null}else return p=ns(x),p!==null&&Fi(p),f.blockedOn=x,!1;p.shift()}return!0}function el(f,p,x){Ts(f)&&x.delete(p)}function sd(){Li=!1,An!==null&&Ts(An)&&(An=null),Tn!==null&&Ts(Tn)&&(Tn=null),Rn!==null&&Ts(Rn)&&(Rn=null),Br.forEach(el),zr.forEach(el)}function Ur(f,p){f.blockedOn===p&&(f.blockedOn=null,Li||(Li=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sd)))}function Hr(f){function p(O){return Ur(O,f)}if(0<As.length){Ur(As[0],f);for(var x=1;x<As.length;x++){var w=As[x];w.blockedOn===f&&(w.blockedOn=null)}}for(An!==null&&Ur(An,f),Tn!==null&&Ur(Tn,f),Rn!==null&&Ur(Rn,f),Br.forEach(p),zr.forEach(p),x=0;x<Mn.length;x++)w=Mn[x],w.blockedOn===f&&(w.blockedOn=null);for(;0<Mn.length&&(x=Mn[0],x.blockedOn===null);)Qa(x),x.blockedOn===null&&Mn.shift()}var dr=M.ReactCurrentBatchConfig,Rs=!0;function id(f,p,x,w){var O=ot,F=dr.transition;dr.transition=null;try{ot=1,$i(f,p,x,w)}finally{ot=O,dr.transition=F}}function od(f,p,x,w){var O=ot,F=dr.transition;dr.transition=null;try{ot=4,$i(f,p,x,w)}finally{ot=O,dr.transition=F}}function $i(f,p,x,w){if(Rs){var O=ji(f,p,x,w);if(O===null)no(f,p,w,Ms,x),Ja(f,w);else if(rd(O,f,p,x,w))w.stopPropagation();else if(Ja(f,w),p&4&&-1<nd.indexOf(f)){for(;O!==null;){var F=ns(O);if(F!==null&&Ga(F),F=ji(f,p,x,w),F===null&&no(f,p,w,Ms,x),F===O)break;O=F}O!==null&&w.stopPropagation()}else no(f,p,w,null,x)}}var Ms=null;function ji(f,p,x,w){if(Ms=null,f=Dt(w),f=Yn(f),f!==null)if(p=Xn(f),p===null)f=null;else if(x=p.tag,x===13){if(f=$a(p),f!==null)return f;f=null}else if(x===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null);return Ms=f,null}function tl(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zc()){case Oi:return 1;case Ha:return 4;case Ss:case Gc:return 16;case Wa:return 536870912;default:return 16}default:return 16}}var Pn=null,Bi=null,Ps=null;function nl(){if(Ps)return Ps;var f,p=Bi,x=p.length,w,O="value"in Pn?Pn.value:Pn.textContent,F=O.length;for(f=0;f<x&&p[f]===O[f];f++);var J=x-f;for(w=1;w<=J&&p[x-w]===O[F-w];w++);return Ps=O.slice(f,1<w?1-w:void 0)}function Os(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function Ns(){return!0}function rl(){return!1}function Ht(f){function p(x,w,O,F,J){this._reactName=x,this._targetInst=O,this.type=w,this.nativeEvent=F,this.target=J,this.currentTarget=null;for(var ge in f)f.hasOwnProperty(ge)&&(x=f[ge],this[ge]=x?x(F):F[ge]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Ns:rl,this.isPropagationStopped=rl,this}return ee(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),p}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Ht(fr),Wr=ee({},fr,{view:0,detail:0}),ad=Ht(Wr),Vi,Ui,qr,Ds=ee({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==qr&&(qr&&f.type==="mousemove"?(Vi=f.screenX-qr.screenX,Ui=f.screenY-qr.screenY):Ui=Vi=0,qr=f),Vi)},movementY:function(f){return"movementY"in f?f.movementY:Ui}}),sl=Ht(Ds),ld=ee({},Ds,{dataTransfer:0}),ud=Ht(ld),cd=ee({},Wr,{relatedTarget:0}),Hi=Ht(cd),dd=ee({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),fd=Ht(dd),hd=ee({},fr,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),pd=Ht(hd),gd=ee({},fr,{data:0}),il=Ht(gd),yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ed(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=bd[f])?!!p[f]:!1}function Wi(){return Ed}var vd=ee({},Wr,{key:function(f){if(f.key){var p=yd[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=Os(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?xd[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(f){return f.type==="keypress"?Os(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Os(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Sd=Ht(vd),_d=ee({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=Ht(_d),Cd=ee({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),wd=Ht(Cd),kd=ee({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ad=Ht(kd),Td=ee({},Ds,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Rd=Ht(Td),Md=[9,13,27,32],qi=h&&"CompositionEvent"in window,Zr=null;h&&"documentMode"in document&&(Zr=document.documentMode);var Pd=h&&"TextEvent"in window&&!Zr,al=h&&(!qi||Zr&&8<Zr&&11>=Zr),ll=" ",ul=!1;function cl(f,p){switch(f){case"keyup":return Md.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dl(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var pr=!1;function Od(f,p){switch(f){case"compositionend":return dl(p);case"keypress":return p.which!==32?null:(ul=!0,ll);case"textInput":return f=p.data,f===ll&&ul?null:f;default:return null}}function Nd(f,p){if(pr)return f==="compositionend"||!qi&&cl(f,p)?(f=nl(),Ps=Bi=Pn=null,pr=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return al&&p.locale!=="ko"?null:p.data;default:return null}}var Dd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fl(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!Dd[f.type]:p==="textarea"}function hl(f,p,x,w){qn(w),p=js(p,"onChange"),0<p.length&&(x=new zi("onChange","change",null,x,w),f.push({event:x,listeners:p}))}var Gr=null,Kr=null;function Id(f){Pl(f,0)}function Is(f){var p=br(f);if(j(p))return f}function Fd(f,p){if(f==="change")return p}var pl=!1;if(h){var Zi;if(h){var Gi="oninput"in document;if(!Gi){var ml=document.createElement("div");ml.setAttribute("oninput","return;"),Gi=typeof ml.oninput=="function"}Zi=Gi}else Zi=!1;pl=Zi&&(!document.documentMode||9<document.documentMode)}function gl(){Gr&&(Gr.detachEvent("onpropertychange",yl),Kr=Gr=null)}function yl(f){if(f.propertyName==="value"&&Is(Kr)){var p=[];hl(p,Kr,f,Dt(f)),cr(Id,p)}}function Ld(f,p,x){f==="focusin"?(gl(),Gr=p,Kr=x,Gr.attachEvent("onpropertychange",yl)):f==="focusout"&&gl()}function $d(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Is(Kr)}function jd(f,p){if(f==="click")return Is(p)}function Bd(f,p){if(f==="input"||f==="change")return Is(p)}function zd(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var on=typeof Object.is=="function"?Object.is:zd;function Xr(f,p){if(on(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var x=Object.keys(f),w=Object.keys(p);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var O=x[w];if(!m.call(p,O)||!on(f[O],p[O]))return!1}return!0}function xl(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function bl(f,p){var x=xl(f);f=0;for(var w;x;){if(x.nodeType===3){if(w=f+x.textContent.length,f<=p&&w>=p)return{node:x,offset:p-f};f=w}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=xl(x)}}function El(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?El(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function vl(){for(var f=window,p=V();p instanceof f.HTMLIFrameElement;){try{var x=typeof p.contentWindow.location.href=="string"}catch{x=!1}if(x)f=p.contentWindow;else break;p=V(f.document)}return p}function Ki(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function Vd(f){var p=vl(),x=f.focusedElem,w=f.selectionRange;if(p!==x&&x&&x.ownerDocument&&El(x.ownerDocument.documentElement,x)){if(w!==null&&Ki(x)){if(p=w.start,f=w.end,f===void 0&&(f=p),"selectionStart"in x)x.selectionStart=p,x.selectionEnd=Math.min(f,x.value.length);else if(f=(p=x.ownerDocument||document)&&p.defaultView||window,f.getSelection){f=f.getSelection();var O=x.textContent.length,F=Math.min(w.start,O);w=w.end===void 0?F:Math.min(w.end,O),!f.extend&&F>w&&(O=w,w=F,F=O),O=bl(x,F);var J=bl(x,w);O&&J&&(f.rangeCount!==1||f.anchorNode!==O.node||f.anchorOffset!==O.offset||f.focusNode!==J.node||f.focusOffset!==J.offset)&&(p=p.createRange(),p.setStart(O.node,O.offset),f.removeAllRanges(),F>w?(f.addRange(p),f.extend(J.node,J.offset)):(p.setEnd(J.node,J.offset),f.addRange(p)))}}for(p=[],f=x;f=f.parentNode;)f.nodeType===1&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<p.length;x++)f=p[x],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Ud=h&&"documentMode"in document&&11>=document.documentMode,mr=null,Xi=null,Yr=null,Yi=!1;function Sl(f,p,x){var w=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Yi||mr==null||mr!==V(w)||(w=mr,"selectionStart"in w&&Ki(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Yr&&Xr(Yr,w)||(Yr=w,w=js(Xi,"onSelect"),0<w.length&&(p=new zi("onSelect","select",null,p,x),f.push({event:p,listeners:w}),p.target=mr)))}function Fs(f,p){var x={};return x[f.toLowerCase()]=p.toLowerCase(),x["Webkit"+f]="webkit"+p,x["Moz"+f]="moz"+p,x}var gr={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},Ji={},_l={};h&&(_l=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ls(f){if(Ji[f])return Ji[f];if(!gr[f])return f;var p=gr[f],x;for(x in p)if(p.hasOwnProperty(x)&&x in _l)return Ji[f]=p[x];return f}var Cl=Ls("animationend"),wl=Ls("animationiteration"),kl=Ls("animationstart"),Al=Ls("transitionend"),Tl=new Map,Rl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(f,p){Tl.set(f,p),c(p,[f])}for(var Qi=0;Qi<Rl.length;Qi++){var eo=Rl[Qi],Hd=eo.toLowerCase(),Wd=eo[0].toUpperCase()+eo.slice(1);On(Hd,"on"+Wd)}On(Cl,"onAnimationEnd"),On(wl,"onAnimationIteration"),On(kl,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Al,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jr));function Ml(f,p,x){var w=f.type||"unknown-event";f.currentTarget=x,Uc(w,p,void 0,f),f.currentTarget=null}function Pl(f,p){p=(p&4)!==0;for(var x=0;x<f.length;x++){var w=f[x],O=w.event;w=w.listeners;e:{var F=void 0;if(p)for(var J=w.length-1;0<=J;J--){var ge=w[J],_e=ge.instance,Fe=ge.currentTarget;if(ge=ge.listener,_e!==F&&O.isPropagationStopped())break e;Ml(O,ge,Fe),F=_e}else for(J=0;J<w.length;J++){if(ge=w[J],_e=ge.instance,Fe=ge.currentTarget,ge=ge.listener,_e!==F&&O.isPropagationStopped())break e;Ml(O,ge,Fe),F=_e}}}if(vs)throw f=Pi,vs=!1,Pi=null,f}function ut(f,p){var x=p[lo];x===void 0&&(x=p[lo]=new Set);var w=f+"__bubble";x.has(w)||(Ol(p,f,2,!1),x.add(w))}function to(f,p,x){var w=0;p&&(w|=4),Ol(x,f,w,p)}var $s="_reactListening"+Math.random().toString(36).slice(2);function Qr(f){if(!f[$s]){f[$s]=!0,l.forEach(function(x){x!=="selectionchange"&&(qd.has(x)||to(x,!1,f),to(x,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[$s]||(p[$s]=!0,to("selectionchange",!1,p))}}function Ol(f,p,x,w){switch(tl(p)){case 1:var O=id;break;case 4:O=od;break;default:O=$i}x=O.bind(null,p,x,f),O=void 0,!At||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(O=!0),w?O!==void 0?f.addEventListener(p,x,{capture:!0,passive:O}):f.addEventListener(p,x,!0):O!==void 0?f.addEventListener(p,x,{passive:O}):f.addEventListener(p,x,!1)}function no(f,p,x,w,O){var F=w;if(!(p&1)&&!(p&2)&&w!==null)e:for(;;){if(w===null)return;var J=w.tag;if(J===3||J===4){var ge=w.stateNode.containerInfo;if(ge===O||ge.nodeType===8&&ge.parentNode===O)break;if(J===4)for(J=w.return;J!==null;){var _e=J.tag;if((_e===3||_e===4)&&(_e=J.stateNode.containerInfo,_e===O||_e.nodeType===8&&_e.parentNode===O))return;J=J.return}for(;ge!==null;){if(J=Yn(ge),J===null)return;if(_e=J.tag,_e===5||_e===6){w=F=J;continue e}ge=ge.parentNode}}w=w.return}cr(function(){var Fe=F,Be=Dt(x),Ve=[];e:{var je=Tl.get(f);if(je!==void 0){var Ze=zi,Ke=f;switch(f){case"keypress":if(Os(x)===0)break e;case"keydown":case"keyup":Ze=Sd;break;case"focusin":Ke="focus",Ze=Hi;break;case"focusout":Ke="blur",Ze=Hi;break;case"beforeblur":case"afterblur":Ze=Hi;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=wd;break;case Cl:case wl:case kl:Ze=fd;break;case Al:Ze=Ad;break;case"scroll":Ze=ad;break;case"wheel":Ze=Rd;break;case"copy":case"cut":case"paste":Ze=pd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=ol}var Xe=(p&4)!==0,bt=!Xe&&f==="scroll",Ne=Xe?je!==null?je+"Capture":null:je;Xe=[];for(var ke=Fe,De;ke!==null;){De=ke;var Ue=De.stateNode;if(De.tag===5&&Ue!==null&&(De=Ue,Ne!==null&&(Ue=nn(ke,Ne),Ue!=null&&Xe.push(es(ke,Ue,De)))),bt)break;ke=ke.return}0<Xe.length&&(je=new Ze(je,Ke,null,x,Be),Ve.push({event:je,listeners:Xe}))}}if(!(p&7)){e:{if(je=f==="mouseover"||f==="pointerover",Ze=f==="mouseout"||f==="pointerout",je&&x!==_t&&(Ke=x.relatedTarget||x.fromElement)&&(Yn(Ke)||Ke[bn]))break e;if((Ze||je)&&(je=Be.window===Be?Be:(je=Be.ownerDocument)?je.defaultView||je.parentWindow:window,Ze?(Ke=x.relatedTarget||x.toElement,Ze=Fe,Ke=Ke?Yn(Ke):null,Ke!==null&&(bt=Xn(Ke),Ke!==bt||Ke.tag!==5&&Ke.tag!==6)&&(Ke=null)):(Ze=null,Ke=Fe),Ze!==Ke)){if(Xe=sl,Ue="onMouseLeave",Ne="onMouseEnter",ke="mouse",(f==="pointerout"||f==="pointerover")&&(Xe=ol,Ue="onPointerLeave",Ne="onPointerEnter",ke="pointer"),bt=Ze==null?je:br(Ze),De=Ke==null?je:br(Ke),je=new Xe(Ue,ke+"leave",Ze,x,Be),je.target=bt,je.relatedTarget=De,Ue=null,Yn(Be)===Fe&&(Xe=new Xe(Ne,ke+"enter",Ke,x,Be),Xe.target=De,Xe.relatedTarget=bt,Ue=Xe),bt=Ue,Ze&&Ke)t:{for(Xe=Ze,Ne=Ke,ke=0,De=Xe;De;De=yr(De))ke++;for(De=0,Ue=Ne;Ue;Ue=yr(Ue))De++;for(;0<ke-De;)Xe=yr(Xe),ke--;for(;0<De-ke;)Ne=yr(Ne),De--;for(;ke--;){if(Xe===Ne||Ne!==null&&Xe===Ne.alternate)break t;Xe=yr(Xe),Ne=yr(Ne)}Xe=null}else Xe=null;Ze!==null&&Nl(Ve,je,Ze,Xe,!1),Ke!==null&&bt!==null&&Nl(Ve,bt,Ke,Xe,!0)}}e:{if(je=Fe?br(Fe):window,Ze=je.nodeName&&je.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&je.type==="file")var Je=Fd;else if(fl(je))if(pl)Je=Bd;else{Je=$d;var Qe=Ld}else(Ze=je.nodeName)&&Ze.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(Je=jd);if(Je&&(Je=Je(f,Fe))){hl(Ve,Je,x,Be);break e}Qe&&Qe(f,je,Fe),f==="focusout"&&(Qe=je._wrapperState)&&Qe.controlled&&je.type==="number"&&Ee(je,"number",je.value)}switch(Qe=Fe?br(Fe):window,f){case"focusin":(fl(Qe)||Qe.contentEditable==="true")&&(mr=Qe,Xi=Fe,Yr=null);break;case"focusout":Yr=Xi=mr=null;break;case"mousedown":Yi=!0;break;case"contextmenu":case"mouseup":case"dragend":Yi=!1,Sl(Ve,x,Be);break;case"selectionchange":if(Ud)break;case"keydown":case"keyup":Sl(Ve,x,Be)}var et;if(qi)e:{switch(f){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else pr?cl(f,x)&&(tt="onCompositionEnd"):f==="keydown"&&x.keyCode===229&&(tt="onCompositionStart");tt&&(al&&x.locale!=="ko"&&(pr||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&pr&&(et=nl()):(Pn=Be,Bi="value"in Pn?Pn.value:Pn.textContent,pr=!0)),Qe=js(Fe,tt),0<Qe.length&&(tt=new il(tt,f,null,x,Be),Ve.push({event:tt,listeners:Qe}),et?tt.data=et:(et=dl(x),et!==null&&(tt.data=et)))),(et=Pd?Od(f,x):Nd(f,x))&&(Fe=js(Fe,"onBeforeInput"),0<Fe.length&&(Be=new il("onBeforeInput","beforeinput",null,x,Be),Ve.push({event:Be,listeners:Fe}),Be.data=et))}Pl(Ve,p)})}function es(f,p,x){return{instance:f,listener:p,currentTarget:x}}function js(f,p){for(var x=p+"Capture",w=[];f!==null;){var O=f,F=O.stateNode;O.tag===5&&F!==null&&(O=F,F=nn(f,x),F!=null&&w.unshift(es(f,F,O)),F=nn(f,p),F!=null&&w.push(es(f,F,O))),f=f.return}return w}function yr(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function Nl(f,p,x,w,O){for(var F=p._reactName,J=[];x!==null&&x!==w;){var ge=x,_e=ge.alternate,Fe=ge.stateNode;if(_e!==null&&_e===w)break;ge.tag===5&&Fe!==null&&(ge=Fe,O?(_e=nn(x,F),_e!=null&&J.unshift(es(x,_e,ge))):O||(_e=nn(x,F),_e!=null&&J.push(es(x,_e,ge)))),x=x.return}J.length!==0&&f.push({event:p,listeners:J})}var Zd=/\r\n?/g,Gd=/\u0000|\uFFFD/g;function Dl(f){return(typeof f=="string"?f:""+f).replace(Zd,`
`).replace(Gd,"")}function Bs(f,p,x){if(p=Dl(p),Dl(f)!==p&&x)throw Error(a(425))}function zs(){}var ro=null,so=null;function io(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var oo=typeof setTimeout=="function"?setTimeout:void 0,Kd=typeof clearTimeout=="function"?clearTimeout:void 0,Il=typeof Promise=="function"?Promise:void 0,Xd=typeof queueMicrotask=="function"?queueMicrotask:typeof Il<"u"?function(f){return Il.resolve(null).then(f).catch(Yd)}:oo;function Yd(f){setTimeout(function(){throw f})}function ao(f,p){var x=p,w=0;do{var O=x.nextSibling;if(f.removeChild(x),O&&O.nodeType===8)if(x=O.data,x==="/$"){if(w===0){f.removeChild(O),Hr(p);return}w--}else x!=="$"&&x!=="$?"&&x!=="$!"||w++;x=O}while(x);Hr(p)}function Nn(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return f}function Fl(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var x=f.data;if(x==="$"||x==="$!"||x==="$?"){if(p===0)return f;p--}else x==="/$"&&p++}f=f.previousSibling}return null}var xr=Math.random().toString(36).slice(2),pn="__reactFiber$"+xr,ts="__reactProps$"+xr,bn="__reactContainer$"+xr,lo="__reactEvents$"+xr,Jd="__reactListeners$"+xr,Qd="__reactHandles$"+xr;function Yn(f){var p=f[pn];if(p)return p;for(var x=f.parentNode;x;){if(p=x[bn]||x[pn]){if(x=p.alternate,p.child!==null||x!==null&&x.child!==null)for(f=Fl(f);f!==null;){if(x=f[pn])return x;f=Fl(f)}return p}f=x,x=f.parentNode}return null}function ns(f){return f=f[pn]||f[bn],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function br(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(a(33))}function Vs(f){return f[ts]||null}var uo=[],Er=-1;function Dn(f){return{current:f}}function ct(f){0>Er||(f.current=uo[Er],uo[Er]=null,Er--)}function lt(f,p){Er++,uo[Er]=f.current,f.current=p}var In={},Mt=Dn(In),$t=Dn(!1),Jn=In;function vr(f,p){var x=f.type.contextTypes;if(!x)return In;var w=f.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===p)return w.__reactInternalMemoizedMaskedChildContext;var O={},F;for(F in x)O[F]=p[F];return w&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=O),O}function jt(f){return f=f.childContextTypes,f!=null}function Us(){ct($t),ct(Mt)}function Ll(f,p,x){if(Mt.current!==In)throw Error(a(168));lt(Mt,p),lt($t,x)}function $l(f,p,x){var w=f.stateNode;if(p=p.childContextTypes,typeof w.getChildContext!="function")return x;w=w.getChildContext();for(var O in w)if(!(O in p))throw Error(a(108,K(f)||"Unknown",O));return ee({},x,w)}function Hs(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||In,Jn=Mt.current,lt(Mt,f),lt($t,$t.current),!0}function jl(f,p,x){var w=f.stateNode;if(!w)throw Error(a(169));x?(f=$l(f,p,Jn),w.__reactInternalMemoizedMergedChildContext=f,ct($t),ct(Mt),lt(Mt,f)):ct($t),lt($t,x)}var En=null,Ws=!1,co=!1;function Bl(f){En===null?En=[f]:En.push(f)}function ef(f){Ws=!0,Bl(f)}function Fn(){if(!co&&En!==null){co=!0;var f=0,p=ot;try{var x=En;for(ot=1;f<x.length;f++){var w=x[f];do w=w(!0);while(w!==null)}En=null,Ws=!1}catch(O){throw En!==null&&(En=En.slice(f+1)),Va(Oi,Fn),O}finally{ot=p,co=!1}}return null}var Sr=[],_r=0,qs=null,Zs=0,Gt=[],Kt=0,Qn=null,vn=1,Sn="";function er(f,p){Sr[_r++]=Zs,Sr[_r++]=qs,qs=f,Zs=p}function zl(f,p,x){Gt[Kt++]=vn,Gt[Kt++]=Sn,Gt[Kt++]=Qn,Qn=f;var w=vn;f=Sn;var O=32-sn(w)-1;w&=~(1<<O),x+=1;var F=32-sn(p)+O;if(30<F){var J=O-O%5;F=(w&(1<<J)-1).toString(32),w>>=J,O-=J,vn=1<<32-sn(p)+O|x<<O|w,Sn=F+f}else vn=1<<F|x<<O|w,Sn=f}function fo(f){f.return!==null&&(er(f,1),zl(f,1,0))}function ho(f){for(;f===qs;)qs=Sr[--_r],Sr[_r]=null,Zs=Sr[--_r],Sr[_r]=null;for(;f===Qn;)Qn=Gt[--Kt],Gt[Kt]=null,Sn=Gt[--Kt],Gt[Kt]=null,vn=Gt[--Kt],Gt[Kt]=null}var Wt=null,qt=null,ht=!1,an=null;function Vl(f,p){var x=Qt(5,null,null,0);x.elementType="DELETED",x.stateNode=p,x.return=f,p=f.deletions,p===null?(f.deletions=[x],f.flags|=16):p.push(x)}function Ul(f,p){switch(f.tag){case 5:var x=f.type;return p=p.nodeType!==1||x.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(f.stateNode=p,Wt=f,qt=Nn(p.firstChild),!0):!1;case 6:return p=f.pendingProps===""||p.nodeType!==3?null:p,p!==null?(f.stateNode=p,Wt=f,qt=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(x=Qn!==null?{id:vn,overflow:Sn}:null,f.memoizedState={dehydrated:p,treeContext:x,retryLane:1073741824},x=Qt(18,null,null,0),x.stateNode=p,x.return=f,f.child=x,Wt=f,qt=null,!0):!1;default:return!1}}function po(f){return(f.mode&1)!==0&&(f.flags&128)===0}function mo(f){if(ht){var p=qt;if(p){var x=p;if(!Ul(f,p)){if(po(f))throw Error(a(418));p=Nn(x.nextSibling);var w=Wt;p&&Ul(f,p)?Vl(w,x):(f.flags=f.flags&-4097|2,ht=!1,Wt=f)}}else{if(po(f))throw Error(a(418));f.flags=f.flags&-4097|2,ht=!1,Wt=f}}}function Hl(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Wt=f}function Gs(f){if(f!==Wt)return!1;if(!ht)return Hl(f),ht=!0,!1;var p;if((p=f.tag!==3)&&!(p=f.tag!==5)&&(p=f.type,p=p!=="head"&&p!=="body"&&!io(f.type,f.memoizedProps)),p&&(p=qt)){if(po(f))throw Wl(),Error(a(418));for(;p;)Vl(f,p),p=Nn(p.nextSibling)}if(Hl(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8){var x=f.data;if(x==="/$"){if(p===0){qt=Nn(f.nextSibling);break e}p--}else x!=="$"&&x!=="$!"&&x!=="$?"||p++}f=f.nextSibling}qt=null}}else qt=Wt?Nn(f.stateNode.nextSibling):null;return!0}function Wl(){for(var f=qt;f;)f=Nn(f.nextSibling)}function Cr(){qt=Wt=null,ht=!1}function go(f){an===null?an=[f]:an.push(f)}var tf=M.ReactCurrentBatchConfig;function rs(f,p,x){if(f=x.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(a(309));var w=x.stateNode}if(!w)throw Error(a(147,f));var O=w,F=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===F?p.ref:(p=function(J){var ge=O.refs;J===null?delete ge[F]:ge[F]=J},p._stringRef=F,p)}if(typeof f!="string")throw Error(a(284));if(!x._owner)throw Error(a(290,f))}return f}function Ks(f,p){throw f=Object.prototype.toString.call(p),Error(a(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function ql(f){var p=f._init;return p(f._payload)}function Zl(f){function p(Ne,ke){if(f){var De=Ne.deletions;De===null?(Ne.deletions=[ke],Ne.flags|=16):De.push(ke)}}function x(Ne,ke){if(!f)return null;for(;ke!==null;)p(Ne,ke),ke=ke.sibling;return null}function w(Ne,ke){for(Ne=new Map;ke!==null;)ke.key!==null?Ne.set(ke.key,ke):Ne.set(ke.index,ke),ke=ke.sibling;return Ne}function O(Ne,ke){return Ne=Hn(Ne,ke),Ne.index=0,Ne.sibling=null,Ne}function F(Ne,ke,De){return Ne.index=De,f?(De=Ne.alternate,De!==null?(De=De.index,De<ke?(Ne.flags|=2,ke):De):(Ne.flags|=2,ke)):(Ne.flags|=1048576,ke)}function J(Ne){return f&&Ne.alternate===null&&(Ne.flags|=2),Ne}function ge(Ne,ke,De,Ue){return ke===null||ke.tag!==6?(ke=aa(De,Ne.mode,Ue),ke.return=Ne,ke):(ke=O(ke,De),ke.return=Ne,ke)}function _e(Ne,ke,De,Ue){var Je=De.type;return Je===U?Be(Ne,ke,De.props.children,Ue,De.key):ke!==null&&(ke.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===ve&&ql(Je)===ke.type)?(Ue=O(ke,De.props),Ue.ref=rs(Ne,ke,De),Ue.return=Ne,Ue):(Ue=bi(De.type,De.key,De.props,null,Ne.mode,Ue),Ue.ref=rs(Ne,ke,De),Ue.return=Ne,Ue)}function Fe(Ne,ke,De,Ue){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==De.containerInfo||ke.stateNode.implementation!==De.implementation?(ke=la(De,Ne.mode,Ue),ke.return=Ne,ke):(ke=O(ke,De.children||[]),ke.return=Ne,ke)}function Be(Ne,ke,De,Ue,Je){return ke===null||ke.tag!==7?(ke=lr(De,Ne.mode,Ue,Je),ke.return=Ne,ke):(ke=O(ke,De),ke.return=Ne,ke)}function Ve(Ne,ke,De){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=aa(""+ke,Ne.mode,De),ke.return=Ne,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case D:return De=bi(ke.type,ke.key,ke.props,null,Ne.mode,De),De.ref=rs(Ne,null,ke),De.return=Ne,De;case B:return ke=la(ke,Ne.mode,De),ke.return=Ne,ke;case ve:var Ue=ke._init;return Ve(Ne,Ue(ke._payload),De)}if(Pe(ke)||pe(ke))return ke=lr(ke,Ne.mode,De,null),ke.return=Ne,ke;Ks(Ne,ke)}return null}function je(Ne,ke,De,Ue){var Je=ke!==null?ke.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Je!==null?null:ge(Ne,ke,""+De,Ue);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case D:return De.key===Je?_e(Ne,ke,De,Ue):null;case B:return De.key===Je?Fe(Ne,ke,De,Ue):null;case ve:return Je=De._init,je(Ne,ke,Je(De._payload),Ue)}if(Pe(De)||pe(De))return Je!==null?null:Be(Ne,ke,De,Ue,null);Ks(Ne,De)}return null}function Ze(Ne,ke,De,Ue,Je){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Ne=Ne.get(De)||null,ge(ke,Ne,""+Ue,Je);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case D:return Ne=Ne.get(Ue.key===null?De:Ue.key)||null,_e(ke,Ne,Ue,Je);case B:return Ne=Ne.get(Ue.key===null?De:Ue.key)||null,Fe(ke,Ne,Ue,Je);case ve:var Qe=Ue._init;return Ze(Ne,ke,De,Qe(Ue._payload),Je)}if(Pe(Ue)||pe(Ue))return Ne=Ne.get(De)||null,Be(ke,Ne,Ue,Je,null);Ks(ke,Ue)}return null}function Ke(Ne,ke,De,Ue){for(var Je=null,Qe=null,et=ke,tt=ke=0,kt=null;et!==null&&tt<De.length;tt++){et.index>tt?(kt=et,et=null):kt=et.sibling;var st=je(Ne,et,De[tt],Ue);if(st===null){et===null&&(et=kt);break}f&&et&&st.alternate===null&&p(Ne,et),ke=F(st,ke,tt),Qe===null?Je=st:Qe.sibling=st,Qe=st,et=kt}if(tt===De.length)return x(Ne,et),ht&&er(Ne,tt),Je;if(et===null){for(;tt<De.length;tt++)et=Ve(Ne,De[tt],Ue),et!==null&&(ke=F(et,ke,tt),Qe===null?Je=et:Qe.sibling=et,Qe=et);return ht&&er(Ne,tt),Je}for(et=w(Ne,et);tt<De.length;tt++)kt=Ze(et,Ne,tt,De[tt],Ue),kt!==null&&(f&&kt.alternate!==null&&et.delete(kt.key===null?tt:kt.key),ke=F(kt,ke,tt),Qe===null?Je=kt:Qe.sibling=kt,Qe=kt);return f&&et.forEach(function(Wn){return p(Ne,Wn)}),ht&&er(Ne,tt),Je}function Xe(Ne,ke,De,Ue){var Je=pe(De);if(typeof Je!="function")throw Error(a(150));if(De=Je.call(De),De==null)throw Error(a(151));for(var Qe=Je=null,et=ke,tt=ke=0,kt=null,st=De.next();et!==null&&!st.done;tt++,st=De.next()){et.index>tt?(kt=et,et=null):kt=et.sibling;var Wn=je(Ne,et,st.value,Ue);if(Wn===null){et===null&&(et=kt);break}f&&et&&Wn.alternate===null&&p(Ne,et),ke=F(Wn,ke,tt),Qe===null?Je=Wn:Qe.sibling=Wn,Qe=Wn,et=kt}if(st.done)return x(Ne,et),ht&&er(Ne,tt),Je;if(et===null){for(;!st.done;tt++,st=De.next())st=Ve(Ne,st.value,Ue),st!==null&&(ke=F(st,ke,tt),Qe===null?Je=st:Qe.sibling=st,Qe=st);return ht&&er(Ne,tt),Je}for(et=w(Ne,et);!st.done;tt++,st=De.next())st=Ze(et,Ne,tt,st.value,Ue),st!==null&&(f&&st.alternate!==null&&et.delete(st.key===null?tt:st.key),ke=F(st,ke,tt),Qe===null?Je=st:Qe.sibling=st,Qe=st);return f&&et.forEach(function(Df){return p(Ne,Df)}),ht&&er(Ne,tt),Je}function bt(Ne,ke,De,Ue){if(typeof De=="object"&&De!==null&&De.type===U&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case D:e:{for(var Je=De.key,Qe=ke;Qe!==null;){if(Qe.key===Je){if(Je=De.type,Je===U){if(Qe.tag===7){x(Ne,Qe.sibling),ke=O(Qe,De.props.children),ke.return=Ne,Ne=ke;break e}}else if(Qe.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===ve&&ql(Je)===Qe.type){x(Ne,Qe.sibling),ke=O(Qe,De.props),ke.ref=rs(Ne,Qe,De),ke.return=Ne,Ne=ke;break e}x(Ne,Qe);break}else p(Ne,Qe);Qe=Qe.sibling}De.type===U?(ke=lr(De.props.children,Ne.mode,Ue,De.key),ke.return=Ne,Ne=ke):(Ue=bi(De.type,De.key,De.props,null,Ne.mode,Ue),Ue.ref=rs(Ne,ke,De),Ue.return=Ne,Ne=Ue)}return J(Ne);case B:e:{for(Qe=De.key;ke!==null;){if(ke.key===Qe)if(ke.tag===4&&ke.stateNode.containerInfo===De.containerInfo&&ke.stateNode.implementation===De.implementation){x(Ne,ke.sibling),ke=O(ke,De.children||[]),ke.return=Ne,Ne=ke;break e}else{x(Ne,ke);break}else p(Ne,ke);ke=ke.sibling}ke=la(De,Ne.mode,Ue),ke.return=Ne,Ne=ke}return J(Ne);case ve:return Qe=De._init,bt(Ne,ke,Qe(De._payload),Ue)}if(Pe(De))return Ke(Ne,ke,De,Ue);if(pe(De))return Xe(Ne,ke,De,Ue);Ks(Ne,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,ke!==null&&ke.tag===6?(x(Ne,ke.sibling),ke=O(ke,De),ke.return=Ne,Ne=ke):(x(Ne,ke),ke=aa(De,Ne.mode,Ue),ke.return=Ne,Ne=ke),J(Ne)):x(Ne,ke)}return bt}var wr=Zl(!0),Gl=Zl(!1),Xs=Dn(null),Ys=null,kr=null,yo=null;function xo(){yo=kr=Ys=null}function bo(f){var p=Xs.current;ct(Xs),f._currentValue=p}function Eo(f,p,x){for(;f!==null;){var w=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,w!==null&&(w.childLanes|=p)):w!==null&&(w.childLanes&p)!==p&&(w.childLanes|=p),f===x)break;f=f.return}}function Ar(f,p){Ys=f,yo=kr=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&p&&(Bt=!0),f.firstContext=null)}function Xt(f){var p=f._currentValue;if(yo!==f)if(f={context:f,memoizedValue:p,next:null},kr===null){if(Ys===null)throw Error(a(308));kr=f,Ys.dependencies={lanes:0,firstContext:f}}else kr=kr.next=f;return p}var tr=null;function vo(f){tr===null?tr=[f]:tr.push(f)}function Kl(f,p,x,w){var O=p.interleaved;return O===null?(x.next=x,vo(p)):(x.next=O.next,O.next=x),p.interleaved=x,_n(f,w)}function _n(f,p){f.lanes|=p;var x=f.alternate;for(x!==null&&(x.lanes|=p),x=f,f=f.return;f!==null;)f.childLanes|=p,x=f.alternate,x!==null&&(x.childLanes|=p),x=f,f=f.return;return x.tag===3?x.stateNode:null}var Ln=!1;function So(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xl(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Cn(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function $n(f,p,x){var w=f.updateQueue;if(w===null)return null;if(w=w.shared,rt&2){var O=w.pending;return O===null?p.next=p:(p.next=O.next,O.next=p),w.pending=p,_n(f,x)}return O=w.interleaved,O===null?(p.next=p,vo(w)):(p.next=O.next,O.next=p),w.interleaved=p,_n(f,x)}function Js(f,p,x){if(p=p.updateQueue,p!==null&&(p=p.shared,(x&4194240)!==0)){var w=p.lanes;w&=f.pendingLanes,x|=w,p.lanes=x,Ii(f,x)}}function Yl(f,p){var x=f.updateQueue,w=f.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var O=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var J={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};F===null?O=F=J:F=F.next=J,x=x.next}while(x!==null);F===null?O=F=p:F=F.next=p}else O=F=p;x={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:F,shared:w.shared,effects:w.effects},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=p:f.next=p,x.lastBaseUpdate=p}function Qs(f,p,x,w){var O=f.updateQueue;Ln=!1;var F=O.firstBaseUpdate,J=O.lastBaseUpdate,ge=O.shared.pending;if(ge!==null){O.shared.pending=null;var _e=ge,Fe=_e.next;_e.next=null,J===null?F=Fe:J.next=Fe,J=_e;var Be=f.alternate;Be!==null&&(Be=Be.updateQueue,ge=Be.lastBaseUpdate,ge!==J&&(ge===null?Be.firstBaseUpdate=Fe:ge.next=Fe,Be.lastBaseUpdate=_e))}if(F!==null){var Ve=O.baseState;J=0,Be=Fe=_e=null,ge=F;do{var je=ge.lane,Ze=ge.eventTime;if((w&je)===je){Be!==null&&(Be=Be.next={eventTime:Ze,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Ke=f,Xe=ge;switch(je=p,Ze=x,Xe.tag){case 1:if(Ke=Xe.payload,typeof Ke=="function"){Ve=Ke.call(Ze,Ve,je);break e}Ve=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Xe.payload,je=typeof Ke=="function"?Ke.call(Ze,Ve,je):Ke,je==null)break e;Ve=ee({},Ve,je);break e;case 2:Ln=!0}}ge.callback!==null&&ge.lane!==0&&(f.flags|=64,je=O.effects,je===null?O.effects=[ge]:je.push(ge))}else Ze={eventTime:Ze,lane:je,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},Be===null?(Fe=Be=Ze,_e=Ve):Be=Be.next=Ze,J|=je;if(ge=ge.next,ge===null){if(ge=O.shared.pending,ge===null)break;je=ge,ge=je.next,je.next=null,O.lastBaseUpdate=je,O.shared.pending=null}}while(!0);if(Be===null&&(_e=Ve),O.baseState=_e,O.firstBaseUpdate=Fe,O.lastBaseUpdate=Be,p=O.shared.interleaved,p!==null){O=p;do J|=O.lane,O=O.next;while(O!==p)}else F===null&&(O.shared.lanes=0);sr|=J,f.lanes=J,f.memoizedState=Ve}}function Jl(f,p,x){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var w=f[p],O=w.callback;if(O!==null){if(w.callback=null,w=x,typeof O!="function")throw Error(a(191,O));O.call(w)}}}var ss={},mn=Dn(ss),is=Dn(ss),as=Dn(ss);function nr(f){if(f===ss)throw Error(a(174));return f}function _o(f,p){switch(lt(as,p),lt(is,f),lt(mn,ss),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Me(null,"");break;default:f=f===8?p.parentNode:p,p=f.namespaceURI||null,f=f.tagName,p=Me(p,f)}ct(mn),lt(mn,p)}function Tr(){ct(mn),ct(is),ct(as)}function Ql(f){nr(as.current);var p=nr(mn.current),x=Me(p,f.type);p!==x&&(lt(is,f),lt(mn,x))}function Co(f){is.current===f&&(ct(mn),ct(is))}var pt=Dn(0);function ei(f){for(var p=f;p!==null;){if(p.tag===13){var x=p.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var wo=[];function ko(){for(var f=0;f<wo.length;f++)wo[f]._workInProgressVersionPrimary=null;wo.length=0}var ti=M.ReactCurrentDispatcher,Ao=M.ReactCurrentBatchConfig,rr=0,mt=null,vt=null,Ct=null,ni=!1,ls=!1,us=0,nf=0;function Pt(){throw Error(a(321))}function To(f,p){if(p===null)return!1;for(var x=0;x<p.length&&x<f.length;x++)if(!on(f[x],p[x]))return!1;return!0}function Ro(f,p,x,w,O,F){if(rr=F,mt=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,ti.current=f===null||f.memoizedState===null?af:lf,f=x(w,O),ls){F=0;do{if(ls=!1,us=0,25<=F)throw Error(a(301));F+=1,Ct=vt=null,p.updateQueue=null,ti.current=uf,f=x(w,O)}while(ls)}if(ti.current=ii,p=vt!==null&&vt.next!==null,rr=0,Ct=vt=mt=null,ni=!1,p)throw Error(a(300));return f}function Mo(){var f=us!==0;return us=0,f}function gn(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?mt.memoizedState=Ct=f:Ct=Ct.next=f,Ct}function Yt(){if(vt===null){var f=mt.alternate;f=f!==null?f.memoizedState:null}else f=vt.next;var p=Ct===null?mt.memoizedState:Ct.next;if(p!==null)Ct=p,vt=f;else{if(f===null)throw Error(a(310));vt=f,f={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ct===null?mt.memoizedState=Ct=f:Ct=Ct.next=f}return Ct}function cs(f,p){return typeof p=="function"?p(f):p}function Po(f){var p=Yt(),x=p.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=f;var w=vt,O=w.baseQueue,F=x.pending;if(F!==null){if(O!==null){var J=O.next;O.next=F.next,F.next=J}w.baseQueue=O=F,x.pending=null}if(O!==null){F=O.next,w=w.baseState;var ge=J=null,_e=null,Fe=F;do{var Be=Fe.lane;if((rr&Be)===Be)_e!==null&&(_e=_e.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),w=Fe.hasEagerState?Fe.eagerState:f(w,Fe.action);else{var Ve={lane:Be,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};_e===null?(ge=_e=Ve,J=w):_e=_e.next=Ve,mt.lanes|=Be,sr|=Be}Fe=Fe.next}while(Fe!==null&&Fe!==F);_e===null?J=w:_e.next=ge,on(w,p.memoizedState)||(Bt=!0),p.memoizedState=w,p.baseState=J,p.baseQueue=_e,x.lastRenderedState=w}if(f=x.interleaved,f!==null){O=f;do F=O.lane,mt.lanes|=F,sr|=F,O=O.next;while(O!==f)}else O===null&&(x.lanes=0);return[p.memoizedState,x.dispatch]}function Oo(f){var p=Yt(),x=p.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=f;var w=x.dispatch,O=x.pending,F=p.memoizedState;if(O!==null){x.pending=null;var J=O=O.next;do F=f(F,J.action),J=J.next;while(J!==O);on(F,p.memoizedState)||(Bt=!0),p.memoizedState=F,p.baseQueue===null&&(p.baseState=F),x.lastRenderedState=F}return[F,w]}function eu(){}function tu(f,p){var x=mt,w=Yt(),O=p(),F=!on(w.memoizedState,O);if(F&&(w.memoizedState=O,Bt=!0),w=w.queue,No(su.bind(null,x,w,f),[f]),w.getSnapshot!==p||F||Ct!==null&&Ct.memoizedState.tag&1){if(x.flags|=2048,ds(9,ru.bind(null,x,w,O,p),void 0,null),wt===null)throw Error(a(349));rr&30||nu(x,p,O)}return O}function nu(f,p,x){f.flags|=16384,f={getSnapshot:p,value:x},p=mt.updateQueue,p===null?(p={lastEffect:null,stores:null},mt.updateQueue=p,p.stores=[f]):(x=p.stores,x===null?p.stores=[f]:x.push(f))}function ru(f,p,x,w){p.value=x,p.getSnapshot=w,iu(p)&&ou(f)}function su(f,p,x){return x(function(){iu(p)&&ou(f)})}function iu(f){var p=f.getSnapshot;f=f.value;try{var x=p();return!on(f,x)}catch{return!0}}function ou(f){var p=_n(f,1);p!==null&&fn(p,f,1,-1)}function au(f){var p=gn();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:f},p.queue=f,f=f.dispatch=of.bind(null,mt,f),[p.memoizedState,f]}function ds(f,p,x,w){return f={tag:f,create:p,destroy:x,deps:w,next:null},p=mt.updateQueue,p===null?(p={lastEffect:null,stores:null},mt.updateQueue=p,p.lastEffect=f.next=f):(x=p.lastEffect,x===null?p.lastEffect=f.next=f:(w=x.next,x.next=f,f.next=w,p.lastEffect=f)),f}function lu(){return Yt().memoizedState}function ri(f,p,x,w){var O=gn();mt.flags|=f,O.memoizedState=ds(1|p,x,void 0,w===void 0?null:w)}function si(f,p,x,w){var O=Yt();w=w===void 0?null:w;var F=void 0;if(vt!==null){var J=vt.memoizedState;if(F=J.destroy,w!==null&&To(w,J.deps)){O.memoizedState=ds(p,x,F,w);return}}mt.flags|=f,O.memoizedState=ds(1|p,x,F,w)}function uu(f,p){return ri(8390656,8,f,p)}function No(f,p){return si(2048,8,f,p)}function cu(f,p){return si(4,2,f,p)}function du(f,p){return si(4,4,f,p)}function fu(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function hu(f,p,x){return x=x!=null?x.concat([f]):null,si(4,4,fu.bind(null,p,f),x)}function Do(){}function pu(f,p){var x=Yt();p=p===void 0?null:p;var w=x.memoizedState;return w!==null&&p!==null&&To(p,w[1])?w[0]:(x.memoizedState=[f,p],f)}function mu(f,p){var x=Yt();p=p===void 0?null:p;var w=x.memoizedState;return w!==null&&p!==null&&To(p,w[1])?w[0]:(f=f(),x.memoizedState=[f,p],f)}function gu(f,p,x){return rr&21?(on(x,p)||(x=qa(),mt.lanes|=x,sr|=x,f.baseState=!0),p):(f.baseState&&(f.baseState=!1,Bt=!0),f.memoizedState=x)}function rf(f,p){var x=ot;ot=x!==0&&4>x?x:4,f(!0);var w=Ao.transition;Ao.transition={};try{f(!1),p()}finally{ot=x,Ao.transition=w}}function yu(){return Yt().memoizedState}function sf(f,p,x){var w=Vn(f);if(x={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null},xu(f))bu(p,x);else if(x=Kl(f,p,x,w),x!==null){var O=Ft();fn(x,f,w,O),Eu(x,p,w)}}function of(f,p,x){var w=Vn(f),O={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null};if(xu(f))bu(p,O);else{var F=f.alternate;if(f.lanes===0&&(F===null||F.lanes===0)&&(F=p.lastRenderedReducer,F!==null))try{var J=p.lastRenderedState,ge=F(J,x);if(O.hasEagerState=!0,O.eagerState=ge,on(ge,J)){var _e=p.interleaved;_e===null?(O.next=O,vo(p)):(O.next=_e.next,_e.next=O),p.interleaved=O;return}}catch{}finally{}x=Kl(f,p,O,w),x!==null&&(O=Ft(),fn(x,f,w,O),Eu(x,p,w))}}function xu(f){var p=f.alternate;return f===mt||p!==null&&p===mt}function bu(f,p){ls=ni=!0;var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}function Eu(f,p,x){if(x&4194240){var w=p.lanes;w&=f.pendingLanes,x|=w,p.lanes=x,Ii(f,x)}}var ii={readContext:Xt,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},af={readContext:Xt,useCallback:function(f,p){return gn().memoizedState=[f,p===void 0?null:p],f},useContext:Xt,useEffect:uu,useImperativeHandle:function(f,p,x){return x=x!=null?x.concat([f]):null,ri(4194308,4,fu.bind(null,p,f),x)},useLayoutEffect:function(f,p){return ri(4194308,4,f,p)},useInsertionEffect:function(f,p){return ri(4,2,f,p)},useMemo:function(f,p){var x=gn();return p=p===void 0?null:p,f=f(),x.memoizedState=[f,p],f},useReducer:function(f,p,x){var w=gn();return p=x!==void 0?x(p):p,w.memoizedState=w.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},w.queue=f,f=f.dispatch=sf.bind(null,mt,f),[w.memoizedState,f]},useRef:function(f){var p=gn();return f={current:f},p.memoizedState=f},useState:au,useDebugValue:Do,useDeferredValue:function(f){return gn().memoizedState=f},useTransition:function(){var f=au(!1),p=f[0];return f=rf.bind(null,f[1]),gn().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,x){var w=mt,O=gn();if(ht){if(x===void 0)throw Error(a(407));x=x()}else{if(x=p(),wt===null)throw Error(a(349));rr&30||nu(w,p,x)}O.memoizedState=x;var F={value:x,getSnapshot:p};return O.queue=F,uu(su.bind(null,w,F,f),[f]),w.flags|=2048,ds(9,ru.bind(null,w,F,x,p),void 0,null),x},useId:function(){var f=gn(),p=wt.identifierPrefix;if(ht){var x=Sn,w=vn;x=(w&~(1<<32-sn(w)-1)).toString(32)+x,p=":"+p+"R"+x,x=us++,0<x&&(p+="H"+x.toString(32)),p+=":"}else x=nf++,p=":"+p+"r"+x.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},lf={readContext:Xt,useCallback:pu,useContext:Xt,useEffect:No,useImperativeHandle:hu,useInsertionEffect:cu,useLayoutEffect:du,useMemo:mu,useReducer:Po,useRef:lu,useState:function(){return Po(cs)},useDebugValue:Do,useDeferredValue:function(f){var p=Yt();return gu(p,vt.memoizedState,f)},useTransition:function(){var f=Po(cs)[0],p=Yt().memoizedState;return[f,p]},useMutableSource:eu,useSyncExternalStore:tu,useId:yu,unstable_isNewReconciler:!1},uf={readContext:Xt,useCallback:pu,useContext:Xt,useEffect:No,useImperativeHandle:hu,useInsertionEffect:cu,useLayoutEffect:du,useMemo:mu,useReducer:Oo,useRef:lu,useState:function(){return Oo(cs)},useDebugValue:Do,useDeferredValue:function(f){var p=Yt();return vt===null?p.memoizedState=f:gu(p,vt.memoizedState,f)},useTransition:function(){var f=Oo(cs)[0],p=Yt().memoizedState;return[f,p]},useMutableSource:eu,useSyncExternalStore:tu,useId:yu,unstable_isNewReconciler:!1};function ln(f,p){if(f&&f.defaultProps){p=ee({},p),f=f.defaultProps;for(var x in f)p[x]===void 0&&(p[x]=f[x]);return p}return p}function Io(f,p,x,w){p=f.memoizedState,x=x(w,p),x=x==null?p:ee({},p,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}var oi={isMounted:function(f){return(f=f._reactInternals)?Xn(f)===f:!1},enqueueSetState:function(f,p,x){f=f._reactInternals;var w=Ft(),O=Vn(f),F=Cn(w,O);F.payload=p,x!=null&&(F.callback=x),p=$n(f,F,O),p!==null&&(fn(p,f,O,w),Js(p,f,O))},enqueueReplaceState:function(f,p,x){f=f._reactInternals;var w=Ft(),O=Vn(f),F=Cn(w,O);F.tag=1,F.payload=p,x!=null&&(F.callback=x),p=$n(f,F,O),p!==null&&(fn(p,f,O,w),Js(p,f,O))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var x=Ft(),w=Vn(f),O=Cn(x,w);O.tag=2,p!=null&&(O.callback=p),p=$n(f,O,w),p!==null&&(fn(p,f,w,x),Js(p,f,w))}};function vu(f,p,x,w,O,F,J){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(w,F,J):p.prototype&&p.prototype.isPureReactComponent?!Xr(x,w)||!Xr(O,F):!0}function Su(f,p,x){var w=!1,O=In,F=p.contextType;return typeof F=="object"&&F!==null?F=Xt(F):(O=jt(p)?Jn:Mt.current,w=p.contextTypes,F=(w=w!=null)?vr(f,O):In),p=new p(x,F),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=oi,f.stateNode=p,p._reactInternals=f,w&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=O,f.__reactInternalMemoizedMaskedChildContext=F),p}function _u(f,p,x,w){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(x,w),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(x,w),p.state!==f&&oi.enqueueReplaceState(p,p.state,null)}function Fo(f,p,x,w){var O=f.stateNode;O.props=x,O.state=f.memoizedState,O.refs={},So(f);var F=p.contextType;typeof F=="object"&&F!==null?O.context=Xt(F):(F=jt(p)?Jn:Mt.current,O.context=vr(f,F)),O.state=f.memoizedState,F=p.getDerivedStateFromProps,typeof F=="function"&&(Io(f,p,F,x),O.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(p=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),p!==O.state&&oi.enqueueReplaceState(O,O.state,null),Qs(f,x,O,w),O.state=f.memoizedState),typeof O.componentDidMount=="function"&&(f.flags|=4194308)}function Rr(f,p){try{var x="",w=p;do x+=re(w),w=w.return;while(w);var O=x}catch(F){O=`
Error generating stack: `+F.message+`
`+F.stack}return{value:f,source:p,stack:O,digest:null}}function Lo(f,p,x){return{value:f,source:null,stack:x??null,digest:p??null}}function $o(f,p){try{console.error(p.value)}catch(x){setTimeout(function(){throw x})}}var cf=typeof WeakMap=="function"?WeakMap:Map;function Cu(f,p,x){x=Cn(-1,x),x.tag=3,x.payload={element:null};var w=p.value;return x.callback=function(){hi||(hi=!0,Qo=w),$o(f,p)},x}function wu(f,p,x){x=Cn(-1,x),x.tag=3;var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var O=p.value;x.payload=function(){return w(O)},x.callback=function(){$o(f,p)}}var F=f.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(x.callback=function(){$o(f,p),typeof w!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var J=p.stack;this.componentDidCatch(p.value,{componentStack:J!==null?J:""})}),x}function ku(f,p,x){var w=f.pingCache;if(w===null){w=f.pingCache=new cf;var O=new Set;w.set(p,O)}else O=w.get(p),O===void 0&&(O=new Set,w.set(p,O));O.has(x)||(O.add(x),f=Cf.bind(null,f,p,x),p.then(f,f))}function Au(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function Tu(f,p,x,w,O){return f.mode&1?(f.flags|=65536,f.lanes=O,f):(f===p?f.flags|=65536:(f.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(p=Cn(-1,1),p.tag=2,$n(x,p,1))),x.lanes|=1),f)}var df=M.ReactCurrentOwner,Bt=!1;function It(f,p,x,w){p.child=f===null?Gl(p,null,x,w):wr(p,f.child,x,w)}function Ru(f,p,x,w,O){x=x.render;var F=p.ref;return Ar(p,O),w=Ro(f,p,x,w,F,O),x=Mo(),f!==null&&!Bt?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~O,wn(f,p,O)):(ht&&x&&fo(p),p.flags|=1,It(f,p,w,O),p.child)}function Mu(f,p,x,w,O){if(f===null){var F=x.type;return typeof F=="function"&&!oa(F)&&F.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(p.tag=15,p.type=F,Pu(f,p,F,w,O)):(f=bi(x.type,null,w,p,p.mode,O),f.ref=p.ref,f.return=p,p.child=f)}if(F=f.child,!(f.lanes&O)){var J=F.memoizedProps;if(x=x.compare,x=x!==null?x:Xr,x(J,w)&&f.ref===p.ref)return wn(f,p,O)}return p.flags|=1,f=Hn(F,w),f.ref=p.ref,f.return=p,p.child=f}function Pu(f,p,x,w,O){if(f!==null){var F=f.memoizedProps;if(Xr(F,w)&&f.ref===p.ref)if(Bt=!1,p.pendingProps=w=F,(f.lanes&O)!==0)f.flags&131072&&(Bt=!0);else return p.lanes=f.lanes,wn(f,p,O)}return jo(f,p,x,w,O)}function Ou(f,p,x){var w=p.pendingProps,O=w.children,F=f!==null?f.memoizedState:null;if(w.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Pr,Zt),Zt|=x;else{if(!(x&1073741824))return f=F!==null?F.baseLanes|x:x,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null,transitions:null},p.updateQueue=null,lt(Pr,Zt),Zt|=f,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=F!==null?F.baseLanes:x,lt(Pr,Zt),Zt|=w}else F!==null?(w=F.baseLanes|x,p.memoizedState=null):w=x,lt(Pr,Zt),Zt|=w;return It(f,p,O,x),p.child}function Nu(f,p){var x=p.ref;(f===null&&x!==null||f!==null&&f.ref!==x)&&(p.flags|=512,p.flags|=2097152)}function jo(f,p,x,w,O){var F=jt(x)?Jn:Mt.current;return F=vr(p,F),Ar(p,O),x=Ro(f,p,x,w,F,O),w=Mo(),f!==null&&!Bt?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~O,wn(f,p,O)):(ht&&w&&fo(p),p.flags|=1,It(f,p,x,O),p.child)}function Du(f,p,x,w,O){if(jt(x)){var F=!0;Hs(p)}else F=!1;if(Ar(p,O),p.stateNode===null)li(f,p),Su(p,x,w),Fo(p,x,w,O),w=!0;else if(f===null){var J=p.stateNode,ge=p.memoizedProps;J.props=ge;var _e=J.context,Fe=x.contextType;typeof Fe=="object"&&Fe!==null?Fe=Xt(Fe):(Fe=jt(x)?Jn:Mt.current,Fe=vr(p,Fe));var Be=x.getDerivedStateFromProps,Ve=typeof Be=="function"||typeof J.getSnapshotBeforeUpdate=="function";Ve||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ge!==w||_e!==Fe)&&_u(p,J,w,Fe),Ln=!1;var je=p.memoizedState;J.state=je,Qs(p,w,J,O),_e=p.memoizedState,ge!==w||je!==_e||$t.current||Ln?(typeof Be=="function"&&(Io(p,x,Be,w),_e=p.memoizedState),(ge=Ln||vu(p,x,ge,w,je,_e,Fe))?(Ve||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(p.flags|=4194308)):(typeof J.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=w,p.memoizedState=_e),J.props=w,J.state=_e,J.context=Fe,w=ge):(typeof J.componentDidMount=="function"&&(p.flags|=4194308),w=!1)}else{J=p.stateNode,Xl(f,p),ge=p.memoizedProps,Fe=p.type===p.elementType?ge:ln(p.type,ge),J.props=Fe,Ve=p.pendingProps,je=J.context,_e=x.contextType,typeof _e=="object"&&_e!==null?_e=Xt(_e):(_e=jt(x)?Jn:Mt.current,_e=vr(p,_e));var Ze=x.getDerivedStateFromProps;(Be=typeof Ze=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ge!==Ve||je!==_e)&&_u(p,J,w,_e),Ln=!1,je=p.memoizedState,J.state=je,Qs(p,w,J,O);var Ke=p.memoizedState;ge!==Ve||je!==Ke||$t.current||Ln?(typeof Ze=="function"&&(Io(p,x,Ze,w),Ke=p.memoizedState),(Fe=Ln||vu(p,x,Fe,w,je,Ke,_e)||!1)?(Be||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(w,Ke,_e),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(w,Ke,_e)),typeof J.componentDidUpdate=="function"&&(p.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof J.componentDidUpdate!="function"||ge===f.memoizedProps&&je===f.memoizedState||(p.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ge===f.memoizedProps&&je===f.memoizedState||(p.flags|=1024),p.memoizedProps=w,p.memoizedState=Ke),J.props=w,J.state=Ke,J.context=_e,w=Fe):(typeof J.componentDidUpdate!="function"||ge===f.memoizedProps&&je===f.memoizedState||(p.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ge===f.memoizedProps&&je===f.memoizedState||(p.flags|=1024),w=!1)}return Bo(f,p,x,w,F,O)}function Bo(f,p,x,w,O,F){Nu(f,p);var J=(p.flags&128)!==0;if(!w&&!J)return O&&jl(p,x,!1),wn(f,p,F);w=p.stateNode,df.current=p;var ge=J&&typeof x.getDerivedStateFromError!="function"?null:w.render();return p.flags|=1,f!==null&&J?(p.child=wr(p,f.child,null,F),p.child=wr(p,null,ge,F)):It(f,p,ge,F),p.memoizedState=w.state,O&&jl(p,x,!0),p.child}function Iu(f){var p=f.stateNode;p.pendingContext?Ll(f,p.pendingContext,p.pendingContext!==p.context):p.context&&Ll(f,p.context,!1),_o(f,p.containerInfo)}function Fu(f,p,x,w,O){return Cr(),go(O),p.flags|=256,It(f,p,x,w),p.child}var zo={dehydrated:null,treeContext:null,retryLane:0};function Vo(f){return{baseLanes:f,cachePool:null,transitions:null}}function Lu(f,p,x){var w=p.pendingProps,O=pt.current,F=!1,J=(p.flags&128)!==0,ge;if((ge=J)||(ge=f!==null&&f.memoizedState===null?!1:(O&2)!==0),ge?(F=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(O|=1),lt(pt,O&1),f===null)return mo(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(p.mode&1?f.data==="$!"?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(J=w.children,f=w.fallback,F?(w=p.mode,F=p.child,J={mode:"hidden",children:J},!(w&1)&&F!==null?(F.childLanes=0,F.pendingProps=J):F=Ei(J,w,0,null),f=lr(f,w,x,null),F.return=p,f.return=p,F.sibling=f,p.child=F,p.child.memoizedState=Vo(x),p.memoizedState=zo,f):Uo(p,J));if(O=f.memoizedState,O!==null&&(ge=O.dehydrated,ge!==null))return ff(f,p,J,w,ge,O,x);if(F){F=w.fallback,J=p.mode,O=f.child,ge=O.sibling;var _e={mode:"hidden",children:w.children};return!(J&1)&&p.child!==O?(w=p.child,w.childLanes=0,w.pendingProps=_e,p.deletions=null):(w=Hn(O,_e),w.subtreeFlags=O.subtreeFlags&14680064),ge!==null?F=Hn(ge,F):(F=lr(F,J,x,null),F.flags|=2),F.return=p,w.return=p,w.sibling=F,p.child=w,w=F,F=p.child,J=f.child.memoizedState,J=J===null?Vo(x):{baseLanes:J.baseLanes|x,cachePool:null,transitions:J.transitions},F.memoizedState=J,F.childLanes=f.childLanes&~x,p.memoizedState=zo,w}return F=f.child,f=F.sibling,w=Hn(F,{mode:"visible",children:w.children}),!(p.mode&1)&&(w.lanes=x),w.return=p,w.sibling=null,f!==null&&(x=p.deletions,x===null?(p.deletions=[f],p.flags|=16):x.push(f)),p.child=w,p.memoizedState=null,w}function Uo(f,p){return p=Ei({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function ai(f,p,x,w){return w!==null&&go(w),wr(p,f.child,null,x),f=Uo(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function ff(f,p,x,w,O,F,J){if(x)return p.flags&256?(p.flags&=-257,w=Lo(Error(a(422))),ai(f,p,J,w)):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(F=w.fallback,O=p.mode,w=Ei({mode:"visible",children:w.children},O,0,null),F=lr(F,O,J,null),F.flags|=2,w.return=p,F.return=p,w.sibling=F,p.child=w,p.mode&1&&wr(p,f.child,null,J),p.child.memoizedState=Vo(J),p.memoizedState=zo,F);if(!(p.mode&1))return ai(f,p,J,null);if(O.data==="$!"){if(w=O.nextSibling&&O.nextSibling.dataset,w)var ge=w.dgst;return w=ge,F=Error(a(419)),w=Lo(F,w,void 0),ai(f,p,J,w)}if(ge=(J&f.childLanes)!==0,Bt||ge){if(w=wt,w!==null){switch(J&-J){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=O&(w.suspendedLanes|J)?0:O,O!==0&&O!==F.retryLane&&(F.retryLane=O,_n(f,O),fn(w,f,O,-1))}return ia(),w=Lo(Error(a(421))),ai(f,p,J,w)}return O.data==="$?"?(p.flags|=128,p.child=f.child,p=wf.bind(null,f),O._reactRetry=p,null):(f=F.treeContext,qt=Nn(O.nextSibling),Wt=p,ht=!0,an=null,f!==null&&(Gt[Kt++]=vn,Gt[Kt++]=Sn,Gt[Kt++]=Qn,vn=f.id,Sn=f.overflow,Qn=p),p=Uo(p,w.children),p.flags|=4096,p)}function $u(f,p,x){f.lanes|=p;var w=f.alternate;w!==null&&(w.lanes|=p),Eo(f.return,p,x)}function Ho(f,p,x,w,O){var F=f.memoizedState;F===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:O}:(F.isBackwards=p,F.rendering=null,F.renderingStartTime=0,F.last=w,F.tail=x,F.tailMode=O)}function ju(f,p,x){var w=p.pendingProps,O=w.revealOrder,F=w.tail;if(It(f,p,w.children,x),w=pt.current,w&2)w=w&1|2,p.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&$u(f,x,p);else if(f.tag===19)$u(f,x,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}w&=1}if(lt(pt,w),!(p.mode&1))p.memoizedState=null;else switch(O){case"forwards":for(x=p.child,O=null;x!==null;)f=x.alternate,f!==null&&ei(f)===null&&(O=x),x=x.sibling;x=O,x===null?(O=p.child,p.child=null):(O=x.sibling,x.sibling=null),Ho(p,!1,O,x,F);break;case"backwards":for(x=null,O=p.child,p.child=null;O!==null;){if(f=O.alternate,f!==null&&ei(f)===null){p.child=O;break}f=O.sibling,O.sibling=x,x=O,O=f}Ho(p,!0,x,null,F);break;case"together":Ho(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function li(f,p){!(p.mode&1)&&f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2)}function wn(f,p,x){if(f!==null&&(p.dependencies=f.dependencies),sr|=p.lanes,!(x&p.childLanes))return null;if(f!==null&&p.child!==f.child)throw Error(a(153));if(p.child!==null){for(f=p.child,x=Hn(f,f.pendingProps),p.child=x,x.return=p;f.sibling!==null;)f=f.sibling,x=x.sibling=Hn(f,f.pendingProps),x.return=p;x.sibling=null}return p.child}function hf(f,p,x){switch(p.tag){case 3:Iu(p),Cr();break;case 5:Ql(p);break;case 1:jt(p.type)&&Hs(p);break;case 4:_o(p,p.stateNode.containerInfo);break;case 10:var w=p.type._context,O=p.memoizedProps.value;lt(Xs,w._currentValue),w._currentValue=O;break;case 13:if(w=p.memoizedState,w!==null)return w.dehydrated!==null?(lt(pt,pt.current&1),p.flags|=128,null):x&p.child.childLanes?Lu(f,p,x):(lt(pt,pt.current&1),f=wn(f,p,x),f!==null?f.sibling:null);lt(pt,pt.current&1);break;case 19:if(w=(x&p.childLanes)!==0,f.flags&128){if(w)return ju(f,p,x);p.flags|=128}if(O=p.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),lt(pt,pt.current),w)break;return null;case 22:case 23:return p.lanes=0,Ou(f,p,x)}return wn(f,p,x)}var Bu,Wo,zu,Vu;Bu=function(f,p){for(var x=p.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},Wo=function(){},zu=function(f,p,x,w){var O=f.memoizedProps;if(O!==w){f=p.stateNode,nr(mn.current);var F=null;switch(x){case"input":O=Q(f,O),w=Q(f,w),F=[];break;case"select":O=ee({},O,{value:void 0}),w=ee({},w,{value:void 0}),F=[];break;case"textarea":O=W(f,O),w=W(f,w),F=[];break;default:typeof O.onClick!="function"&&typeof w.onClick=="function"&&(f.onclick=zs)}it(x,w);var J;x=null;for(Fe in O)if(!w.hasOwnProperty(Fe)&&O.hasOwnProperty(Fe)&&O[Fe]!=null)if(Fe==="style"){var ge=O[Fe];for(J in ge)ge.hasOwnProperty(J)&&(x||(x={}),x[J]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(u.hasOwnProperty(Fe)?F||(F=[]):(F=F||[]).push(Fe,null));for(Fe in w){var _e=w[Fe];if(ge=O!=null?O[Fe]:void 0,w.hasOwnProperty(Fe)&&_e!==ge&&(_e!=null||ge!=null))if(Fe==="style")if(ge){for(J in ge)!ge.hasOwnProperty(J)||_e&&_e.hasOwnProperty(J)||(x||(x={}),x[J]="");for(J in _e)_e.hasOwnProperty(J)&&ge[J]!==_e[J]&&(x||(x={}),x[J]=_e[J])}else x||(F||(F=[]),F.push(Fe,x)),x=_e;else Fe==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,ge=ge?ge.__html:void 0,_e!=null&&ge!==_e&&(F=F||[]).push(Fe,_e)):Fe==="children"?typeof _e!="string"&&typeof _e!="number"||(F=F||[]).push(Fe,""+_e):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(u.hasOwnProperty(Fe)?(_e!=null&&Fe==="onScroll"&&ut("scroll",f),F||ge===_e||(F=[])):(F=F||[]).push(Fe,_e))}x&&(F=F||[]).push("style",x);var Fe=F;(p.updateQueue=Fe)&&(p.flags|=4)}},Vu=function(f,p,x,w){x!==w&&(p.flags|=4)};function fs(f,p){if(!ht)switch(f.tailMode){case"hidden":p=f.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:w.sibling=null}}function Ot(f){var p=f.alternate!==null&&f.alternate.child===f.child,x=0,w=0;if(p)for(var O=f.child;O!==null;)x|=O.lanes|O.childLanes,w|=O.subtreeFlags&14680064,w|=O.flags&14680064,O.return=f,O=O.sibling;else for(O=f.child;O!==null;)x|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=f,O=O.sibling;return f.subtreeFlags|=w,f.childLanes=x,p}function pf(f,p,x){var w=p.pendingProps;switch(ho(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(p),null;case 1:return jt(p.type)&&Us(),Ot(p),null;case 3:return w=p.stateNode,Tr(),ct($t),ct(Mt),ko(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(Gs(p)?p.flags|=4:f===null||f.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,an!==null&&(na(an),an=null))),Wo(f,p),Ot(p),null;case 5:Co(p);var O=nr(as.current);if(x=p.type,f!==null&&p.stateNode!=null)zu(f,p,x,w,O),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!w){if(p.stateNode===null)throw Error(a(166));return Ot(p),null}if(f=nr(mn.current),Gs(p)){w=p.stateNode,x=p.type;var F=p.memoizedProps;switch(w[pn]=p,w[ts]=F,f=(p.mode&1)!==0,x){case"dialog":ut("cancel",w),ut("close",w);break;case"iframe":case"object":case"embed":ut("load",w);break;case"video":case"audio":for(O=0;O<Jr.length;O++)ut(Jr[O],w);break;case"source":ut("error",w);break;case"img":case"image":case"link":ut("error",w),ut("load",w);break;case"details":ut("toggle",w);break;case"input":se(w,F),ut("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!F.multiple},ut("invalid",w);break;case"textarea":Y(w,F),ut("invalid",w)}it(x,F),O=null;for(var J in F)if(F.hasOwnProperty(J)){var ge=F[J];J==="children"?typeof ge=="string"?w.textContent!==ge&&(F.suppressHydrationWarning!==!0&&Bs(w.textContent,ge,f),O=["children",ge]):typeof ge=="number"&&w.textContent!==""+ge&&(F.suppressHydrationWarning!==!0&&Bs(w.textContent,ge,f),O=["children",""+ge]):u.hasOwnProperty(J)&&ge!=null&&J==="onScroll"&&ut("scroll",w)}switch(x){case"input":xe(w),be(w,F,!0);break;case"textarea":xe(w),Re(w);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(w.onclick=zs)}w=O,p.updateQueue=w,w!==null&&(p.flags|=4)}else{J=O.nodeType===9?O:O.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=Oe(x)),f==="http://www.w3.org/1999/xhtml"?x==="script"?(f=J.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof w.is=="string"?f=J.createElement(x,{is:w.is}):(f=J.createElement(x),x==="select"&&(J=f,w.multiple?J.multiple=!0:w.size&&(J.size=w.size))):f=J.createElementNS(f,x),f[pn]=p,f[ts]=w,Bu(f,p,!1,!1),p.stateNode=f;e:{switch(J=at(x,w),x){case"dialog":ut("cancel",f),ut("close",f),O=w;break;case"iframe":case"object":case"embed":ut("load",f),O=w;break;case"video":case"audio":for(O=0;O<Jr.length;O++)ut(Jr[O],f);O=w;break;case"source":ut("error",f),O=w;break;case"img":case"image":case"link":ut("error",f),ut("load",f),O=w;break;case"details":ut("toggle",f),O=w;break;case"input":se(f,w),O=Q(f,w),ut("invalid",f);break;case"option":O=w;break;case"select":f._wrapperState={wasMultiple:!!w.multiple},O=ee({},w,{value:void 0}),ut("invalid",f);break;case"textarea":Y(f,w),O=W(f,w),ut("invalid",f);break;default:O=w}it(x,O),ge=O;for(F in ge)if(ge.hasOwnProperty(F)){var _e=ge[F];F==="style"?He(f,_e):F==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&qe(f,_e)):F==="children"?typeof _e=="string"?(x!=="textarea"||_e!=="")&&Ye(f,_e):typeof _e=="number"&&Ye(f,""+_e):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(u.hasOwnProperty(F)?_e!=null&&F==="onScroll"&&ut("scroll",f):_e!=null&&k(f,F,_e,J))}switch(x){case"input":xe(f),be(f,w,!1);break;case"textarea":xe(f),Re(f);break;case"option":w.value!=null&&f.setAttribute("value",""+le(w.value));break;case"select":f.multiple=!!w.multiple,F=w.value,F!=null?fe(f,!!w.multiple,F,!1):w.defaultValue!=null&&fe(f,!!w.multiple,w.defaultValue,!0);break;default:typeof O.onClick=="function"&&(f.onclick=zs)}switch(x){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Ot(p),null;case 6:if(f&&p.stateNode!=null)Vu(f,p,f.memoizedProps,w);else{if(typeof w!="string"&&p.stateNode===null)throw Error(a(166));if(x=nr(as.current),nr(mn.current),Gs(p)){if(w=p.stateNode,x=p.memoizedProps,w[pn]=p,(F=w.nodeValue!==x)&&(f=Wt,f!==null))switch(f.tag){case 3:Bs(w.nodeValue,x,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Bs(w.nodeValue,x,(f.mode&1)!==0)}F&&(p.flags|=4)}else w=(x.nodeType===9?x:x.ownerDocument).createTextNode(w),w[pn]=p,p.stateNode=w}return Ot(p),null;case 13:if(ct(pt),w=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(ht&&qt!==null&&p.mode&1&&!(p.flags&128))Wl(),Cr(),p.flags|=98560,F=!1;else if(F=Gs(p),w!==null&&w.dehydrated!==null){if(f===null){if(!F)throw Error(a(318));if(F=p.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(a(317));F[pn]=p}else Cr(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;Ot(p),F=!1}else an!==null&&(na(an),an=null),F=!0;if(!F)return p.flags&65536?p:null}return p.flags&128?(p.lanes=x,p):(w=w!==null,w!==(f!==null&&f.memoizedState!==null)&&w&&(p.child.flags|=8192,p.mode&1&&(f===null||pt.current&1?St===0&&(St=3):ia())),p.updateQueue!==null&&(p.flags|=4),Ot(p),null);case 4:return Tr(),Wo(f,p),f===null&&Qr(p.stateNode.containerInfo),Ot(p),null;case 10:return bo(p.type._context),Ot(p),null;case 17:return jt(p.type)&&Us(),Ot(p),null;case 19:if(ct(pt),F=p.memoizedState,F===null)return Ot(p),null;if(w=(p.flags&128)!==0,J=F.rendering,J===null)if(w)fs(F,!1);else{if(St!==0||f!==null&&f.flags&128)for(f=p.child;f!==null;){if(J=ei(f),J!==null){for(p.flags|=128,fs(F,!1),w=J.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),p.subtreeFlags=0,w=x,x=p.child;x!==null;)F=x,f=w,F.flags&=14680066,J=F.alternate,J===null?(F.childLanes=0,F.lanes=f,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=J.childLanes,F.lanes=J.lanes,F.child=J.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=J.memoizedProps,F.memoizedState=J.memoizedState,F.updateQueue=J.updateQueue,F.type=J.type,f=J.dependencies,F.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),x=x.sibling;return lt(pt,pt.current&1|2),p.child}f=f.sibling}F.tail!==null&&xt()>Or&&(p.flags|=128,w=!0,fs(F,!1),p.lanes=4194304)}else{if(!w)if(f=ei(J),f!==null){if(p.flags|=128,w=!0,x=f.updateQueue,x!==null&&(p.updateQueue=x,p.flags|=4),fs(F,!0),F.tail===null&&F.tailMode==="hidden"&&!J.alternate&&!ht)return Ot(p),null}else 2*xt()-F.renderingStartTime>Or&&x!==1073741824&&(p.flags|=128,w=!0,fs(F,!1),p.lanes=4194304);F.isBackwards?(J.sibling=p.child,p.child=J):(x=F.last,x!==null?x.sibling=J:p.child=J,F.last=J)}return F.tail!==null?(p=F.tail,F.rendering=p,F.tail=p.sibling,F.renderingStartTime=xt(),p.sibling=null,x=pt.current,lt(pt,w?x&1|2:x&1),p):(Ot(p),null);case 22:case 23:return sa(),w=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==w&&(p.flags|=8192),w&&p.mode&1?Zt&1073741824&&(Ot(p),p.subtreeFlags&6&&(p.flags|=8192)):Ot(p),null;case 24:return null;case 25:return null}throw Error(a(156,p.tag))}function mf(f,p){switch(ho(p),p.tag){case 1:return jt(p.type)&&Us(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Tr(),ct($t),ct(Mt),ko(),f=p.flags,f&65536&&!(f&128)?(p.flags=f&-65537|128,p):null;case 5:return Co(p),null;case 13:if(ct(pt),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(a(340));Cr()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return ct(pt),null;case 4:return Tr(),null;case 10:return bo(p.type._context),null;case 22:case 23:return sa(),null;case 24:return null;default:return null}}var ui=!1,Nt=!1,gf=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Mr(f,p){var x=f.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(w){gt(f,p,w)}else x.current=null}function qo(f,p,x){try{x()}catch(w){gt(f,p,w)}}var Uu=!1;function yf(f,p){if(ro=Rs,f=vl(),Ki(f)){if("selectionStart"in f)var x={start:f.selectionStart,end:f.selectionEnd};else e:{x=(x=f.ownerDocument)&&x.defaultView||window;var w=x.getSelection&&x.getSelection();if(w&&w.rangeCount!==0){x=w.anchorNode;var O=w.anchorOffset,F=w.focusNode;w=w.focusOffset;try{x.nodeType,F.nodeType}catch{x=null;break e}var J=0,ge=-1,_e=-1,Fe=0,Be=0,Ve=f,je=null;t:for(;;){for(var Ze;Ve!==x||O!==0&&Ve.nodeType!==3||(ge=J+O),Ve!==F||w!==0&&Ve.nodeType!==3||(_e=J+w),Ve.nodeType===3&&(J+=Ve.nodeValue.length),(Ze=Ve.firstChild)!==null;)je=Ve,Ve=Ze;for(;;){if(Ve===f)break t;if(je===x&&++Fe===O&&(ge=J),je===F&&++Be===w&&(_e=J),(Ze=Ve.nextSibling)!==null)break;Ve=je,je=Ve.parentNode}Ve=Ze}x=ge===-1||_e===-1?null:{start:ge,end:_e}}else x=null}x=x||{start:0,end:0}}else x=null;for(so={focusedElem:f,selectionRange:x},Rs=!1,Ge=p;Ge!==null;)if(p=Ge,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,Ge=f;else for(;Ge!==null;){p=Ge;try{var Ke=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Ke!==null){var Xe=Ke.memoizedProps,bt=Ke.memoizedState,Ne=p.stateNode,ke=Ne.getSnapshotBeforeUpdate(p.elementType===p.type?Xe:ln(p.type,Xe),bt);Ne.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var De=p.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Ue){gt(p,p.return,Ue)}if(f=p.sibling,f!==null){f.return=p.return,Ge=f;break}Ge=p.return}return Ke=Uu,Uu=!1,Ke}function hs(f,p,x){var w=p.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var O=w=w.next;do{if((O.tag&f)===f){var F=O.destroy;O.destroy=void 0,F!==void 0&&qo(p,x,F)}O=O.next}while(O!==w)}}function ci(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&f)===f){var w=x.create;x.destroy=w()}x=x.next}while(x!==p)}}function Zo(f){var p=f.ref;if(p!==null){var x=f.stateNode;switch(f.tag){case 5:f=x;break;default:f=x}typeof p=="function"?p(f):p.current=f}}function Hu(f){var p=f.alternate;p!==null&&(f.alternate=null,Hu(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&(delete p[pn],delete p[ts],delete p[lo],delete p[Jd],delete p[Qd])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Wu(f){return f.tag===5||f.tag===3||f.tag===4}function qu(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Wu(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Go(f,p,x){var w=f.tag;if(w===5||w===6)f=f.stateNode,p?x.nodeType===8?x.parentNode.insertBefore(f,p):x.insertBefore(f,p):(x.nodeType===8?(p=x.parentNode,p.insertBefore(f,x)):(p=x,p.appendChild(f)),x=x._reactRootContainer,x!=null||p.onclick!==null||(p.onclick=zs));else if(w!==4&&(f=f.child,f!==null))for(Go(f,p,x),f=f.sibling;f!==null;)Go(f,p,x),f=f.sibling}function Ko(f,p,x){var w=f.tag;if(w===5||w===6)f=f.stateNode,p?x.insertBefore(f,p):x.appendChild(f);else if(w!==4&&(f=f.child,f!==null))for(Ko(f,p,x),f=f.sibling;f!==null;)Ko(f,p,x),f=f.sibling}var Tt=null,un=!1;function jn(f,p,x){for(x=x.child;x!==null;)Zu(f,p,x),x=x.sibling}function Zu(f,p,x){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(_s,x)}catch{}switch(x.tag){case 5:Nt||Mr(x,p);case 6:var w=Tt,O=un;Tt=null,jn(f,p,x),Tt=w,un=O,Tt!==null&&(un?(f=Tt,x=x.stateNode,f.nodeType===8?f.parentNode.removeChild(x):f.removeChild(x)):Tt.removeChild(x.stateNode));break;case 18:Tt!==null&&(un?(f=Tt,x=x.stateNode,f.nodeType===8?ao(f.parentNode,x):f.nodeType===1&&ao(f,x),Hr(f)):ao(Tt,x.stateNode));break;case 4:w=Tt,O=un,Tt=x.stateNode.containerInfo,un=!0,jn(f,p,x),Tt=w,un=O;break;case 0:case 11:case 14:case 15:if(!Nt&&(w=x.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){O=w=w.next;do{var F=O,J=F.destroy;F=F.tag,J!==void 0&&(F&2||F&4)&&qo(x,p,J),O=O.next}while(O!==w)}jn(f,p,x);break;case 1:if(!Nt&&(Mr(x,p),w=x.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=x.memoizedProps,w.state=x.memoizedState,w.componentWillUnmount()}catch(ge){gt(x,p,ge)}jn(f,p,x);break;case 21:jn(f,p,x);break;case 22:x.mode&1?(Nt=(w=Nt)||x.memoizedState!==null,jn(f,p,x),Nt=w):jn(f,p,x);break;default:jn(f,p,x)}}function Gu(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var x=f.stateNode;x===null&&(x=f.stateNode=new gf),p.forEach(function(w){var O=kf.bind(null,f,w);x.has(w)||(x.add(w),w.then(O,O))})}}function dn(f,p){var x=p.deletions;if(x!==null)for(var w=0;w<x.length;w++){var O=x[w];try{var F=f,J=p,ge=J;e:for(;ge!==null;){switch(ge.tag){case 5:Tt=ge.stateNode,un=!1;break e;case 3:Tt=ge.stateNode.containerInfo,un=!0;break e;case 4:Tt=ge.stateNode.containerInfo,un=!0;break e}ge=ge.return}if(Tt===null)throw Error(a(160));Zu(F,J,O),Tt=null,un=!1;var _e=O.alternate;_e!==null&&(_e.return=null),O.return=null}catch(Fe){gt(O,p,Fe)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)Ku(p,f),p=p.sibling}function Ku(f,p){var x=f.alternate,w=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(dn(p,f),yn(f),w&4){try{hs(3,f,f.return),ci(3,f)}catch(Xe){gt(f,f.return,Xe)}try{hs(5,f,f.return)}catch(Xe){gt(f,f.return,Xe)}}break;case 1:dn(p,f),yn(f),w&512&&x!==null&&Mr(x,x.return);break;case 5:if(dn(p,f),yn(f),w&512&&x!==null&&Mr(x,x.return),f.flags&32){var O=f.stateNode;try{Ye(O,"")}catch(Xe){gt(f,f.return,Xe)}}if(w&4&&(O=f.stateNode,O!=null)){var F=f.memoizedProps,J=x!==null?x.memoizedProps:F,ge=f.type,_e=f.updateQueue;if(f.updateQueue=null,_e!==null)try{ge==="input"&&F.type==="radio"&&F.name!=null&&q(O,F),at(ge,J);var Fe=at(ge,F);for(J=0;J<_e.length;J+=2){var Be=_e[J],Ve=_e[J+1];Be==="style"?He(O,Ve):Be==="dangerouslySetInnerHTML"?qe(O,Ve):Be==="children"?Ye(O,Ve):k(O,Be,Ve,Fe)}switch(ge){case"input":de(O,F);break;case"textarea":me(O,F);break;case"select":var je=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!F.multiple;var Ze=F.value;Ze!=null?fe(O,!!F.multiple,Ze,!1):je!==!!F.multiple&&(F.defaultValue!=null?fe(O,!!F.multiple,F.defaultValue,!0):fe(O,!!F.multiple,F.multiple?[]:"",!1))}O[ts]=F}catch(Xe){gt(f,f.return,Xe)}}break;case 6:if(dn(p,f),yn(f),w&4){if(f.stateNode===null)throw Error(a(162));O=f.stateNode,F=f.memoizedProps;try{O.nodeValue=F}catch(Xe){gt(f,f.return,Xe)}}break;case 3:if(dn(p,f),yn(f),w&4&&x!==null&&x.memoizedState.isDehydrated)try{Hr(p.containerInfo)}catch(Xe){gt(f,f.return,Xe)}break;case 4:dn(p,f),yn(f);break;case 13:dn(p,f),yn(f),O=f.child,O.flags&8192&&(F=O.memoizedState!==null,O.stateNode.isHidden=F,!F||O.alternate!==null&&O.alternate.memoizedState!==null||(Jo=xt())),w&4&&Gu(f);break;case 22:if(Be=x!==null&&x.memoizedState!==null,f.mode&1?(Nt=(Fe=Nt)||Be,dn(p,f),Nt=Fe):dn(p,f),yn(f),w&8192){if(Fe=f.memoizedState!==null,(f.stateNode.isHidden=Fe)&&!Be&&f.mode&1)for(Ge=f,Be=f.child;Be!==null;){for(Ve=Ge=Be;Ge!==null;){switch(je=Ge,Ze=je.child,je.tag){case 0:case 11:case 14:case 15:hs(4,je,je.return);break;case 1:Mr(je,je.return);var Ke=je.stateNode;if(typeof Ke.componentWillUnmount=="function"){w=je,x=je.return;try{p=w,Ke.props=p.memoizedProps,Ke.state=p.memoizedState,Ke.componentWillUnmount()}catch(Xe){gt(w,x,Xe)}}break;case 5:Mr(je,je.return);break;case 22:if(je.memoizedState!==null){Ju(Ve);continue}}Ze!==null?(Ze.return=je,Ge=Ze):Ju(Ve)}Be=Be.sibling}e:for(Be=null,Ve=f;;){if(Ve.tag===5){if(Be===null){Be=Ve;try{O=Ve.stateNode,Fe?(F=O.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(ge=Ve.stateNode,_e=Ve.memoizedProps.style,J=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,ge.style.display=we("display",J))}catch(Xe){gt(f,f.return,Xe)}}}else if(Ve.tag===6){if(Be===null)try{Ve.stateNode.nodeValue=Fe?"":Ve.memoizedProps}catch(Xe){gt(f,f.return,Xe)}}else if((Ve.tag!==22&&Ve.tag!==23||Ve.memoizedState===null||Ve===f)&&Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===f)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===f)break e;Be===Ve&&(Be=null),Ve=Ve.return}Be===Ve&&(Be=null),Ve.sibling.return=Ve.return,Ve=Ve.sibling}}break;case 19:dn(p,f),yn(f),w&4&&Gu(f);break;case 21:break;default:dn(p,f),yn(f)}}function yn(f){var p=f.flags;if(p&2){try{e:{for(var x=f.return;x!==null;){if(Wu(x)){var w=x;break e}x=x.return}throw Error(a(160))}switch(w.tag){case 5:var O=w.stateNode;w.flags&32&&(Ye(O,""),w.flags&=-33);var F=qu(f);Ko(f,F,O);break;case 3:case 4:var J=w.stateNode.containerInfo,ge=qu(f);Go(f,ge,J);break;default:throw Error(a(161))}}catch(_e){gt(f,f.return,_e)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function xf(f,p,x){Ge=f,Xu(f)}function Xu(f,p,x){for(var w=(f.mode&1)!==0;Ge!==null;){var O=Ge,F=O.child;if(O.tag===22&&w){var J=O.memoizedState!==null||ui;if(!J){var ge=O.alternate,_e=ge!==null&&ge.memoizedState!==null||Nt;ge=ui;var Fe=Nt;if(ui=J,(Nt=_e)&&!Fe)for(Ge=O;Ge!==null;)J=Ge,_e=J.child,J.tag===22&&J.memoizedState!==null?Qu(O):_e!==null?(_e.return=J,Ge=_e):Qu(O);for(;F!==null;)Ge=F,Xu(F),F=F.sibling;Ge=O,ui=ge,Nt=Fe}Yu(f)}else O.subtreeFlags&8772&&F!==null?(F.return=O,Ge=F):Yu(f)}}function Yu(f){for(;Ge!==null;){var p=Ge;if(p.flags&8772){var x=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Nt||ci(5,p);break;case 1:var w=p.stateNode;if(p.flags&4&&!Nt)if(x===null)w.componentDidMount();else{var O=p.elementType===p.type?x.memoizedProps:ln(p.type,x.memoizedProps);w.componentDidUpdate(O,x.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var F=p.updateQueue;F!==null&&Jl(p,F,w);break;case 3:var J=p.updateQueue;if(J!==null){if(x=null,p.child!==null)switch(p.child.tag){case 5:x=p.child.stateNode;break;case 1:x=p.child.stateNode}Jl(p,J,x)}break;case 5:var ge=p.stateNode;if(x===null&&p.flags&4){x=ge;var _e=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&x.focus();break;case"img":_e.src&&(x.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Fe=p.alternate;if(Fe!==null){var Be=Fe.memoizedState;if(Be!==null){var Ve=Be.dehydrated;Ve!==null&&Hr(Ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Nt||p.flags&512&&Zo(p)}catch(je){gt(p,p.return,je)}}if(p===f){Ge=null;break}if(x=p.sibling,x!==null){x.return=p.return,Ge=x;break}Ge=p.return}}function Ju(f){for(;Ge!==null;){var p=Ge;if(p===f){Ge=null;break}var x=p.sibling;if(x!==null){x.return=p.return,Ge=x;break}Ge=p.return}}function Qu(f){for(;Ge!==null;){var p=Ge;try{switch(p.tag){case 0:case 11:case 15:var x=p.return;try{ci(4,p)}catch(_e){gt(p,x,_e)}break;case 1:var w=p.stateNode;if(typeof w.componentDidMount=="function"){var O=p.return;try{w.componentDidMount()}catch(_e){gt(p,O,_e)}}var F=p.return;try{Zo(p)}catch(_e){gt(p,F,_e)}break;case 5:var J=p.return;try{Zo(p)}catch(_e){gt(p,J,_e)}}}catch(_e){gt(p,p.return,_e)}if(p===f){Ge=null;break}var ge=p.sibling;if(ge!==null){ge.return=p.return,Ge=ge;break}Ge=p.return}}var bf=Math.ceil,di=M.ReactCurrentDispatcher,Xo=M.ReactCurrentOwner,Jt=M.ReactCurrentBatchConfig,rt=0,wt=null,Et=null,Rt=0,Zt=0,Pr=Dn(0),St=0,ps=null,sr=0,fi=0,Yo=0,ms=null,zt=null,Jo=0,Or=1/0,kn=null,hi=!1,Qo=null,Bn=null,pi=!1,zn=null,mi=0,gs=0,ea=null,gi=-1,yi=0;function Ft(){return rt&6?xt():gi!==-1?gi:gi=xt()}function Vn(f){return f.mode&1?rt&2&&Rt!==0?Rt&-Rt:tf.transition!==null?(yi===0&&(yi=qa()),yi):(f=ot,f!==0||(f=window.event,f=f===void 0?16:tl(f.type)),f):1}function fn(f,p,x,w){if(50<gs)throw gs=0,ea=null,Error(a(185));jr(f,x,w),(!(rt&2)||f!==wt)&&(f===wt&&(!(rt&2)&&(fi|=x),St===4&&Un(f,Rt)),Vt(f,w),x===1&&rt===0&&!(p.mode&1)&&(Or=xt()+500,Ws&&Fn()))}function Vt(f,p){var x=f.callbackNode;ed(f,p);var w=ks(f,f===wt?Rt:0);if(w===0)x!==null&&Ua(x),f.callbackNode=null,f.callbackPriority=0;else if(p=w&-w,f.callbackPriority!==p){if(x!=null&&Ua(x),p===1)f.tag===0?ef(tc.bind(null,f)):Bl(tc.bind(null,f)),Xd(function(){!(rt&6)&&Fn()}),x=null;else{switch(Za(w)){case 1:x=Oi;break;case 4:x=Ha;break;case 16:x=Ss;break;case 536870912:x=Wa;break;default:x=Ss}x=uc(x,ec.bind(null,f))}f.callbackPriority=p,f.callbackNode=x}}function ec(f,p){if(gi=-1,yi=0,rt&6)throw Error(a(327));var x=f.callbackNode;if(Nr()&&f.callbackNode!==x)return null;var w=ks(f,f===wt?Rt:0);if(w===0)return null;if(w&30||w&f.expiredLanes||p)p=xi(f,w);else{p=w;var O=rt;rt|=2;var F=rc();(wt!==f||Rt!==p)&&(kn=null,Or=xt()+500,or(f,p));do try{Sf();break}catch(ge){nc(f,ge)}while(!0);xo(),di.current=F,rt=O,Et!==null?p=0:(wt=null,Rt=0,p=St)}if(p!==0){if(p===2&&(O=Ni(f),O!==0&&(w=O,p=ta(f,O))),p===1)throw x=ps,or(f,0),Un(f,w),Vt(f,xt()),x;if(p===6)Un(f,w);else{if(O=f.current.alternate,!(w&30)&&!Ef(O)&&(p=xi(f,w),p===2&&(F=Ni(f),F!==0&&(w=F,p=ta(f,F))),p===1))throw x=ps,or(f,0),Un(f,w),Vt(f,xt()),x;switch(f.finishedWork=O,f.finishedLanes=w,p){case 0:case 1:throw Error(a(345));case 2:ar(f,zt,kn);break;case 3:if(Un(f,w),(w&130023424)===w&&(p=Jo+500-xt(),10<p)){if(ks(f,0)!==0)break;if(O=f.suspendedLanes,(O&w)!==w){Ft(),f.pingedLanes|=f.suspendedLanes&O;break}f.timeoutHandle=oo(ar.bind(null,f,zt,kn),p);break}ar(f,zt,kn);break;case 4:if(Un(f,w),(w&4194240)===w)break;for(p=f.eventTimes,O=-1;0<w;){var J=31-sn(w);F=1<<J,J=p[J],J>O&&(O=J),w&=~F}if(w=O,w=xt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*bf(w/1960))-w,10<w){f.timeoutHandle=oo(ar.bind(null,f,zt,kn),w);break}ar(f,zt,kn);break;case 5:ar(f,zt,kn);break;default:throw Error(a(329))}}}return Vt(f,xt()),f.callbackNode===x?ec.bind(null,f):null}function ta(f,p){var x=ms;return f.current.memoizedState.isDehydrated&&(or(f,p).flags|=256),f=xi(f,p),f!==2&&(p=zt,zt=x,p!==null&&na(p)),f}function na(f){zt===null?zt=f:zt.push.apply(zt,f)}function Ef(f){for(var p=f;;){if(p.flags&16384){var x=p.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var w=0;w<x.length;w++){var O=x[w],F=O.getSnapshot;O=O.value;try{if(!on(F(),O))return!1}catch{return!1}}}if(x=p.child,p.subtreeFlags&16384&&x!==null)x.return=p,p=x;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Un(f,p){for(p&=~Yo,p&=~fi,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var x=31-sn(p),w=1<<x;f[x]=-1,p&=~w}}function tc(f){if(rt&6)throw Error(a(327));Nr();var p=ks(f,0);if(!(p&1))return Vt(f,xt()),null;var x=xi(f,p);if(f.tag!==0&&x===2){var w=Ni(f);w!==0&&(p=w,x=ta(f,w))}if(x===1)throw x=ps,or(f,0),Un(f,p),Vt(f,xt()),x;if(x===6)throw Error(a(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,ar(f,zt,kn),Vt(f,xt()),null}function ra(f,p){var x=rt;rt|=1;try{return f(p)}finally{rt=x,rt===0&&(Or=xt()+500,Ws&&Fn())}}function ir(f){zn!==null&&zn.tag===0&&!(rt&6)&&Nr();var p=rt;rt|=1;var x=Jt.transition,w=ot;try{if(Jt.transition=null,ot=1,f)return f()}finally{ot=w,Jt.transition=x,rt=p,!(rt&6)&&Fn()}}function sa(){Zt=Pr.current,ct(Pr)}function or(f,p){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;if(x!==-1&&(f.timeoutHandle=-1,Kd(x)),Et!==null)for(x=Et.return;x!==null;){var w=x;switch(ho(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Us();break;case 3:Tr(),ct($t),ct(Mt),ko();break;case 5:Co(w);break;case 4:Tr();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:bo(w.type._context);break;case 22:case 23:sa()}x=x.return}if(wt=f,Et=f=Hn(f.current,null),Rt=Zt=p,St=0,ps=null,Yo=fi=sr=0,zt=ms=null,tr!==null){for(p=0;p<tr.length;p++)if(x=tr[p],w=x.interleaved,w!==null){x.interleaved=null;var O=w.next,F=x.pending;if(F!==null){var J=F.next;F.next=O,w.next=J}x.pending=w}tr=null}return f}function nc(f,p){do{var x=Et;try{if(xo(),ti.current=ii,ni){for(var w=mt.memoizedState;w!==null;){var O=w.queue;O!==null&&(O.pending=null),w=w.next}ni=!1}if(rr=0,Ct=vt=mt=null,ls=!1,us=0,Xo.current=null,x===null||x.return===null){St=1,ps=p,Et=null;break}e:{var F=f,J=x.return,ge=x,_e=p;if(p=Rt,ge.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Fe=_e,Be=ge,Ve=Be.tag;if(!(Be.mode&1)&&(Ve===0||Ve===11||Ve===15)){var je=Be.alternate;je?(Be.updateQueue=je.updateQueue,Be.memoizedState=je.memoizedState,Be.lanes=je.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var Ze=Au(J);if(Ze!==null){Ze.flags&=-257,Tu(Ze,J,ge,F,p),Ze.mode&1&&ku(F,Fe,p),p=Ze,_e=Fe;var Ke=p.updateQueue;if(Ke===null){var Xe=new Set;Xe.add(_e),p.updateQueue=Xe}else Ke.add(_e);break e}else{if(!(p&1)){ku(F,Fe,p),ia();break e}_e=Error(a(426))}}else if(ht&&ge.mode&1){var bt=Au(J);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),Tu(bt,J,ge,F,p),go(Rr(_e,ge));break e}}F=_e=Rr(_e,ge),St!==4&&(St=2),ms===null?ms=[F]:ms.push(F),F=J;do{switch(F.tag){case 3:F.flags|=65536,p&=-p,F.lanes|=p;var Ne=Cu(F,_e,p);Yl(F,Ne);break e;case 1:ge=_e;var ke=F.type,De=F.stateNode;if(!(F.flags&128)&&(typeof ke.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Bn===null||!Bn.has(De)))){F.flags|=65536,p&=-p,F.lanes|=p;var Ue=wu(F,ge,p);Yl(F,Ue);break e}}F=F.return}while(F!==null)}ic(x)}catch(Je){p=Je,Et===x&&x!==null&&(Et=x=x.return);continue}break}while(!0)}function rc(){var f=di.current;return di.current=ii,f===null?ii:f}function ia(){(St===0||St===3||St===2)&&(St=4),wt===null||!(sr&268435455)&&!(fi&268435455)||Un(wt,Rt)}function xi(f,p){var x=rt;rt|=2;var w=rc();(wt!==f||Rt!==p)&&(kn=null,or(f,p));do try{vf();break}catch(O){nc(f,O)}while(!0);if(xo(),rt=x,di.current=w,Et!==null)throw Error(a(261));return wt=null,Rt=0,St}function vf(){for(;Et!==null;)sc(Et)}function Sf(){for(;Et!==null&&!Wc();)sc(Et)}function sc(f){var p=lc(f.alternate,f,Zt);f.memoizedProps=f.pendingProps,p===null?ic(f):Et=p,Xo.current=null}function ic(f){var p=f;do{var x=p.alternate;if(f=p.return,p.flags&32768){if(x=mf(x,p),x!==null){x.flags&=32767,Et=x;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{St=6,Et=null;return}}else if(x=pf(x,p,Zt),x!==null){Et=x;return}if(p=p.sibling,p!==null){Et=p;return}Et=p=f}while(p!==null);St===0&&(St=5)}function ar(f,p,x){var w=ot,O=Jt.transition;try{Jt.transition=null,ot=1,_f(f,p,x,w)}finally{Jt.transition=O,ot=w}return null}function _f(f,p,x,w){do Nr();while(zn!==null);if(rt&6)throw Error(a(327));x=f.finishedWork;var O=f.finishedLanes;if(x===null)return null;if(f.finishedWork=null,f.finishedLanes=0,x===f.current)throw Error(a(177));f.callbackNode=null,f.callbackPriority=0;var F=x.lanes|x.childLanes;if(td(f,F),f===wt&&(Et=wt=null,Rt=0),!(x.subtreeFlags&2064)&&!(x.flags&2064)||pi||(pi=!0,uc(Ss,function(){return Nr(),null})),F=(x.flags&15990)!==0,x.subtreeFlags&15990||F){F=Jt.transition,Jt.transition=null;var J=ot;ot=1;var ge=rt;rt|=4,Xo.current=null,yf(f,x),Ku(x,f),Vd(so),Rs=!!ro,so=ro=null,f.current=x,xf(x),qc(),rt=ge,ot=J,Jt.transition=F}else f.current=x;if(pi&&(pi=!1,zn=f,mi=O),F=f.pendingLanes,F===0&&(Bn=null),Kc(x.stateNode),Vt(f,xt()),p!==null)for(w=f.onRecoverableError,x=0;x<p.length;x++)O=p[x],w(O.value,{componentStack:O.stack,digest:O.digest});if(hi)throw hi=!1,f=Qo,Qo=null,f;return mi&1&&f.tag!==0&&Nr(),F=f.pendingLanes,F&1?f===ea?gs++:(gs=0,ea=f):gs=0,Fn(),null}function Nr(){if(zn!==null){var f=Za(mi),p=Jt.transition,x=ot;try{if(Jt.transition=null,ot=16>f?16:f,zn===null)var w=!1;else{if(f=zn,zn=null,mi=0,rt&6)throw Error(a(331));var O=rt;for(rt|=4,Ge=f.current;Ge!==null;){var F=Ge,J=F.child;if(Ge.flags&16){var ge=F.deletions;if(ge!==null){for(var _e=0;_e<ge.length;_e++){var Fe=ge[_e];for(Ge=Fe;Ge!==null;){var Be=Ge;switch(Be.tag){case 0:case 11:case 15:hs(8,Be,F)}var Ve=Be.child;if(Ve!==null)Ve.return=Be,Ge=Ve;else for(;Ge!==null;){Be=Ge;var je=Be.sibling,Ze=Be.return;if(Hu(Be),Be===Fe){Ge=null;break}if(je!==null){je.return=Ze,Ge=je;break}Ge=Ze}}}var Ke=F.alternate;if(Ke!==null){var Xe=Ke.child;if(Xe!==null){Ke.child=null;do{var bt=Xe.sibling;Xe.sibling=null,Xe=bt}while(Xe!==null)}}Ge=F}}if(F.subtreeFlags&2064&&J!==null)J.return=F,Ge=J;else e:for(;Ge!==null;){if(F=Ge,F.flags&2048)switch(F.tag){case 0:case 11:case 15:hs(9,F,F.return)}var Ne=F.sibling;if(Ne!==null){Ne.return=F.return,Ge=Ne;break e}Ge=F.return}}var ke=f.current;for(Ge=ke;Ge!==null;){J=Ge;var De=J.child;if(J.subtreeFlags&2064&&De!==null)De.return=J,Ge=De;else e:for(J=ke;Ge!==null;){if(ge=Ge,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:ci(9,ge)}}catch(Je){gt(ge,ge.return,Je)}if(ge===J){Ge=null;break e}var Ue=ge.sibling;if(Ue!==null){Ue.return=ge.return,Ge=Ue;break e}Ge=ge.return}}if(rt=O,Fn(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(_s,f)}catch{}w=!0}return w}finally{ot=x,Jt.transition=p}}return!1}function oc(f,p,x){p=Rr(x,p),p=Cu(f,p,1),f=$n(f,p,1),p=Ft(),f!==null&&(jr(f,1,p),Vt(f,p))}function gt(f,p,x){if(f.tag===3)oc(f,f,x);else for(;p!==null;){if(p.tag===3){oc(p,f,x);break}else if(p.tag===1){var w=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Bn===null||!Bn.has(w))){f=Rr(x,f),f=wu(p,f,1),p=$n(p,f,1),f=Ft(),p!==null&&(jr(p,1,f),Vt(p,f));break}}p=p.return}}function Cf(f,p,x){var w=f.pingCache;w!==null&&w.delete(p),p=Ft(),f.pingedLanes|=f.suspendedLanes&x,wt===f&&(Rt&x)===x&&(St===4||St===3&&(Rt&130023424)===Rt&&500>xt()-Jo?or(f,0):Yo|=x),Vt(f,p)}function ac(f,p){p===0&&(f.mode&1?(p=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):p=1);var x=Ft();f=_n(f,p),f!==null&&(jr(f,p,x),Vt(f,x))}function wf(f){var p=f.memoizedState,x=0;p!==null&&(x=p.retryLane),ac(f,x)}function kf(f,p){var x=0;switch(f.tag){case 13:var w=f.stateNode,O=f.memoizedState;O!==null&&(x=O.retryLane);break;case 19:w=f.stateNode;break;default:throw Error(a(314))}w!==null&&w.delete(p),ac(f,x)}var lc;lc=function(f,p,x){if(f!==null)if(f.memoizedProps!==p.pendingProps||$t.current)Bt=!0;else{if(!(f.lanes&x)&&!(p.flags&128))return Bt=!1,hf(f,p,x);Bt=!!(f.flags&131072)}else Bt=!1,ht&&p.flags&1048576&&zl(p,Zs,p.index);switch(p.lanes=0,p.tag){case 2:var w=p.type;li(f,p),f=p.pendingProps;var O=vr(p,Mt.current);Ar(p,x),O=Ro(null,p,w,f,O,x);var F=Mo();return p.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,jt(w)?(F=!0,Hs(p)):F=!1,p.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,So(p),O.updater=oi,p.stateNode=O,O._reactInternals=p,Fo(p,w,f,x),p=Bo(null,p,w,!0,F,x)):(p.tag=0,ht&&F&&fo(p),It(null,p,O,x),p=p.child),p;case 16:w=p.elementType;e:{switch(li(f,p),f=p.pendingProps,O=w._init,w=O(w._payload),p.type=w,O=p.tag=Tf(w),f=ln(w,f),O){case 0:p=jo(null,p,w,f,x);break e;case 1:p=Du(null,p,w,f,x);break e;case 11:p=Ru(null,p,w,f,x);break e;case 14:p=Mu(null,p,w,ln(w.type,f),x);break e}throw Error(a(306,w,""))}return p;case 0:return w=p.type,O=p.pendingProps,O=p.elementType===w?O:ln(w,O),jo(f,p,w,O,x);case 1:return w=p.type,O=p.pendingProps,O=p.elementType===w?O:ln(w,O),Du(f,p,w,O,x);case 3:e:{if(Iu(p),f===null)throw Error(a(387));w=p.pendingProps,F=p.memoizedState,O=F.element,Xl(f,p),Qs(p,w,null,x);var J=p.memoizedState;if(w=J.element,F.isDehydrated)if(F={element:w,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},p.updateQueue.baseState=F,p.memoizedState=F,p.flags&256){O=Rr(Error(a(423)),p),p=Fu(f,p,w,x,O);break e}else if(w!==O){O=Rr(Error(a(424)),p),p=Fu(f,p,w,x,O);break e}else for(qt=Nn(p.stateNode.containerInfo.firstChild),Wt=p,ht=!0,an=null,x=Gl(p,null,w,x),p.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Cr(),w===O){p=wn(f,p,x);break e}It(f,p,w,x)}p=p.child}return p;case 5:return Ql(p),f===null&&mo(p),w=p.type,O=p.pendingProps,F=f!==null?f.memoizedProps:null,J=O.children,io(w,O)?J=null:F!==null&&io(w,F)&&(p.flags|=32),Nu(f,p),It(f,p,J,x),p.child;case 6:return f===null&&mo(p),null;case 13:return Lu(f,p,x);case 4:return _o(p,p.stateNode.containerInfo),w=p.pendingProps,f===null?p.child=wr(p,null,w,x):It(f,p,w,x),p.child;case 11:return w=p.type,O=p.pendingProps,O=p.elementType===w?O:ln(w,O),Ru(f,p,w,O,x);case 7:return It(f,p,p.pendingProps,x),p.child;case 8:return It(f,p,p.pendingProps.children,x),p.child;case 12:return It(f,p,p.pendingProps.children,x),p.child;case 10:e:{if(w=p.type._context,O=p.pendingProps,F=p.memoizedProps,J=O.value,lt(Xs,w._currentValue),w._currentValue=J,F!==null)if(on(F.value,J)){if(F.children===O.children&&!$t.current){p=wn(f,p,x);break e}}else for(F=p.child,F!==null&&(F.return=p);F!==null;){var ge=F.dependencies;if(ge!==null){J=F.child;for(var _e=ge.firstContext;_e!==null;){if(_e.context===w){if(F.tag===1){_e=Cn(-1,x&-x),_e.tag=2;var Fe=F.updateQueue;if(Fe!==null){Fe=Fe.shared;var Be=Fe.pending;Be===null?_e.next=_e:(_e.next=Be.next,Be.next=_e),Fe.pending=_e}}F.lanes|=x,_e=F.alternate,_e!==null&&(_e.lanes|=x),Eo(F.return,x,p),ge.lanes|=x;break}_e=_e.next}}else if(F.tag===10)J=F.type===p.type?null:F.child;else if(F.tag===18){if(J=F.return,J===null)throw Error(a(341));J.lanes|=x,ge=J.alternate,ge!==null&&(ge.lanes|=x),Eo(J,x,p),J=F.sibling}else J=F.child;if(J!==null)J.return=F;else for(J=F;J!==null;){if(J===p){J=null;break}if(F=J.sibling,F!==null){F.return=J.return,J=F;break}J=J.return}F=J}It(f,p,O.children,x),p=p.child}return p;case 9:return O=p.type,w=p.pendingProps.children,Ar(p,x),O=Xt(O),w=w(O),p.flags|=1,It(f,p,w,x),p.child;case 14:return w=p.type,O=ln(w,p.pendingProps),O=ln(w.type,O),Mu(f,p,w,O,x);case 15:return Pu(f,p,p.type,p.pendingProps,x);case 17:return w=p.type,O=p.pendingProps,O=p.elementType===w?O:ln(w,O),li(f,p),p.tag=1,jt(w)?(f=!0,Hs(p)):f=!1,Ar(p,x),Su(p,w,O),Fo(p,w,O,x),Bo(null,p,w,!0,f,x);case 19:return ju(f,p,x);case 22:return Ou(f,p,x)}throw Error(a(156,p.tag))};function uc(f,p){return Va(f,p)}function Af(f,p,x,w){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(f,p,x,w){return new Af(f,p,x,w)}function oa(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Tf(f){if(typeof f=="function")return oa(f)?1:0;if(f!=null){if(f=f.$$typeof,f===te)return 11;if(f===Te)return 14}return 2}function Hn(f,p){var x=f.alternate;return x===null?(x=Qt(f.tag,p,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=p,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&14680064,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,p=f.dependencies,x.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x}function bi(f,p,x,w,O,F){var J=2;if(w=f,typeof f=="function")oa(f)&&(J=1);else if(typeof f=="string")J=5;else e:switch(f){case U:return lr(x.children,O,F,p);case T:J=8,O|=8;break;case $:return f=Qt(12,x,p,O|2),f.elementType=$,f.lanes=F,f;case Se:return f=Qt(13,x,p,O),f.elementType=Se,f.lanes=F,f;case he:return f=Qt(19,x,p,O),f.elementType=he,f.lanes=F,f;case ce:return Ei(x,O,F,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case G:J=10;break e;case ue:J=9;break e;case te:J=11;break e;case Te:J=14;break e;case ve:J=16,w=null;break e}throw Error(a(130,f==null?f:typeof f,""))}return p=Qt(J,x,p,O),p.elementType=f,p.type=w,p.lanes=F,p}function lr(f,p,x,w){return f=Qt(7,f,w,p),f.lanes=x,f}function Ei(f,p,x,w){return f=Qt(22,f,w,p),f.elementType=ce,f.lanes=x,f.stateNode={isHidden:!1},f}function aa(f,p,x){return f=Qt(6,f,null,p),f.lanes=x,f}function la(f,p,x){return p=Qt(4,f.children!==null?f.children:[],f.key,p),p.lanes=x,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function Rf(f,p,x,w,O){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=w,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function ua(f,p,x,w,O,F,J,ge,_e){return f=new Rf(f,p,x,ge,_e),p===1?(p=1,F===!0&&(p|=8)):p=0,F=Qt(3,null,null,p),f.current=F,F.stateNode=f,F.memoizedState={element:w,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},So(F),f}function Mf(f,p,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:w==null?null:""+w,children:f,containerInfo:p,implementation:x}}function cc(f){if(!f)return In;f=f._reactInternals;e:{if(Xn(f)!==f||f.tag!==1)throw Error(a(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(jt(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(a(171))}if(f.tag===1){var x=f.type;if(jt(x))return $l(f,x,p)}return p}function dc(f,p,x,w,O,F,J,ge,_e){return f=ua(x,w,!0,f,O,F,J,ge,_e),f.context=cc(null),x=f.current,w=Ft(),O=Vn(x),F=Cn(w,O),F.callback=p??null,$n(x,F,O),f.current.lanes=O,jr(f,O,w),Vt(f,w),f}function vi(f,p,x,w){var O=p.current,F=Ft(),J=Vn(O);return x=cc(x),p.context===null?p.context=x:p.pendingContext=x,p=Cn(F,J),p.payload={element:f},w=w===void 0?null:w,w!==null&&(p.callback=w),f=$n(O,p,J),f!==null&&(fn(f,O,J,F),Js(f,O,J)),J}function Si(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function fc(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<p?x:p}}function ca(f,p){fc(f,p),(f=f.alternate)&&fc(f,p)}var hc=typeof reportError=="function"?reportError:function(f){console.error(f)};function da(f){this._internalRoot=f}_i.prototype.render=da.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(a(409));vi(f,p,null,null)},_i.prototype.unmount=da.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;ir(function(){vi(null,f,null,null)}),p[bn]=null}};function _i(f){this._internalRoot=f}_i.prototype.unstable_scheduleHydration=function(f){if(f){var p=Xa();f={blockedOn:null,target:f,priority:p};for(var x=0;x<Mn.length&&p!==0&&p<Mn[x].priority;x++);Mn.splice(x,0,f),x===0&&Qa(f)}};function fa(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function Ci(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function pc(){}function Pf(f,p,x,w,O){if(O){if(typeof w=="function"){var F=w;w=function(){var Fe=Si(J);F.call(Fe)}}var J=dc(p,w,f,0,null,!1,!1,"",pc);return f._reactRootContainer=J,f[bn]=J.current,Qr(f.nodeType===8?f.parentNode:f),ir(),J}for(;O=f.lastChild;)f.removeChild(O);if(typeof w=="function"){var ge=w;w=function(){var Fe=Si(_e);ge.call(Fe)}}var _e=ua(f,0,!1,null,null,!1,!1,"",pc);return f._reactRootContainer=_e,f[bn]=_e.current,Qr(f.nodeType===8?f.parentNode:f),ir(function(){vi(p,_e,x,w)}),_e}function wi(f,p,x,w,O){var F=x._reactRootContainer;if(F){var J=F;if(typeof O=="function"){var ge=O;O=function(){var _e=Si(J);ge.call(_e)}}vi(p,J,f,O)}else J=Pf(x,p,f,O,w);return Si(J)}Ga=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var x=$r(p.pendingLanes);x!==0&&(Ii(p,x|1),Vt(p,xt()),!(rt&6)&&(Or=xt()+500,Fn()))}break;case 13:ir(function(){var w=_n(f,1);if(w!==null){var O=Ft();fn(w,f,1,O)}}),ca(f,1)}},Fi=function(f){if(f.tag===13){var p=_n(f,134217728);if(p!==null){var x=Ft();fn(p,f,134217728,x)}ca(f,134217728)}},Ka=function(f){if(f.tag===13){var p=Vn(f),x=_n(f,p);if(x!==null){var w=Ft();fn(x,f,p,w)}ca(f,p)}},Xa=function(){return ot},Ya=function(f,p){var x=ot;try{return ot=f,p()}finally{ot=x}},Lt=function(f,p,x){switch(p){case"input":if(de(f,x),p=x.name,x.type==="radio"&&p!=null){for(x=f;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<x.length;p++){var w=x[p];if(w!==f&&w.form===f.form){var O=Vs(w);if(!O)throw Error(a(90));j(w),de(w,O)}}}break;case"textarea":me(f,x);break;case"select":p=x.value,p!=null&&fe(f,!!x.multiple,p,!1)}},Zn=ra,Gn=ir;var Of={usingClientEntryPoint:!1,Events:[ns,br,Vs,qn,yt,ra]},ys={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nf={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=Ba(f),f===null?null:f.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{_s=ki.inject(Nf),hn=ki}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Of,reactDom_production_min.createPortal=function(f,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fa(p))throw Error(a(200));return Mf(f,p,null,x)},reactDom_production_min.createRoot=function(f,p){if(!fa(f))throw Error(a(299));var x=!1,w="",O=hc;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(w=p.identifierPrefix),p.onRecoverableError!==void 0&&(O=p.onRecoverableError)),p=ua(f,1,!1,null,null,x,!1,w,O),f[bn]=p.current,Qr(f.nodeType===8?f.parentNode:f),new da(p)},reactDom_production_min.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(a(188)):(f=Object.keys(f).join(","),Error(a(268,f)));return f=Ba(p),f=f===null?null:f.stateNode,f},reactDom_production_min.flushSync=function(f){return ir(f)},reactDom_production_min.hydrate=function(f,p,x){if(!Ci(p))throw Error(a(200));return wi(null,f,p,!0,x)},reactDom_production_min.hydrateRoot=function(f,p,x){if(!fa(f))throw Error(a(405));var w=x!=null&&x.hydratedSources||null,O=!1,F="",J=hc;if(x!=null&&(x.unstable_strictMode===!0&&(O=!0),x.identifierPrefix!==void 0&&(F=x.identifierPrefix),x.onRecoverableError!==void 0&&(J=x.onRecoverableError)),p=dc(p,null,f,1,x??null,O,!1,F,J),f[bn]=p.current,Qr(f),w)for(f=0;f<w.length;f++)x=w[f],O=x._getVersion,O=O(x._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[x,O]:p.mutableSourceEagerHydrationData.push(x,O);return new _i(p)},reactDom_production_min.render=function(f,p,x){if(!Ci(p))throw Error(a(200));return wi(null,f,p,!1,x)},reactDom_production_min.unmountComponentAtNode=function(f){if(!Ci(f))throw Error(a(40));return f._reactRootContainer?(ir(function(){wi(null,null,f,!1,function(){f._reactRootContainer=null,f[bn]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=ra,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(f,p,x,w){if(!Ci(x))throw Error(a(200));if(f==null||f._reactInternals===void 0)throw Error(a(38));return wi(f,p,x,!1,w)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient();function setRef$6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$6(...t){return e=>{let a=!1;const l=t.map(u=>{const c=setRef$6(u,e);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let u=0;u<l.length;u++){const c=l[u];typeof c=="function"?c():setRef$6(t[u],null)}}}}function useComposedRefs$5(...t){return reactExports.useCallback(composeRefs$6(...t),t)}function createSlot(t){const e=createSlotClone(t),a=reactExports.forwardRef((l,u)=>{const{children:c,...d}=l,h=reactExports.Children.toArray(c),m=h.find(isSlottable$3);if(m){const g=m.props.children,y=h.map(b=>b===m?reactExports.Children.count(g)>1?reactExports.Children.only(null):reactExports.isValidElement(g)?g.props.children:null:b);return jsxRuntimeExports.jsx(e,{...d,ref:u,children:reactExports.isValidElement(g)?reactExports.cloneElement(g,void 0,y):null})}return jsxRuntimeExports.jsx(e,{...d,ref:u,children:c})});return a.displayName=`${t}.Slot`,a}var Slot$4=createSlot("Slot");function createSlotClone(t){const e=reactExports.forwardRef((a,l)=>{const{children:u,...c}=a,d=reactExports.isValidElement(u)?getElementRef$4(u):void 0,h=useComposedRefs$5(d,l);if(reactExports.isValidElement(u)){const m=mergeProps$3(c,u.props);return u.type!==reactExports.Fragment&&(m.ref=h),reactExports.cloneElement(u,m)}return reactExports.Children.count(u)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable$3(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps$3(t,e){const a={...e};for(const l in e){const u=t[l],c=e[l];/^on[A-Z]/.test(l)?u&&c?a[l]=(...h)=>{const m=c(...h);return u(...h),m}:u&&(a[l]=u):l==="style"?a[l]={...u,...c}:l==="className"&&(a[l]=[u,c].filter(Boolean).join(" "))}return{...t,...a}}function getElementRef$4(t){var l,u;let e=(l=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:l.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function r$1(t){var e,a,l="";if(typeof t=="string"||typeof t=="number")l+=t;else if(typeof t=="object")if(Array.isArray(t)){var u=t.length;for(e=0;e<u;e++)t[e]&&(a=r$1(t[e]))&&(l&&(l+=" "),l+=a)}else for(a in t)t[a]&&(l&&(l+=" "),l+=a);return l}function clsx(){for(var t,e,a=0,l="",u=arguments.length;a<u;a++)(t=arguments[a])&&(e=r$1(t))&&(l&&(l+=" "),l+=e);return l}const falsyToString=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cx=clsx,cva=(t,e)=>a=>{var l;if((e==null?void 0:e.variants)==null)return cx(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:u,defaultVariants:c}=e,d=Object.keys(u).map(g=>{const y=a==null?void 0:a[g],b=c==null?void 0:c[g];if(y===null)return null;const v=falsyToString(y)||falsyToString(b);return u[g][v]}),h=a&&Object.entries(a).reduce((g,y)=>{let[b,v]=y;return v===void 0||(g[b]=v),g},{}),m=e==null||(l=e.compoundVariants)===null||l===void 0?void 0:l.reduce((g,y)=>{let{class:b,className:v,...C}=y;return Object.entries(C).every(S=>{let[E,_]=S;return Array.isArray(_)?_.includes({...c,...h}[E]):{...c,...h}[E]===_})?[...g,b,v]:g},[]);return cx(t,d,m,a==null?void 0:a.class,a==null?void 0:a.className)},CLASS_PART_SEPARATOR="-",createClassGroupUtils=t=>{const e=createClassMap(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:l}=t;return{getClassGroupId:d=>{const h=d.split(CLASS_PART_SEPARATOR);return h[0]===""&&h.length!==1&&h.shift(),getGroupRecursive(h,e)||getGroupIdForArbitraryProperty(d)},getConflictingClassGroupIds:(d,h)=>{const m=a[d]||[];return h&&l[d]?[...m,...l[d]]:m}}},getGroupRecursive=(t,e)=>{var d;if(t.length===0)return e.classGroupId;const a=t[0],l=e.nextPart.get(a),u=l?getGroupRecursive(t.slice(1),l):void 0;if(u)return u;if(e.validators.length===0)return;const c=t.join(CLASS_PART_SEPARATOR);return(d=e.validators.find(({validator:h})=>h(c)))==null?void 0:d.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=t=>{if(arbitraryPropertyRegex.test(t)){const e=arbitraryPropertyRegex.exec(t)[1],a=e==null?void 0:e.substring(0,e.indexOf(":"));if(a)return"arbitrary.."+a}},createClassMap=t=>{const{theme:e,prefix:a}=t,l={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(t.classGroups),a).forEach(([c,d])=>{processClassesRecursively(d,l,c,e)}),l},processClassesRecursively=(t,e,a,l)=>{t.forEach(u=>{if(typeof u=="string"){const c=u===""?e:getPart(e,u);c.classGroupId=a;return}if(typeof u=="function"){if(isThemeGetter(u)){processClassesRecursively(u(l),e,a,l);return}e.validators.push({validator:u,classGroupId:a});return}Object.entries(u).forEach(([c,d])=>{processClassesRecursively(d,getPart(e,c),a,l)})})},getPart=(t,e)=>{let a=t;return e.split(CLASS_PART_SEPARATOR).forEach(l=>{a.nextPart.has(l)||a.nextPart.set(l,{nextPart:new Map,validators:[]}),a=a.nextPart.get(l)}),a},isThemeGetter=t=>t.isThemeGetter,getPrefixedClassGroupEntries=(t,e)=>e?t.map(([a,l])=>{const u=l.map(c=>typeof c=="string"?e+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,h])=>[e+d,h])):c);return[a,u]}):t,createLruCache=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,a=new Map,l=new Map;const u=(c,d)=>{a.set(c,d),e++,e>t&&(e=0,l=a,a=new Map)};return{get(c){let d=a.get(c);if(d!==void 0)return d;if((d=l.get(c))!==void 0)return u(c,d),d},set(c,d){a.has(c)?a.set(c,d):u(c,d)}}},IMPORTANT_MODIFIER="!",createParseClassName=t=>{const{separator:e,experimentalParseClassName:a}=t,l=e.length===1,u=e[0],c=e.length,d=h=>{const m=[];let g=0,y=0,b;for(let _=0;_<h.length;_++){let A=h[_];if(g===0){if(A===u&&(l||h.slice(_,_+c)===e)){m.push(h.slice(y,_)),y=_+c;continue}if(A==="/"){b=_;continue}}A==="["?g++:A==="]"&&g--}const v=m.length===0?h:h.substring(y),C=v.startsWith(IMPORTANT_MODIFIER),S=C?v.substring(1):v,E=b&&b>y?b-y:void 0;return{modifiers:m,hasImportantModifier:C,baseClassName:S,maybePostfixModifierPosition:E}};return a?h=>a({className:h,parseClassName:d}):d},sortModifiers=t=>{if(t.length<=1)return t;const e=[];let a=[];return t.forEach(l=>{l[0]==="["?(e.push(...a.sort(),l),a=[]):a.push(l)}),e.push(...a.sort()),e},createConfigUtils=t=>({cache:createLruCache(t.cacheSize),parseClassName:createParseClassName(t),...createClassGroupUtils(t)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(t,e)=>{const{parseClassName:a,getClassGroupId:l,getConflictingClassGroupIds:u}=e,c=[],d=t.trim().split(SPLIT_CLASSES_REGEX);let h="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{modifiers:y,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:C}=a(g);let S=!!C,E=l(S?v.substring(0,C):v);if(!E){if(!S){h=g+(h.length>0?" "+h:h);continue}if(E=l(v),!E){h=g+(h.length>0?" "+h:h);continue}S=!1}const _=sortModifiers(y).join(":"),A=b?_+IMPORTANT_MODIFIER:_,R=A+E;if(c.includes(R))continue;c.push(R);const k=u(E,S);for(let M=0;M<k.length;++M){const D=k[M];c.push(A+D)}h=g+(h.length>0?" "+h:h)}return h};function twJoin(){let t=0,e,a,l="";for(;t<arguments.length;)(e=arguments[t++])&&(a=toValue(e))&&(l&&(l+=" "),l+=a);return l}const toValue=t=>{if(typeof t=="string")return t;let e,a="";for(let l=0;l<t.length;l++)t[l]&&(e=toValue(t[l]))&&(a&&(a+=" "),a+=e);return a};function createTailwindMerge(t,...e){let a,l,u,c=d;function d(m){const g=e.reduce((y,b)=>b(y),t());return a=createConfigUtils(g),l=a.cache.get,u=a.cache.set,c=h,h(m)}function h(m){const g=l(m);if(g)return g;const y=mergeClassList(m,a);return u(m,y),y}return function(){return c(twJoin.apply(null,arguments))}}const fromTheme=t=>{const e=a=>a[t]||[];return e.isThemeGetter=!0,e},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=t=>isNumber$3(t)||stringLengths.has(t)||fractionRegex.test(t),isArbitraryLength=t=>getIsArbitraryValue(t,"length",isLengthOnly),isNumber$3=t=>!!t&&!Number.isNaN(Number(t)),isArbitraryNumber=t=>getIsArbitraryValue(t,"number",isNumber$3),isInteger=t=>!!t&&Number.isInteger(Number(t)),isPercent=t=>t.endsWith("%")&&isNumber$3(t.slice(0,-1)),isArbitraryValue=t=>arbitraryValueRegex.test(t),isTshirtSize=t=>tshirtUnitRegex.test(t),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=t=>getIsArbitraryValue(t,sizeLabels,isNever),isArbitraryPosition=t=>getIsArbitraryValue(t,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=t=>getIsArbitraryValue(t,imageLabels,isImage),isArbitraryShadow=t=>getIsArbitraryValue(t,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(t,e,a)=>{const l=arbitraryValueRegex.exec(t);return l?l[1]?typeof e=="string"?l[1]===e:e.has(l[1]):a(l[2]):!1},isLengthOnly=t=>lengthUnitRegex.test(t)&&!colorFunctionRegex.test(t),isNever=()=>!1,isShadow=t=>shadowRegex.test(t),isImage=t=>imageRegex.test(t),getDefaultConfig=()=>{const t=fromTheme("colors"),e=fromTheme("spacing"),a=fromTheme("blur"),l=fromTheme("brightness"),u=fromTheme("borderColor"),c=fromTheme("borderRadius"),d=fromTheme("borderSpacing"),h=fromTheme("borderWidth"),m=fromTheme("contrast"),g=fromTheme("grayscale"),y=fromTheme("hueRotate"),b=fromTheme("invert"),v=fromTheme("gap"),C=fromTheme("gradientColorStops"),S=fromTheme("gradientColorStopPositions"),E=fromTheme("inset"),_=fromTheme("margin"),A=fromTheme("opacity"),R=fromTheme("padding"),k=fromTheme("saturate"),M=fromTheme("scale"),D=fromTheme("sepia"),B=fromTheme("skew"),U=fromTheme("space"),T=fromTheme("translate"),$=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],ue=()=>["auto",isArbitraryValue,e],te=()=>[isArbitraryValue,e],Se=()=>["",isLength,isArbitraryLength],he=()=>["auto",isNumber$3,isArbitraryValue],Te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ve=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>["start","end","center","between","around","evenly","stretch"],pe=()=>["","0",isArbitraryValue],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>[isNumber$3,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:N(),borderColor:[t],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:te(),borderWidth:Se(),contrast:N(),grayscale:pe(),hueRotate:N(),invert:pe(),gap:te(),gradientColorStops:[t],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:ue(),margin:ue(),opacity:N(),padding:te(),saturate:N(),scale:N(),sepia:pe(),skew:N(),space:te(),translate:te()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Te(),isArbitraryValue]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:ue()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:pe()}],shrink:[{shrink:pe()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...ae()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ae(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ae(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,e]}],"min-w":[{"min-w":[isArbitraryValue,e,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,e,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$3,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:te()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Te(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...ve(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:ve()}],"border-color":[{border:[u]}],"border-color-x":[{"border-x":[u]}],"border-color-y":[{"border-y":[u]}],"border-color-s":[{"border-s":[u]}],"border-color-e":[{"border-e":[u]}],"border-color-t":[{"border-t":[u]}],"border-color-r":[{"border-r":[u]}],"border-color-b":[{"border-b":[u]}],"border-color-l":[{"border-l":[u]}],"divide-color":[{divide:[u]}],"outline-style":[{outline:["",...ve()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[l]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[b]}],saturate:[{saturate:[k]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[l]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:N()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:N()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":te()}],"scroll-mx":[{"scroll-mx":te()}],"scroll-my":[{"scroll-my":te()}],"scroll-ms":[{"scroll-ms":te()}],"scroll-me":[{"scroll-me":te()}],"scroll-mt":[{"scroll-mt":te()}],"scroll-mr":[{"scroll-mr":te()}],"scroll-mb":[{"scroll-mb":te()}],"scroll-ml":[{"scroll-ml":te()}],"scroll-p":[{"scroll-p":te()}],"scroll-px":[{"scroll-px":te()}],"scroll-py":[{"scroll-py":te()}],"scroll-ps":[{"scroll-ps":te()}],"scroll-pe":[{"scroll-pe":te()}],"scroll-pt":[{"scroll-pt":te()}],"scroll-pr":[{"scroll-pr":te()}],"scroll-pb":[{"scroll-pb":te()}],"scroll-pl":[{"scroll-pl":te()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...t){return twMerge(clsx(t))}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:t,variant:e,size:a,asChild:l=!1,...u},c)=>{const d=l?Slot$4:"button";return jsxRuntimeExports.jsx(d,{className:cn(buttonVariants({variant:e,size:a,className:t})),ref:c,...u})});Button.displayName="Button";const Card=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("flex flex-col space-y-1.5 p-6",t),...e}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("font-semibold leading-none tracking-tight",t),...e}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("text-sm text-muted-foreground",t),...e}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("p-6 pt-0",t),...e}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("flex items-center p-6 pt-0",t),...e}));CardFooter.displayName="CardFooter";var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs$1(reactDomExports);var NODES$5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$5=NODES$5.reduce((t,e)=>{const a=createSlot(`Primitive.${e}`),l=reactExports.forwardRef((u,c)=>{const{asChild:d,...h}=u,m=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...h,ref:c})});return l.displayName=`Primitive.${e}`,{...t,[e]:l}},{}),NAME$4="Label",Label$3=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Primitive$5.label,{...t,ref:e,onMouseDown:a=>{var u;a.target.closest("button, input, select, textarea")||((u=t.onMouseDown)==null||u.call(t,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Label$3.displayName=NAME$4;var Root$4=Label$3;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$2=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(Root$4,{ref:a,className:cn(labelVariants(),t),...e}));Label$2.displayName=Root$4.displayName;const Input=reactExports.forwardRef(({className:t,type:e,...a},l)=>jsxRuntimeExports.jsx("input",{type:e,className:cn("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:l,...a}));Input.displayName="Input";function clamp$1(t,[e,a]){return Math.min(a,Math.max(e,t))}function composeEventHandlers$4(t,e,{checkForDefaultPrevented:a=!0}={}){return function(u){if(t==null||t(u),a===!1||!u.defaultPrevented)return e==null?void 0:e(u)}}function createContextScope$4(t,e=[]){let a=[];function l(c,d){const h=reactExports.createContext(d),m=a.length;a=[...a,d];const g=b=>{var A;const{scope:v,children:C,...S}=b,E=((A=v==null?void 0:v[t])==null?void 0:A[m])||h,_=reactExports.useMemo(()=>S,Object.values(S));return jsxRuntimeExports.jsx(E.Provider,{value:_,children:C})};g.displayName=c+"Provider";function y(b,v){var E;const C=((E=v==null?void 0:v[t])==null?void 0:E[m])||h,S=reactExports.useContext(C);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[g,y]}const u=()=>{const c=a.map(d=>reactExports.createContext(d));return function(h){const m=(h==null?void 0:h[t])||c;return reactExports.useMemo(()=>({[`__scope${t}`]:{...h,[t]:m}}),[h,m])}};return u.scopeName=t,[l,composeContextScopes$4(u,...e)]}function composeContextScopes$4(...t){const e=t[0];if(t.length===1)return e;const a=()=>{const l=t.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(c){const d=l.reduce((h,{useScope:m,scopeName:g})=>{const b=m(c)[`__scope${g}`];return{...h,...b}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return a.scopeName=e.scopeName,a}function setRef$5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$5(...t){return e=>{let a=!1;const l=t.map(u=>{const c=setRef$5(u,e);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let u=0;u<l.length;u++){const c=l[u];typeof c=="function"?c():setRef$5(t[u],null)}}}}function useComposedRefs$4(...t){return reactExports.useCallback(composeRefs$5(...t),t)}var Slot$3=reactExports.forwardRef((t,e)=>{const{children:a,...l}=t,u=reactExports.Children.toArray(a),c=u.find(isSlottable$2);if(c){const d=c.props.children,h=u.map(m=>m===c?reactExports.Children.count(d)>1?reactExports.Children.only(null):reactExports.isValidElement(d)?d.props.children:null:m);return jsxRuntimeExports.jsx(SlotClone$2,{...l,ref:e,children:reactExports.isValidElement(d)?reactExports.cloneElement(d,void 0,h):null})}return jsxRuntimeExports.jsx(SlotClone$2,{...l,ref:e,children:a})});Slot$3.displayName="Slot";var SlotClone$2=reactExports.forwardRef((t,e)=>{const{children:a,...l}=t;if(reactExports.isValidElement(a)){const u=getElementRef$3(a);return reactExports.cloneElement(a,{...mergeProps$2(l,a.props),ref:e?composeRefs$5(e,u):u})}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});SlotClone$2.displayName="SlotClone";var Slottable$2=({children:t})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t});function isSlottable$2(t){return reactExports.isValidElement(t)&&t.type===Slottable$2}function mergeProps$2(t,e){const a={...e};for(const l in e){const u=t[l],c=e[l];/^on[A-Z]/.test(l)?u&&c?a[l]=(...h)=>{c(...h),u(...h)}:u&&(a[l]=u):l==="style"?a[l]={...u,...c}:l==="className"&&(a[l]=[u,c].filter(Boolean).join(" "))}return{...t,...a}}function getElementRef$3(t){var l,u;let e=(l=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:l.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function createCollection$3(t){const e=t+"CollectionProvider",[a,l]=createContextScope$4(e),[u,c]=a(e,{collectionRef:{current:null},itemMap:new Map}),d=C=>{const{scope:S,children:E}=C,_=React2.useRef(null),A=React2.useRef(new Map).current;return jsxRuntimeExports.jsx(u,{scope:S,itemMap:A,collectionRef:_,children:E})};d.displayName=e;const h=t+"CollectionSlot",m=React2.forwardRef((C,S)=>{const{scope:E,children:_}=C,A=c(h,E),R=useComposedRefs$4(S,A.collectionRef);return jsxRuntimeExports.jsx(Slot$3,{ref:R,children:_})});m.displayName=h;const g=t+"CollectionItemSlot",y="data-radix-collection-item",b=React2.forwardRef((C,S)=>{const{scope:E,children:_,...A}=C,R=React2.useRef(null),k=useComposedRefs$4(S,R),M=c(g,E);return React2.useEffect(()=>(M.itemMap.set(R,{ref:R,...A}),()=>void M.itemMap.delete(R))),jsxRuntimeExports.jsx(Slot$3,{[y]:"",ref:k,children:_})});b.displayName=g;function v(C){const S=c(t+"CollectionConsumer",C);return React2.useCallback(()=>{const _=S.collectionRef.current;if(!_)return[];const A=Array.from(_.querySelectorAll(`[${y}]`));return Array.from(S.itemMap.values()).sort((M,D)=>A.indexOf(M.ref.current)-A.indexOf(D.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:d,Slot:m,ItemSlot:b},v,l]}var DirectionContext$2=reactExports.createContext(void 0);function useDirection$2(t){const e=reactExports.useContext(DirectionContext$2);return t||e||"ltr"}var Slot$2=reactExports.forwardRef((t,e)=>{const{children:a,...l}=t,u=reactExports.Children.toArray(a),c=u.find(isSlottable$1);if(c){const d=c.props.children,h=u.map(m=>m===c?reactExports.Children.count(d)>1?reactExports.Children.only(null):reactExports.isValidElement(d)?d.props.children:null:m);return jsxRuntimeExports.jsx(SlotClone$1,{...l,ref:e,children:reactExports.isValidElement(d)?reactExports.cloneElement(d,void 0,h):null})}return jsxRuntimeExports.jsx(SlotClone$1,{...l,ref:e,children:a})});Slot$2.displayName="Slot";var SlotClone$1=reactExports.forwardRef((t,e)=>{const{children:a,...l}=t;if(reactExports.isValidElement(a)){const u=getElementRef$2(a);return reactExports.cloneElement(a,{...mergeProps$1(l,a.props),ref:e?composeRefs$5(e,u):u})}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});SlotClone$1.displayName="SlotClone";var Slottable$1=({children:t})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t});function isSlottable$1(t){return reactExports.isValidElement(t)&&t.type===Slottable$1}function mergeProps$1(t,e){const a={...e};for(const l in e){const u=t[l],c=e[l];/^on[A-Z]/.test(l)?u&&c?a[l]=(...h)=>{c(...h),u(...h)}:u&&(a[l]=u):l==="style"?a[l]={...u,...c}:l==="className"&&(a[l]=[u,c].filter(Boolean).join(" "))}return{...t,...a}}function getElementRef$2(t){var l,u;let e=(l=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:l.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var NODES$4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive$4=NODES$4.reduce((t,e)=>{const a=reactExports.forwardRef((l,u)=>{const{asChild:c,...d}=l,h=c?Slot$2:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(h,{...d,ref:u})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function dispatchDiscreteCustomEvent$2(t,e){t&&reactDomExports.flushSync(()=>t.dispatchEvent(e))}function useCallbackRef$4(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...a)=>{var l;return(l=e.current)==null?void 0:l.call(e,...a)},[])}function useEscapeKeydown$2(t,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$4(t);reactExports.useEffect(()=>{const l=u=>{u.key==="Escape"&&a(u)};return e.addEventListener("keydown",l,{capture:!0}),()=>e.removeEventListener("keydown",l,{capture:!0})},[a,e])}var DISMISSABLE_LAYER_NAME$2="DismissableLayer",CONTEXT_UPDATE$2="dismissableLayer.update",POINTER_DOWN_OUTSIDE$2="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE$2="dismissableLayer.focusOutside",originalBodyPointerEvents$2,DismissableLayerContext$2=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer$2=reactExports.forwardRef((t,e)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,onDismiss:h,...m}=t,g=reactExports.useContext(DismissableLayerContext$2),[y,b]=reactExports.useState(null),v=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=reactExports.useState({}),S=useComposedRefs$4(e,U=>b(U)),E=Array.from(g.layers),[_]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),A=E.indexOf(_),R=y?E.indexOf(y):-1,k=g.layersWithOutsidePointerEventsDisabled.size>0,M=R>=A,D=usePointerDownOutside$2(U=>{const T=U.target,$=[...g.branches].some(G=>G.contains(T));!M||$||(u==null||u(U),d==null||d(U),U.defaultPrevented||h==null||h())},v),B=useFocusOutside$2(U=>{const T=U.target;[...g.branches].some(G=>G.contains(T))||(c==null||c(U),d==null||d(U),U.defaultPrevented||h==null||h())},v);return useEscapeKeydown$2(U=>{R===g.layers.size-1&&(l==null||l(U),!U.defaultPrevented&&h&&(U.preventDefault(),h()))},v),reactExports.useEffect(()=>{if(y)return a&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents$2=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(y)),g.layers.add(y),dispatchUpdate$2(),()=>{a&&g.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=originalBodyPointerEvents$2)}},[y,v,a,g]),reactExports.useEffect(()=>()=>{y&&(g.layers.delete(y),g.layersWithOutsidePointerEventsDisabled.delete(y),dispatchUpdate$2())},[y,g]),reactExports.useEffect(()=>{const U=()=>C({});return document.addEventListener(CONTEXT_UPDATE$2,U),()=>document.removeEventListener(CONTEXT_UPDATE$2,U)},[]),jsxRuntimeExports.jsx(Primitive$4.div,{...m,ref:S,style:{pointerEvents:k?M?"auto":"none":void 0,...t.style},onFocusCapture:composeEventHandlers$4(t.onFocusCapture,B.onFocusCapture),onBlurCapture:composeEventHandlers$4(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:composeEventHandlers$4(t.onPointerDownCapture,D.onPointerDownCapture)})});DismissableLayer$2.displayName=DISMISSABLE_LAYER_NAME$2;var BRANCH_NAME$2="DismissableLayerBranch",DismissableLayerBranch$2=reactExports.forwardRef((t,e)=>{const a=reactExports.useContext(DismissableLayerContext$2),l=reactExports.useRef(null),u=useComposedRefs$4(e,l);return reactExports.useEffect(()=>{const c=l.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),jsxRuntimeExports.jsx(Primitive$4.div,{...t,ref:u})});DismissableLayerBranch$2.displayName=BRANCH_NAME$2;function usePointerDownOutside$2(t,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$4(t),l=reactExports.useRef(!1),u=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const c=h=>{if(h.target&&!l.current){let m=function(){handleAndDispatchCustomEvent$3(POINTER_DOWN_OUTSIDE$2,a,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",u.current),u.current=m,e.addEventListener("click",u.current,{once:!0})):m()}else e.removeEventListener("click",u.current);l.current=!1},d=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),e.removeEventListener("pointerdown",c),e.removeEventListener("click",u.current)}},[e,a]),{onPointerDownCapture:()=>l.current=!0}}function useFocusOutside$2(t,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$4(t),l=reactExports.useRef(!1);return reactExports.useEffect(()=>{const u=c=>{c.target&&!l.current&&handleAndDispatchCustomEvent$3(FOCUS_OUTSIDE$2,a,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",u),()=>e.removeEventListener("focusin",u)},[e,a]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function dispatchUpdate$2(){const t=new CustomEvent(CONTEXT_UPDATE$2);document.dispatchEvent(t)}function handleAndDispatchCustomEvent$3(t,e,a,{discrete:l}){const u=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});e&&u.addEventListener(t,e,{once:!0}),l?dispatchDiscreteCustomEvent$2(u,c):u.dispatchEvent(c)}var count$4=0;function useFocusGuards$1(){reactExports.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??createFocusGuard$1()),document.body.insertAdjacentElement("beforeend",t[1]??createFocusGuard$1()),count$4++,()=>{count$4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),count$4--}},[])}function createFocusGuard$1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var AUTOFOCUS_ON_MOUNT$1="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT$1="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$2={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME$1="FocusScope",FocusScope$1=reactExports.forwardRef((t,e)=>{const{loop:a=!1,trapped:l=!1,onMountAutoFocus:u,onUnmountAutoFocus:c,...d}=t,[h,m]=reactExports.useState(null),g=useCallbackRef$4(u),y=useCallbackRef$4(c),b=reactExports.useRef(null),v=useComposedRefs$4(e,E=>m(E)),C=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(l){let E=function(k){if(C.paused||!h)return;const M=k.target;h.contains(M)?b.current=M:focus$2(b.current,{select:!0})},_=function(k){if(C.paused||!h)return;const M=k.relatedTarget;M!==null&&(h.contains(M)||focus$2(b.current,{select:!0}))},A=function(k){if(document.activeElement===document.body)for(const D of k)D.removedNodes.length>0&&focus$2(h)};document.addEventListener("focusin",E),document.addEventListener("focusout",_);const R=new MutationObserver(A);return h&&R.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",_),R.disconnect()}}},[l,h,C.paused]),reactExports.useEffect(()=>{if(h){focusScopesStack$1.add(C);const E=document.activeElement;if(!h.contains(E)){const A=new CustomEvent(AUTOFOCUS_ON_MOUNT$1,EVENT_OPTIONS$2);h.addEventListener(AUTOFOCUS_ON_MOUNT$1,g),h.dispatchEvent(A),A.defaultPrevented||(focusFirst$4(removeLinks$1(getTabbableCandidates$2(h)),{select:!0}),document.activeElement===E&&focus$2(h))}return()=>{h.removeEventListener(AUTOFOCUS_ON_MOUNT$1,g),setTimeout(()=>{const A=new CustomEvent(AUTOFOCUS_ON_UNMOUNT$1,EVENT_OPTIONS$2);h.addEventListener(AUTOFOCUS_ON_UNMOUNT$1,y),h.dispatchEvent(A),A.defaultPrevented||focus$2(E??document.body,{select:!0}),h.removeEventListener(AUTOFOCUS_ON_UNMOUNT$1,y),focusScopesStack$1.remove(C)},0)}}},[h,g,y,C]);const S=reactExports.useCallback(E=>{if(!a&&!l||C.paused)return;const _=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,A=document.activeElement;if(_&&A){const R=E.currentTarget,[k,M]=getTabbableEdges$1(R);k&&M?!E.shiftKey&&A===M?(E.preventDefault(),a&&focus$2(k,{select:!0})):E.shiftKey&&A===k&&(E.preventDefault(),a&&focus$2(M,{select:!0})):A===R&&E.preventDefault()}},[a,l,C.paused]);return jsxRuntimeExports.jsx(Primitive$4.div,{tabIndex:-1,...d,ref:v,onKeyDown:S})});FocusScope$1.displayName=FOCUS_SCOPE_NAME$1;function focusFirst$4(t,{select:e=!1}={}){const a=document.activeElement;for(const l of t)if(focus$2(l,{select:e}),document.activeElement!==a)return}function getTabbableEdges$1(t){const e=getTabbableCandidates$2(t),a=findVisible$1(e,t),l=findVisible$1(e.reverse(),t);return[a,l]}function getTabbableCandidates$2(t){const e=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const u=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||u?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)e.push(a.currentNode);return e}function findVisible$1(t,e){for(const a of t)if(!isHidden$1(a,{upTo:e}))return a}function isHidden$1(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function isSelectableInput$1(t){return t instanceof HTMLInputElement&&"select"in t}function focus$2(t,{select:e=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&isSelectableInput$1(t)&&e&&t.select()}}var focusScopesStack$1=createFocusScopesStack$1();function createFocusScopesStack$1(){let t=[];return{add(e){const a=t[0];e!==a&&(a==null||a.pause()),t=arrayRemove$1(t,e),t.unshift(e)},remove(e){var a;t=arrayRemove$1(t,e),(a=t[0])==null||a.resume()}}}function arrayRemove$1(t,e){const a=[...t],l=a.indexOf(e);return l!==-1&&a.splice(l,1),a}function removeLinks$1(t){return t.filter(e=>e.tagName!=="A")}var useLayoutEffect2$5=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId$2=React.useId||(()=>{}),count$3=0;function useId$2(t){const[e,a]=reactExports.useState(useReactId$2());return useLayoutEffect2$5(()=>{a(l=>l??String(count$3++))},[t]),e?`radix-${e}`:""}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor$1=Math.floor,createCoords=t=>({x:t,y:t}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(t,e,a){return max(t,min(e,a))}function evaluate(t,e){return typeof t=="function"?t(e):t}function getSide$1(t){return t.split("-")[0]}function getAlignment(t){return t.split("-")[1]}function getOppositeAxis(t){return t==="x"?"y":"x"}function getAxisLength(t){return t==="y"?"height":"width"}function getSideAxis(t){return["top","bottom"].includes(getSide$1(t))?"y":"x"}function getAlignmentAxis(t){return getOppositeAxis(getSideAxis(t))}function getAlignmentSides(t,e,a){a===void 0&&(a=!1);const l=getAlignment(t),u=getAlignmentAxis(t),c=getAxisLength(u);let d=u==="x"?l===(a?"end":"start")?"right":"left":l==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(d=getOppositePlacement(d)),[d,getOppositePlacement(d)]}function getExpandedPlacements(t){const e=getOppositePlacement(t);return[getOppositeAlignmentPlacement(t),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(t){return t.replace(/start|end/g,e=>oppositeAlignmentMap[e])}function getSideList(t,e,a){const l=["left","right"],u=["right","left"],c=["top","bottom"],d=["bottom","top"];switch(t){case"top":case"bottom":return a?e?u:l:e?l:u;case"left":case"right":return e?c:d;default:return[]}}function getOppositeAxisPlacements(t,e,a,l){const u=getAlignment(t);let c=getSideList(getSide$1(t),a==="start",l);return u&&(c=c.map(d=>d+"-"+u),e&&(c=c.concat(c.map(getOppositeAlignmentPlacement)))),c}function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,e=>oppositeSideMap[e])}function expandPaddingObject(t){return{top:0,right:0,bottom:0,left:0,...t}}function getPaddingObject(t){return typeof t!="number"?expandPaddingObject(t):{top:t,right:t,bottom:t,left:t}}function rectToClientRect(t){const{x:e,y:a,width:l,height:u}=t;return{width:l,height:u,top:a,left:e,right:e+l,bottom:a+u,x:e,y:a}}function computeCoordsFromPlacement(t,e,a){let{reference:l,floating:u}=t;const c=getSideAxis(e),d=getAlignmentAxis(e),h=getAxisLength(d),m=getSide$1(e),g=c==="y",y=l.x+l.width/2-u.width/2,b=l.y+l.height/2-u.height/2,v=l[h]/2-u[h]/2;let C;switch(m){case"top":C={x:y,y:l.y-u.height};break;case"bottom":C={x:y,y:l.y+l.height};break;case"right":C={x:l.x+l.width,y:b};break;case"left":C={x:l.x-u.width,y:b};break;default:C={x:l.x,y:l.y}}switch(getAlignment(e)){case"start":C[d]-=v*(a&&g?-1:1);break;case"end":C[d]+=v*(a&&g?-1:1);break}return C}const computePosition$1=async(t,e,a)=>{const{placement:l="bottom",strategy:u="absolute",middleware:c=[],platform:d}=a,h=c.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(e));let g=await d.getElementRects({reference:t,floating:e,strategy:u}),{x:y,y:b}=computeCoordsFromPlacement(g,l,m),v=l,C={},S=0;for(let E=0;E<h.length;E++){const{name:_,fn:A}=h[E],{x:R,y:k,data:M,reset:D}=await A({x:y,y:b,initialPlacement:l,placement:v,strategy:u,middlewareData:C,rects:g,platform:d,elements:{reference:t,floating:e}});y=R??y,b=k??b,C={...C,[_]:{...C[_],...M}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(v=D.placement),D.rects&&(g=D.rects===!0?await d.getElementRects({reference:t,floating:e,strategy:u}):D.rects),{x:y,y:b}=computeCoordsFromPlacement(g,v,m)),E=-1)}return{x:y,y:b,placement:v,strategy:u,middlewareData:C}};async function detectOverflow(t,e){var a;e===void 0&&(e={});const{x:l,y:u,platform:c,rects:d,elements:h,strategy:m}=t,{boundary:g="clippingAncestors",rootBoundary:y="viewport",elementContext:b="floating",altBoundary:v=!1,padding:C=0}=evaluate(e,t),S=getPaddingObject(C),_=h[v?b==="floating"?"reference":"floating":b],A=rectToClientRect(await c.getClippingRect({element:(a=await(c.isElement==null?void 0:c.isElement(_)))==null||a?_:_.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(h.floating)),boundary:g,rootBoundary:y,strategy:m})),R=b==="floating"?{x:l,y:u,width:d.floating.width,height:d.floating.height}:d.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h.floating)),M=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},D=rectToClientRect(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:R,offsetParent:k,strategy:m}):R);return{top:(A.top-D.top+S.top)/M.y,bottom:(D.bottom-A.bottom+S.bottom)/M.y,left:(A.left-D.left+S.left)/M.x,right:(D.right-A.right+S.right)/M.x}}const arrow$4=t=>({name:"arrow",options:t,async fn(e){const{x:a,y:l,placement:u,rects:c,platform:d,elements:h,middlewareData:m}=e,{element:g,padding:y=0}=evaluate(t,e)||{};if(g==null)return{};const b=getPaddingObject(y),v={x:a,y:l},C=getAlignmentAxis(u),S=getAxisLength(C),E=await d.getDimensions(g),_=C==="y",A=_?"top":"left",R=_?"bottom":"right",k=_?"clientHeight":"clientWidth",M=c.reference[S]+c.reference[C]-v[C]-c.floating[S],D=v[C]-c.reference[C],B=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let U=B?B[k]:0;(!U||!await(d.isElement==null?void 0:d.isElement(B)))&&(U=h.floating[k]||c.floating[S]);const T=M/2-D/2,$=U/2-E[S]/2-1,G=min(b[A],$),ue=min(b[R],$),te=G,Se=U-E[S]-ue,he=U/2-E[S]/2+T,Te=clamp(te,he,Se),ve=!m.arrow&&getAlignment(u)!=null&&he!==Te&&c.reference[S]/2-(he<te?G:ue)-E[S]/2<0,ce=ve?he<te?he-te:he-Se:0;return{[C]:v[C]+ce,data:{[C]:Te,centerOffset:he-Te-ce,...ve&&{alignmentOffset:ce}},reset:ve}}}),flip$2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var a,l;const{placement:u,middlewareData:c,rects:d,initialPlacement:h,platform:m,elements:g}=e,{mainAxis:y=!0,crossAxis:b=!0,fallbackPlacements:v,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,..._}=evaluate(t,e);if((a=c.arrow)!=null&&a.alignmentOffset)return{};const A=getSide$1(u),R=getSideAxis(h),k=getSide$1(h)===h,M=await(m.isRTL==null?void 0:m.isRTL(g.floating)),D=v||(k||!E?[getOppositePlacement(h)]:getExpandedPlacements(h)),B=S!=="none";!v&&B&&D.push(...getOppositeAxisPlacements(h,E,S,M));const U=[h,...D],T=await detectOverflow(e,_),$=[];let G=((l=c.flip)==null?void 0:l.overflows)||[];if(y&&$.push(T[A]),b){const he=getAlignmentSides(u,d,M);$.push(T[he[0]],T[he[1]])}if(G=[...G,{placement:u,overflows:$}],!$.every(he=>he<=0)){var ue,te;const he=(((ue=c.flip)==null?void 0:ue.index)||0)+1,Te=U[he];if(Te)return{data:{index:he,overflows:G},reset:{placement:Te}};let ve=(te=G.filter(ce=>ce.overflows[0]<=0).sort((ce,ae)=>ce.overflows[1]-ae.overflows[1])[0])==null?void 0:te.placement;if(!ve)switch(C){case"bestFit":{var Se;const ce=(Se=G.filter(ae=>{if(B){const pe=getSideAxis(ae.placement);return pe===R||pe==="y"}return!0}).map(ae=>[ae.placement,ae.overflows.filter(pe=>pe>0).reduce((pe,ee)=>pe+ee,0)]).sort((ae,pe)=>ae[1]-pe[1])[0])==null?void 0:Se[0];ce&&(ve=ce);break}case"initialPlacement":ve=h;break}if(u!==ve)return{reset:{placement:ve}}}return{}}}};function getSideOffsets(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function isAnySideFullyClipped(t){return sides.some(e=>t[e]>=0)}const hide$2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:a}=e,{strategy:l="referenceHidden",...u}=evaluate(t,e);switch(l){case"referenceHidden":{const c=await detectOverflow(e,{...u,elementContext:"reference"}),d=getSideOffsets(c,a.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:isAnySideFullyClipped(d)}}}case"escaped":{const c=await detectOverflow(e,{...u,altBoundary:!0}),d=getSideOffsets(c,a.floating);return{data:{escapedOffsets:d,escaped:isAnySideFullyClipped(d)}}}default:return{}}}}};async function convertValueToCoords(t,e){const{placement:a,platform:l,elements:u}=t,c=await(l.isRTL==null?void 0:l.isRTL(u.floating)),d=getSide$1(a),h=getAlignment(a),m=getSideAxis(a)==="y",g=["left","top"].includes(d)?-1:1,y=c&&m?-1:1,b=evaluate(e,t);let{mainAxis:v,crossAxis:C,alignmentAxis:S}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return h&&typeof S=="number"&&(C=h==="end"?S*-1:S),m?{x:C*y,y:v*g}:{x:v*g,y:C*y}}const offset$2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var a,l;const{x:u,y:c,placement:d,middlewareData:h}=e,m=await convertValueToCoords(e,t);return d===((a=h.offset)==null?void 0:a.placement)&&(l=h.arrow)!=null&&l.alignmentOffset?{}:{x:u+m.x,y:c+m.y,data:{...m,placement:d}}}}},shift$3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:a,y:l,placement:u}=e,{mainAxis:c=!0,crossAxis:d=!1,limiter:h={fn:_=>{let{x:A,y:R}=_;return{x:A,y:R}}},...m}=evaluate(t,e),g={x:a,y:l},y=await detectOverflow(e,m),b=getSideAxis(getSide$1(u)),v=getOppositeAxis(b);let C=g[v],S=g[b];if(c){const _=v==="y"?"top":"left",A=v==="y"?"bottom":"right",R=C+y[_],k=C-y[A];C=clamp(R,C,k)}if(d){const _=b==="y"?"top":"left",A=b==="y"?"bottom":"right",R=S+y[_],k=S-y[A];S=clamp(R,S,k)}const E=h.fn({...e,[v]:C,[b]:S});return{...E,data:{x:E.x-a,y:E.y-l,enabled:{[v]:c,[b]:d}}}}}},limitShift$2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:a,y:l,placement:u,rects:c,middlewareData:d}=e,{offset:h=0,mainAxis:m=!0,crossAxis:g=!0}=evaluate(t,e),y={x:a,y:l},b=getSideAxis(u),v=getOppositeAxis(b);let C=y[v],S=y[b];const E=evaluate(h,e),_=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(m){const k=v==="y"?"height":"width",M=c.reference[v]-c.floating[k]+_.mainAxis,D=c.reference[v]+c.reference[k]-_.mainAxis;C<M?C=M:C>D&&(C=D)}if(g){var A,R;const k=v==="y"?"width":"height",M=["top","left"].includes(getSide$1(u)),D=c.reference[b]-c.floating[k]+(M&&((A=d.offset)==null?void 0:A[b])||0)+(M?0:_.crossAxis),B=c.reference[b]+c.reference[k]+(M?0:((R=d.offset)==null?void 0:R[b])||0)-(M?_.crossAxis:0);S<D?S=D:S>B&&(S=B)}return{[v]:C,[b]:S}}}},size$2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var a,l;const{placement:u,rects:c,platform:d,elements:h}=e,{apply:m=()=>{},...g}=evaluate(t,e),y=await detectOverflow(e,g),b=getSide$1(u),v=getAlignment(u),C=getSideAxis(u)==="y",{width:S,height:E}=c.floating;let _,A;b==="top"||b==="bottom"?(_=b,A=v===(await(d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(A=b,_=v==="end"?"top":"bottom");const R=E-y.top-y.bottom,k=S-y.left-y.right,M=min(E-y[_],R),D=min(S-y[A],k),B=!e.middlewareData.shift;let U=M,T=D;if((a=e.middlewareData.shift)!=null&&a.enabled.x&&(T=k),(l=e.middlewareData.shift)!=null&&l.enabled.y&&(U=R),B&&!v){const G=max(y.left,0),ue=max(y.right,0),te=max(y.top,0),Se=max(y.bottom,0);C?T=S-2*(G!==0||ue!==0?G+ue:max(y.left,y.right)):U=E-2*(te!==0||Se!==0?te+Se:max(y.top,y.bottom))}await m({...e,availableWidth:T,availableHeight:U});const $=await d.getDimensions(h.floating);return S!==$.width||E!==$.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(t){return isNode(t)?(t.nodeName||"").toLowerCase():"#document"}function getWindow(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(t){var e;return(e=(isNode(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function isNode(t){return hasWindow()?t instanceof Node||t instanceof getWindow(t).Node:!1}function isElement(t){return hasWindow()?t instanceof Element||t instanceof getWindow(t).Element:!1}function isHTMLElement$2(t){return hasWindow()?t instanceof HTMLElement||t instanceof getWindow(t).HTMLElement:!1}function isShadowRoot(t){return!hasWindow()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof getWindow(t).ShadowRoot}function isOverflowElement(t){const{overflow:e,overflowX:a,overflowY:l,display:u}=getComputedStyle$1(t);return/auto|scroll|overlay|hidden|clip/.test(e+l+a)&&!["inline","contents"].includes(u)}function isTableElement(t){return["table","td","th"].includes(getNodeName(t))}function isTopLayer(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function isContainingBlock(t){const e=isWebKit(),a=isElement(t)?getComputedStyle$1(t):t;return["transform","translate","scale","rotate","perspective"].some(l=>a[l]?a[l]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!e&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!e&&(a.filter?a.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(l=>(a.willChange||"").includes(l))||["paint","layout","strict","content"].some(l=>(a.contain||"").includes(l))}function getContainingBlock(t){let e=getParentNode(t);for(;isHTMLElement$2(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;if(isTopLayer(e))return null;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(t){return["html","body","#document"].includes(getNodeName(t))}function getComputedStyle$1(t){return getWindow(t).getComputedStyle(t)}function getNodeScroll(t){return isElement(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function getParentNode(t){if(getNodeName(t)==="html")return t;const e=t.assignedSlot||t.parentNode||isShadowRoot(t)&&t.host||getDocumentElement(t);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(t){const e=getParentNode(t);return isLastTraversableNode(e)?t.ownerDocument?t.ownerDocument.body:t.body:isHTMLElement$2(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(t,e,a){var l;e===void 0&&(e=[]),a===void 0&&(a=!0);const u=getNearestOverflowAncestor(t),c=u===((l=t.ownerDocument)==null?void 0:l.body),d=getWindow(u);if(c){const h=getFrameElement(d);return e.concat(d,d.visualViewport||[],isOverflowElement(u)?u:[],h&&a?getOverflowAncestors(h):[])}return e.concat(u,getOverflowAncestors(u,[],a))}function getFrameElement(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function getCssDimensions(t){const e=getComputedStyle$1(t);let a=parseFloat(e.width)||0,l=parseFloat(e.height)||0;const u=isHTMLElement$2(t),c=u?t.offsetWidth:a,d=u?t.offsetHeight:l,h=round(a)!==c||round(l)!==d;return h&&(a=c,l=d),{width:a,height:l,$:h}}function unwrapElement$1(t){return isElement(t)?t:t.contextElement}function getScale(t){const e=unwrapElement$1(t);if(!isHTMLElement$2(e))return createCoords(1);const a=e.getBoundingClientRect(),{width:l,height:u,$:c}=getCssDimensions(e);let d=(c?round(a.width):a.width)/l,h=(c?round(a.height):a.height)/u;return(!d||!Number.isFinite(d))&&(d=1),(!h||!Number.isFinite(h))&&(h=1),{x:d,y:h}}const noOffsets=createCoords(0);function getVisualOffsets(t){const e=getWindow(t);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(t,e,a){return e===void 0&&(e=!1),!a||e&&a!==getWindow(t)?!1:e}function getBoundingClientRect(t,e,a,l){e===void 0&&(e=!1),a===void 0&&(a=!1);const u=t.getBoundingClientRect(),c=unwrapElement$1(t);let d=createCoords(1);e&&(l?isElement(l)&&(d=getScale(l)):d=getScale(t));const h=shouldAddVisualOffsets(c,a,l)?getVisualOffsets(c):createCoords(0);let m=(u.left+h.x)/d.x,g=(u.top+h.y)/d.y,y=u.width/d.x,b=u.height/d.y;if(c){const v=getWindow(c),C=l&&isElement(l)?getWindow(l):l;let S=v,E=getFrameElement(S);for(;E&&l&&C!==S;){const _=getScale(E),A=E.getBoundingClientRect(),R=getComputedStyle$1(E),k=A.left+(E.clientLeft+parseFloat(R.paddingLeft))*_.x,M=A.top+(E.clientTop+parseFloat(R.paddingTop))*_.y;m*=_.x,g*=_.y,y*=_.x,b*=_.y,m+=k,g+=M,S=getWindow(E),E=getFrameElement(S)}}return rectToClientRect({width:y,height:b,x:m,y:g})}function getWindowScrollBarX(t,e){const a=getNodeScroll(t).scrollLeft;return e?e.left+a:getBoundingClientRect(getDocumentElement(t)).left+a}function getHTMLOffset(t,e,a){a===void 0&&(a=!1);const l=t.getBoundingClientRect(),u=l.left+e.scrollLeft-(a?0:getWindowScrollBarX(t,l)),c=l.top+e.scrollTop;return{x:u,y:c}}function convertOffsetParentRelativeRectToViewportRelativeRect(t){let{elements:e,rect:a,offsetParent:l,strategy:u}=t;const c=u==="fixed",d=getDocumentElement(l),h=e?isTopLayer(e.floating):!1;if(l===d||h&&c)return a;let m={scrollLeft:0,scrollTop:0},g=createCoords(1);const y=createCoords(0),b=isHTMLElement$2(l);if((b||!b&&!c)&&((getNodeName(l)!=="body"||isOverflowElement(d))&&(m=getNodeScroll(l)),isHTMLElement$2(l))){const C=getBoundingClientRect(l);g=getScale(l),y.x=C.x+l.clientLeft,y.y=C.y+l.clientTop}const v=d&&!b&&!c?getHTMLOffset(d,m,!0):createCoords(0);return{width:a.width*g.x,height:a.height*g.y,x:a.x*g.x-m.scrollLeft*g.x+y.x+v.x,y:a.y*g.y-m.scrollTop*g.y+y.y+v.y}}function getClientRects(t){return Array.from(t.getClientRects())}function getDocumentRect(t){const e=getDocumentElement(t),a=getNodeScroll(t),l=t.ownerDocument.body,u=max(e.scrollWidth,e.clientWidth,l.scrollWidth,l.clientWidth),c=max(e.scrollHeight,e.clientHeight,l.scrollHeight,l.clientHeight);let d=-a.scrollLeft+getWindowScrollBarX(t);const h=-a.scrollTop;return getComputedStyle$1(l).direction==="rtl"&&(d+=max(e.clientWidth,l.clientWidth)-u),{width:u,height:c,x:d,y:h}}function getViewportRect(t,e){const a=getWindow(t),l=getDocumentElement(t),u=a.visualViewport;let c=l.clientWidth,d=l.clientHeight,h=0,m=0;if(u){c=u.width,d=u.height;const g=isWebKit();(!g||g&&e==="fixed")&&(h=u.offsetLeft,m=u.offsetTop)}return{width:c,height:d,x:h,y:m}}function getInnerBoundingClientRect(t,e){const a=getBoundingClientRect(t,!0,e==="fixed"),l=a.top+t.clientTop,u=a.left+t.clientLeft,c=isHTMLElement$2(t)?getScale(t):createCoords(1),d=t.clientWidth*c.x,h=t.clientHeight*c.y,m=u*c.x,g=l*c.y;return{width:d,height:h,x:m,y:g}}function getClientRectFromClippingAncestor(t,e,a){let l;if(e==="viewport")l=getViewportRect(t,a);else if(e==="document")l=getDocumentRect(getDocumentElement(t));else if(isElement(e))l=getInnerBoundingClientRect(e,a);else{const u=getVisualOffsets(t);l={x:e.x-u.x,y:e.y-u.y,width:e.width,height:e.height}}return rectToClientRect(l)}function hasFixedPositionAncestor(t,e){const a=getParentNode(t);return a===e||!isElement(a)||isLastTraversableNode(a)?!1:getComputedStyle$1(a).position==="fixed"||hasFixedPositionAncestor(a,e)}function getClippingElementAncestors(t,e){const a=e.get(t);if(a)return a;let l=getOverflowAncestors(t,[],!1).filter(h=>isElement(h)&&getNodeName(h)!=="body"),u=null;const c=getComputedStyle$1(t).position==="fixed";let d=c?getParentNode(t):t;for(;isElement(d)&&!isLastTraversableNode(d);){const h=getComputedStyle$1(d),m=isContainingBlock(d);!m&&h.position==="fixed"&&(u=null),(c?!m&&!u:!m&&h.position==="static"&&!!u&&["absolute","fixed"].includes(u.position)||isOverflowElement(d)&&!m&&hasFixedPositionAncestor(t,d))?l=l.filter(y=>y!==d):u=h,d=getParentNode(d)}return e.set(t,l),l}function getClippingRect(t){let{element:e,boundary:a,rootBoundary:l,strategy:u}=t;const d=[...a==="clippingAncestors"?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(a),l],h=d[0],m=d.reduce((g,y)=>{const b=getClientRectFromClippingAncestor(e,y,u);return g.top=max(b.top,g.top),g.right=min(b.right,g.right),g.bottom=min(b.bottom,g.bottom),g.left=max(b.left,g.left),g},getClientRectFromClippingAncestor(e,h,u));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function getDimensions(t){const{width:e,height:a}=getCssDimensions(t);return{width:e,height:a}}function getRectRelativeToOffsetParent(t,e,a){const l=isHTMLElement$2(e),u=getDocumentElement(e),c=a==="fixed",d=getBoundingClientRect(t,!0,c,e);let h={scrollLeft:0,scrollTop:0};const m=createCoords(0);if(l||!l&&!c)if((getNodeName(e)!=="body"||isOverflowElement(u))&&(h=getNodeScroll(e)),l){const v=getBoundingClientRect(e,!0,c,e);m.x=v.x+e.clientLeft,m.y=v.y+e.clientTop}else u&&(m.x=getWindowScrollBarX(u));const g=u&&!l&&!c?getHTMLOffset(u,h):createCoords(0),y=d.left+h.scrollLeft-m.x-g.x,b=d.top+h.scrollTop-m.y-g.y;return{x:y,y:b,width:d.width,height:d.height}}function isStaticPositioned(t){return getComputedStyle$1(t).position==="static"}function getTrueOffsetParent(t,e){if(!isHTMLElement$2(t)||getComputedStyle$1(t).position==="fixed")return null;if(e)return e(t);let a=t.offsetParent;return getDocumentElement(t)===a&&(a=a.ownerDocument.body),a}function getOffsetParent(t,e){const a=getWindow(t);if(isTopLayer(t))return a;if(!isHTMLElement$2(t)){let u=getParentNode(t);for(;u&&!isLastTraversableNode(u);){if(isElement(u)&&!isStaticPositioned(u))return u;u=getParentNode(u)}return a}let l=getTrueOffsetParent(t,e);for(;l&&isTableElement(l)&&isStaticPositioned(l);)l=getTrueOffsetParent(l,e);return l&&isLastTraversableNode(l)&&isStaticPositioned(l)&&!isContainingBlock(l)?a:l||getContainingBlock(t)||a}const getElementRects=async function(t){const e=this.getOffsetParent||getOffsetParent,a=this.getDimensions,l=await a(t.floating);return{reference:getRectRelativeToOffsetParent(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function isRTL(t){return getComputedStyle$1(t).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function observeMove(t,e){let a=null,l;const u=getDocumentElement(t);function c(){var h;clearTimeout(l),(h=a)==null||h.disconnect(),a=null}function d(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),c();const g=t.getBoundingClientRect(),{left:y,top:b,width:v,height:C}=g;if(h||e(),!v||!C)return;const S=floor$1(b),E=floor$1(u.clientWidth-(y+v)),_=floor$1(u.clientHeight-(b+C)),A=floor$1(y),k={rootMargin:-S+"px "+-E+"px "+-_+"px "+-A+"px",threshold:max(0,min(1,m))||1};let M=!0;function D(B){const U=B[0].intersectionRatio;if(U!==m){if(!M)return d();U?d(!1,U):l=setTimeout(()=>{d(!1,1e-7)},1e3)}U===1&&!rectsAreEqual(g,t.getBoundingClientRect())&&d(),M=!1}try{a=new IntersectionObserver(D,{...k,root:u.ownerDocument})}catch{a=new IntersectionObserver(D,k)}a.observe(t)}return d(!0),c}function autoUpdate(t,e,a,l){l===void 0&&(l={});const{ancestorScroll:u=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=l,g=unwrapElement$1(t),y=u||c?[...g?getOverflowAncestors(g):[],...getOverflowAncestors(e)]:[];y.forEach(A=>{u&&A.addEventListener("scroll",a,{passive:!0}),c&&A.addEventListener("resize",a)});const b=g&&h?observeMove(g,a):null;let v=-1,C=null;d&&(C=new ResizeObserver(A=>{let[R]=A;R&&R.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=C)==null||k.observe(e)})),a()}),g&&!m&&C.observe(g),C.observe(e));let S,E=m?getBoundingClientRect(t):null;m&&_();function _(){const A=getBoundingClientRect(t);E&&!rectsAreEqual(E,A)&&a(),E=A,S=requestAnimationFrame(_)}return a(),()=>{var A;y.forEach(R=>{u&&R.removeEventListener("scroll",a),c&&R.removeEventListener("resize",a)}),b==null||b(),(A=C)==null||A.disconnect(),C=null,m&&cancelAnimationFrame(S)}}const offset$1=offset$2,shift$2=shift$3,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$3=arrow$4,limitShift$1=limitShift$2,computePosition=(t,e,a)=>{const l=new Map,u={platform:platform$2,...a},c={...u.platform,_c:l};return computePosition$1(t,e,{...u,platform:c})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual$2(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let a,l,u;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==e.length)return!1;for(l=a;l--!==0;)if(!deepEqual$2(t[l],e[l]))return!1;return!0}if(u=Object.keys(t),a=u.length,a!==Object.keys(e).length)return!1;for(l=a;l--!==0;)if(!{}.hasOwnProperty.call(e,u[l]))return!1;for(l=a;l--!==0;){const c=u[l];if(!(c==="_owner"&&t.$$typeof)&&!deepEqual$2(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}function getDPR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(t,e){const a=getDPR(t);return Math.round(e*a)/a}function useLatestRef(t){const e=reactExports.useRef(t);return index$1(()=>{e.current=t}),e}function useFloating(t){t===void 0&&(t={});const{placement:e="bottom",strategy:a="absolute",middleware:l=[],platform:u,elements:{reference:c,floating:d}={},transform:h=!0,whileElementsMounted:m,open:g}=t,[y,b]=reactExports.useState({x:0,y:0,strategy:a,placement:e,middlewareData:{},isPositioned:!1}),[v,C]=reactExports.useState(l);deepEqual$2(v,l)||C(l);const[S,E]=reactExports.useState(null),[_,A]=reactExports.useState(null),R=reactExports.useCallback(ae=>{ae!==B.current&&(B.current=ae,E(ae))},[]),k=reactExports.useCallback(ae=>{ae!==U.current&&(U.current=ae,A(ae))},[]),M=c||S,D=d||_,B=reactExports.useRef(null),U=reactExports.useRef(null),T=reactExports.useRef(y),$=m!=null,G=useLatestRef(m),ue=useLatestRef(u),te=useLatestRef(g),Se=reactExports.useCallback(()=>{if(!B.current||!U.current)return;const ae={placement:e,strategy:a,middleware:v};ue.current&&(ae.platform=ue.current),computePosition(B.current,U.current,ae).then(pe=>{const ee={...pe,isPositioned:te.current!==!1};he.current&&!deepEqual$2(T.current,ee)&&(T.current=ee,reactDomExports.flushSync(()=>{b(ee)}))})},[v,e,a,ue,te]);index$1(()=>{g===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,b(ae=>({...ae,isPositioned:!1})))},[g]);const he=reactExports.useRef(!1);index$1(()=>(he.current=!0,()=>{he.current=!1}),[]),index$1(()=>{if(M&&(B.current=M),D&&(U.current=D),M&&D){if(G.current)return G.current(M,D,Se);Se()}},[M,D,Se,G,$]);const Te=reactExports.useMemo(()=>({reference:B,floating:U,setReference:R,setFloating:k}),[R,k]),ve=reactExports.useMemo(()=>({reference:M,floating:D}),[M,D]),ce=reactExports.useMemo(()=>{const ae={position:a,left:0,top:0};if(!ve.floating)return ae;const pe=roundByDPR(ve.floating,y.x),ee=roundByDPR(ve.floating,y.y);return h?{...ae,transform:"translate("+pe+"px, "+ee+"px)",...getDPR(ve.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:pe,top:ee}},[a,h,ve.floating,y.x,y.y]);return reactExports.useMemo(()=>({...y,update:Se,refs:Te,elements:ve,floatingStyles:ce}),[y,Se,Te,ve,ce])}const arrow$1=t=>{function e(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:l,padding:u}=typeof t=="function"?t(a):t;return l&&e(l)?l.current!=null?arrow$3({element:l.current,padding:u}).fn(a):{}:l?arrow$3({element:l,padding:u}).fn(a):{}}}},offset=(t,e)=>({...offset$1(t),options:[t,e]}),shift$1=(t,e)=>({...shift$2(t),options:[t,e]}),limitShift=(t,e)=>({...limitShift$1(t),options:[t,e]}),flip=(t,e)=>({...flip$1(t),options:[t,e]}),size=(t,e)=>({...size$1(t),options:[t,e]}),hide=(t,e)=>({...hide$1(t),options:[t,e]}),arrow$2=(t,e)=>({...arrow$1(t),options:[t,e]});var NAME$3="Arrow",Arrow$3=reactExports.forwardRef((t,e)=>{const{children:a,width:l=10,height:u=5,...c}=t;return jsxRuntimeExports.jsx(Primitive$4.svg,{...c,ref:e,width:l,height:u,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$3.displayName=NAME$3;var Root$3=Arrow$3;function useSize$1(t){const[e,a]=reactExports.useState(void 0);return useLayoutEffect2$5(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const l=new ResizeObserver(u=>{if(!Array.isArray(u)||!u.length)return;const c=u[0];let d,h;if("borderBoxSize"in c){const m=c.borderBoxSize,g=Array.isArray(m)?m[0]:m;d=g.inlineSize,h=g.blockSize}else d=t.offsetWidth,h=t.offsetHeight;a({width:d,height:h})});return l.observe(t,{box:"border-box"}),()=>l.unobserve(t)}else a(void 0)},[t]),e}var POPPER_NAME$1="Popper",[createPopperContext$1,createPopperScope$1]=createContextScope$4(POPPER_NAME$1),[PopperProvider$1,usePopperContext$1]=createPopperContext$1(POPPER_NAME$1),Popper$1=t=>{const{__scopePopper:e,children:a}=t,[l,u]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider$1,{scope:e,anchor:l,onAnchorChange:u,children:a})};Popper$1.displayName=POPPER_NAME$1;var ANCHOR_NAME$2="PopperAnchor",PopperAnchor$1=reactExports.forwardRef((t,e)=>{const{__scopePopper:a,virtualRef:l,...u}=t,c=usePopperContext$1(ANCHOR_NAME$2,a),d=reactExports.useRef(null),h=useComposedRefs$4(e,d);return reactExports.useEffect(()=>{c.onAnchorChange((l==null?void 0:l.current)||d.current)}),l?null:jsxRuntimeExports.jsx(Primitive$4.div,{...u,ref:h})});PopperAnchor$1.displayName=ANCHOR_NAME$2;var CONTENT_NAME$4="PopperContent",[PopperContentProvider$1,useContentContext$1]=createPopperContext$1(CONTENT_NAME$4),PopperContent$1=reactExports.forwardRef((t,e)=>{var K,le,ye,Ce,xe,j;const{__scopePopper:a,side:l="bottom",sideOffset:u=0,align:c="center",alignOffset:d=0,arrowPadding:h=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:v=!1,updatePositionStrategy:C="optimized",onPlaced:S,...E}=t,_=usePopperContext$1(CONTENT_NAME$4,a),[A,R]=reactExports.useState(null),k=useComposedRefs$4(e,V=>R(V)),[M,D]=reactExports.useState(null),B=useSize$1(M),U=(B==null?void 0:B.width)??0,T=(B==null?void 0:B.height)??0,$=l+(c!=="center"?"-"+c:""),G=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},ue=Array.isArray(g)?g:[g],te=ue.length>0,Se={padding:G,boundary:ue.filter(isNotNull$1),altBoundary:te},{refs:he,floatingStyles:Te,placement:ve,isPositioned:ce,middlewareData:ae}=useFloating({strategy:"fixed",placement:$,whileElementsMounted:(...V)=>autoUpdate(...V,{animationFrame:C==="always"}),elements:{reference:_.anchor},middleware:[offset({mainAxis:u+T,alignmentAxis:d}),m&&shift$1({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?limitShift():void 0,...Se}),m&&flip({...Se}),size({...Se,apply:({elements:V,rects:Q,availableWidth:se,availableHeight:q})=>{const{width:de,height:be}=Q.reference,Ee=V.floating.style;Ee.setProperty("--radix-popper-available-width",`${se}px`),Ee.setProperty("--radix-popper-available-height",`${q}px`),Ee.setProperty("--radix-popper-anchor-width",`${de}px`),Ee.setProperty("--radix-popper-anchor-height",`${be}px`)}}),M&&arrow$2({element:M,padding:h}),transformOrigin$1({arrowWidth:U,arrowHeight:T}),v&&hide({strategy:"referenceHidden",...Se})]}),[pe,ee]=getSideAndAlignFromPlacement$1(ve),N=useCallbackRef$4(S);useLayoutEffect2$5(()=>{ce&&(N==null||N())},[ce,N]);const I=(K=ae.arrow)==null?void 0:K.x,L=(le=ae.arrow)==null?void 0:le.y,H=((ye=ae.arrow)==null?void 0:ye.centerOffset)!==0,[re,oe]=reactExports.useState();return useLayoutEffect2$5(()=>{A&&oe(window.getComputedStyle(A).zIndex)},[A]),jsxRuntimeExports.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...Te,transform:ce?Te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(Ce=ae.transformOrigin)==null?void 0:Ce.x,(xe=ae.transformOrigin)==null?void 0:xe.y].join(" "),...((j=ae.hide)==null?void 0:j.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:jsxRuntimeExports.jsx(PopperContentProvider$1,{scope:a,placedSide:pe,onArrowChange:D,arrowX:I,arrowY:L,shouldHideArrow:H,children:jsxRuntimeExports.jsx(Primitive$4.div,{"data-side":pe,"data-align":ee,...E,ref:k,style:{...E.style,animation:ce?void 0:"none"}})})})});PopperContent$1.displayName=CONTENT_NAME$4;var ARROW_NAME$4="PopperArrow",OPPOSITE_SIDE$1={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow$1=reactExports.forwardRef(function(e,a){const{__scopePopper:l,...u}=e,c=useContentContext$1(ARROW_NAME$4,l),d=OPPOSITE_SIDE$1[c.placedSide];return jsxRuntimeExports.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$3,{...u,ref:a,style:{...u.style,display:"block"}})})});PopperArrow$1.displayName=ARROW_NAME$4;function isNotNull$1(t){return t!==null}var transformOrigin$1=t=>({name:"transformOrigin",options:t,fn(e){var _,A,R;const{placement:a,rects:l,middlewareData:u}=e,d=((_=u.arrow)==null?void 0:_.centerOffset)!==0,h=d?0:t.arrowWidth,m=d?0:t.arrowHeight,[g,y]=getSideAndAlignFromPlacement$1(a),b={start:"0%",center:"50%",end:"100%"}[y],v=(((A=u.arrow)==null?void 0:A.x)??0)+h/2,C=(((R=u.arrow)==null?void 0:R.y)??0)+m/2;let S="",E="";return g==="bottom"?(S=d?b:`${v}px`,E=`${-m}px`):g==="top"?(S=d?b:`${v}px`,E=`${l.floating.height+m}px`):g==="right"?(S=`${-m}px`,E=d?b:`${C}px`):g==="left"&&(S=`${l.floating.width+m}px`,E=d?b:`${C}px`),{data:{x:S,y:E}}}});function getSideAndAlignFromPlacement$1(t){const[e,a="center"]=t.split("-");return[e,a]}var Root2$4=Popper$1,Anchor$1=PopperAnchor$1,Content$1=PopperContent$1,Arrow$2=PopperArrow$1,PORTAL_NAME$5="Portal",Portal$4=reactExports.forwardRef((t,e)=>{var h;const{container:a,...l}=t,[u,c]=reactExports.useState(!1);useLayoutEffect2$5(()=>c(!0),[]);const d=a||u&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return d?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$4.div,{...l,ref:e}),d):null});Portal$4.displayName=PORTAL_NAME$5;var Slot$1=reactExports.forwardRef((t,e)=>{const{children:a,...l}=t,u=reactExports.Children.toArray(a),c=u.find(isSlottable);if(c){const d=c.props.children,h=u.map(m=>m===c?reactExports.Children.count(d)>1?reactExports.Children.only(null):reactExports.isValidElement(d)?d.props.children:null:m);return jsxRuntimeExports.jsx(SlotClone,{...l,ref:e,children:reactExports.isValidElement(d)?reactExports.cloneElement(d,void 0,h):null})}return jsxRuntimeExports.jsx(SlotClone,{...l,ref:e,children:a})});Slot$1.displayName="Slot";var SlotClone=reactExports.forwardRef((t,e)=>{const{children:a,...l}=t;if(reactExports.isValidElement(a)){const u=getElementRef$1(a);return reactExports.cloneElement(a,{...mergeProps(l,a.props),ref:e?composeRefs$5(e,u):u})}return reactExports.Children.count(a)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:t})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t});function isSlottable(t){return reactExports.isValidElement(t)&&t.type===Slottable}function mergeProps(t,e){const a={...e};for(const l in e){const u=t[l],c=e[l];/^on[A-Z]/.test(l)?u&&c?a[l]=(...h)=>{c(...h),u(...h)}:u&&(a[l]=u):l==="style"?a[l]={...u,...c}:l==="className"&&(a[l]=[u,c].filter(Boolean).join(" "))}return{...t,...a}}function getElementRef$1(t){var l,u;let e=(l=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:l.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function useControllableState$3({prop:t,defaultProp:e,onChange:a=()=>{}}){const[l,u]=useUncontrolledState$3({defaultProp:e,onChange:a}),c=t!==void 0,d=c?t:l,h=useCallbackRef$4(a),m=reactExports.useCallback(g=>{if(c){const b=typeof g=="function"?g(t):g;b!==t&&h(b)}else u(g)},[c,t,u,h]);return[d,m]}function useUncontrolledState$3({defaultProp:t,onChange:e}){const a=reactExports.useState(t),[l]=a,u=reactExports.useRef(l),c=useCallbackRef$4(e);return reactExports.useEffect(()=>{u.current!==l&&(c(l),u.current=l)},[l,u,c]),a}function usePrevious(t){const e=reactExports.useRef({value:t,previous:t});return reactExports.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var NAME$2="VisuallyHidden",VisuallyHidden$1=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Primitive$4.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));VisuallyHidden$1.displayName=NAME$2;var getDefaultParent=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(t){return t&&(t.host||unwrapHost(t.parentNode))},correctTargets=function(t,e){return e.map(function(a){if(t.contains(a))return a;var l=unwrapHost(a);return l&&t.contains(l)?l:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},applyAttributeToOthers=function(t,e,a,l){var u=correctTargets(e,Array.isArray(t)?t:[t]);markerMap[a]||(markerMap[a]=new WeakMap);var c=markerMap[a],d=[],h=new Set,m=new Set(u),g=function(b){!b||h.has(b)||(h.add(b),g(b.parentNode))};u.forEach(g);var y=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(v){if(h.has(v))y(v);else try{var C=v.getAttribute(l),S=C!==null&&C!=="false",E=(counterMap.get(v)||0)+1,_=(c.get(v)||0)+1;counterMap.set(v,E),c.set(v,_),d.push(v),E===1&&S&&uncontrolledNodes.set(v,!0),_===1&&v.setAttribute(a,"true"),S||v.setAttribute(l,"true")}catch(A){console.error("aria-hidden: cannot operate on ",v,A)}})};return y(e),h.clear(),lockCount++,function(){d.forEach(function(b){var v=counterMap.get(b)-1,C=c.get(b)-1;counterMap.set(b,v),c.set(b,C),v||(uncontrolledNodes.has(b)||b.removeAttribute(l),uncontrolledNodes.delete(b)),C||b.removeAttribute(a)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(t,e,a){a===void 0&&(a="data-aria-hidden");var l=Array.from(Array.isArray(t)?t:[t]),u=getDefaultParent(t);return u?(l.push.apply(l,Array.from(u.querySelectorAll("[aria-live]"))),applyAttributeToOthers(l,u,a,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function(e){for(var a,l=1,u=arguments.length;l<u;l++){a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},__assign.apply(this,arguments)};function __rest(t,e){var a={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(a[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(t);u<l.length;u++)e.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(t,l[u])&&(a[l[u]]=t[l[u]]);return a}function __spreadArray(t,e,a){if(a||arguments.length===2)for(var l=0,u=e.length,c;l<u;l++)(c||!(l in e))&&(c||(c=Array.prototype.slice.call(e,0,l)),c[l]=e[l]);return t.concat(c||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function useCallbackRef$3(t,e){var a=reactExports.useState(function(){return{value:t,callback:e,facade:{get current(){return a.value},set current(l){var u=a.value;u!==l&&(a.value=l,a.callback(l,u))}}}})[0];return a.callback=e,a.facade}var useIsomorphicLayoutEffect$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(t,e){var a=useCallbackRef$3(null,function(l){return t.forEach(function(u){return assignRef(u,l)})});return useIsomorphicLayoutEffect$2(function(){var l=currentValues.get(a);if(l){var u=new Set(l),c=new Set(t),d=a.current;u.forEach(function(h){c.has(h)||assignRef(h,null)}),c.forEach(function(h){u.has(h)||assignRef(h,d)})}currentValues.set(a,t)},[t]),a}function ItoI(t){return t}function innerCreateMedium(t,e){e===void 0&&(e=ItoI);var a=[],l=!1,u={read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(c){var d=e(c,l);return a.push(d),function(){a=a.filter(function(h){return h!==d})}},assignSyncMedium:function(c){for(l=!0;a.length;){var d=a;a=[],d.forEach(c)}a={push:function(h){return c(h)},filter:function(){return a}}},assignMedium:function(c){l=!0;var d=[];if(a.length){var h=a;a=[],h.forEach(c),d=a}var m=function(){var y=d;d=[],y.forEach(c)},g=function(){return Promise.resolve().then(m)};g(),a={push:function(y){d.push(y),g()},filter:function(y){return d=d.filter(y),a}}}};return u}function createSidecarMedium(t){t===void 0&&(t={});var e=innerCreateMedium(null);return e.options=__assign({async:!0,ssr:!1},t),e}var SideCar$1=function(t){var e=t.sideCar,a=__rest(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=e.read();if(!l)throw new Error("Sidecar medium not found");return reactExports.createElement(l,__assign({},a))};SideCar$1.isSideCarExport=!0;function exportSidecar(t,e){return t.useMedium(e),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(t,e){var a=reactExports.useRef(null),l=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),u=l[0],c=l[1],d=t.forwardProps,h=t.children,m=t.className,g=t.removeScrollBar,y=t.enabled,b=t.shards,v=t.sideCar,C=t.noIsolation,S=t.inert,E=t.allowPinchZoom,_=t.as,A=_===void 0?"div":_,R=t.gapMode,k=__rest(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=v,D=useMergeRefs([a,e]),B=__assign(__assign({},k),u);return reactExports.createElement(reactExports.Fragment,null,y&&reactExports.createElement(M,{sideCar:effectCar,removeScrollBar:g,shards:b,noIsolation:C,inert:S,setCallbacks:c,allowPinchZoom:!!E,lockRef:a,gapMode:R}),d?reactExports.cloneElement(reactExports.Children.only(h),__assign(__assign({},B),{ref:D})):reactExports.createElement(A,__assign({},B,{className:m,ref:D}),h))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=getNonce();return e&&t.setAttribute("nonce",e),t}function injectStyles(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function insertStyleTag(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var stylesheetSingleton=function(){var t=0,e=null;return{add:function(a){t==0&&(e=makeStyleTag())&&(injectStyles(e,a),insertStyleTag(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},styleHookSingleton=function(){var t=stylesheetSingleton();return function(e,a){reactExports.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&a])}},styleSingleton=function(){var t=styleHookSingleton(),e=function(a){var l=a.styles,u=a.dynamic;return t(l,u),null};return e},zeroGap={left:0,top:0,right:0,gap:0},parse=function(t){return parseInt(t||"",10)||0},getOffset=function(t){var e=window.getComputedStyle(document.body),a=e[t==="padding"?"paddingLeft":"marginLeft"],l=e[t==="padding"?"paddingTop":"marginTop"],u=e[t==="padding"?"paddingRight":"marginRight"];return[parse(a),parse(l),parse(u)]},getGapWidth=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zeroGap;var e=getOffset(t),a=document.documentElement.clientWidth,l=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,l-a+e[2]-e[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(t,e,a,l){var u=t.left,c=t.top,d=t.right,h=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(h,"px ").concat(l,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(l,";"),a==="margin"&&`
    padding-left: `.concat(u,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(l,`;
    `),a==="padding"&&"padding-right: ".concat(h,"px ").concat(l,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(h,"px ").concat(l,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(h,"px ").concat(l,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(l,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(l,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(h,`px;
  }
`)},getCurrentUseCounter=function(){var t=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(t)?t:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var t=getCurrentUseCounter()-1;t<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,t.toString())}},[])},RemoveScrollBar=function(t){var e=t.noRelative,a=t.noImportant,l=t.gapMode,u=l===void 0?"margin":l;useLockAttribute();var c=reactExports.useMemo(function(){return getGapWidth(u)},[u]);return reactExports.createElement(Style,{styles:getStyles(c,!e,u,a?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(t){return t.tagName==="TEXTAREA"},elementCanBeScrolled=function(t,e){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[e]!=="hidden"&&!(a.overflowY===a.overflowX&&!alwaysContainsScroll(t)&&a[e]==="visible")},elementCouldBeVScrolled=function(t){return elementCanBeScrolled(t,"overflowY")},elementCouldBeHScrolled=function(t){return elementCanBeScrolled(t,"overflowX")},locationCouldBeScrolled=function(t,e){var a=e.ownerDocument,l=e;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var u=elementCouldBeScrolled(t,l);if(u){var c=getScrollVariables(t,l),d=c[1],h=c[2];if(d>h)return!0}l=l.parentNode}while(l&&l!==a.body);return!1},getVScrollVariables=function(t){var e=t.scrollTop,a=t.scrollHeight,l=t.clientHeight;return[e,a,l]},getHScrollVariables=function(t){var e=t.scrollLeft,a=t.scrollWidth,l=t.clientWidth;return[e,a,l]},elementCouldBeScrolled=function(t,e){return t==="v"?elementCouldBeVScrolled(e):elementCouldBeHScrolled(e)},getScrollVariables=function(t,e){return t==="v"?getVScrollVariables(e):getHScrollVariables(e)},getDirectionFactor=function(t,e){return t==="h"&&e==="rtl"?-1:1},handleScroll=function(t,e,a,l,u){var c=getDirectionFactor(t,window.getComputedStyle(e).direction),d=c*l,h=a.target,m=e.contains(h),g=!1,y=d>0,b=0,v=0;do{var C=getScrollVariables(t,h),S=C[0],E=C[1],_=C[2],A=E-_-c*S;(S||A)&&elementCouldBeScrolled(t,h)&&(b+=A,v+=S),h instanceof ShadowRoot?h=h.host:h=h.parentNode}while(!m&&h!==document.body||m&&(e.contains(h)||e===h));return(y&&Math.abs(b)<1||!y&&Math.abs(v)<1)&&(g=!0),g},getTouchXY=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(t){return[t.deltaX,t.deltaY]},extractRef=function(t){return t&&"current"in t?t.current:t},deltaCompare=function(t,e){return t[0]===e[0]&&t[1]===e[1]},generateStyle=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(t){var e=reactExports.useRef([]),a=reactExports.useRef([0,0]),l=reactExports.useRef(),u=reactExports.useState(idCounter++)[0],c=reactExports.useState(styleSingleton)[0],d=reactExports.useRef(t);reactExports.useEffect(function(){d.current=t},[t]),reactExports.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(u));var E=__spreadArray([t.lockRef.current],(t.shards||[]).map(extractRef),!0).filter(Boolean);return E.forEach(function(_){return _.classList.add("allow-interactivity-".concat(u))}),function(){document.body.classList.remove("block-interactivity-".concat(u)),E.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(u))})}}},[t.inert,t.lockRef.current,t.shards]);var h=reactExports.useCallback(function(E,_){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!d.current.allowPinchZoom;var A=getTouchXY(E),R=a.current,k="deltaX"in E?E.deltaX:R[0]-A[0],M="deltaY"in E?E.deltaY:R[1]-A[1],D,B=E.target,U=Math.abs(k)>Math.abs(M)?"h":"v";if("touches"in E&&U==="h"&&B.type==="range")return!1;var T=locationCouldBeScrolled(U,B);if(!T)return!0;if(T?D=U:(D=U==="v"?"h":"v",T=locationCouldBeScrolled(U,B)),!T)return!1;if(!l.current&&"changedTouches"in E&&(k||M)&&(l.current=D),!D)return!0;var $=l.current||D;return handleScroll($,_,E,$==="h"?k:M)},[]),m=reactExports.useCallback(function(E){var _=E;if(!(!lockStack.length||lockStack[lockStack.length-1]!==c)){var A="deltaY"in _?getDeltaXY(_):getTouchXY(_),R=e.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&deltaCompare(D.delta,A)})[0];if(R&&R.should){_.cancelable&&_.preventDefault();return}if(!R){var k=(d.current.shards||[]).map(extractRef).filter(Boolean).filter(function(D){return D.contains(_.target)}),M=k.length>0?h(_,k[0]):!d.current.noIsolation;M&&_.cancelable&&_.preventDefault()}}},[]),g=reactExports.useCallback(function(E,_,A,R){var k={name:E,delta:_,target:A,should:R,shadowParent:getOutermostShadowParent(A)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(M){return M!==k})},1)},[]),y=reactExports.useCallback(function(E){a.current=getTouchXY(E),l.current=void 0},[]),b=reactExports.useCallback(function(E){g(E.type,getDeltaXY(E),E.target,h(E,t.lockRef.current))},[]),v=reactExports.useCallback(function(E){g(E.type,getTouchXY(E),E.target,h(E,t.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(c),t.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:v}),document.addEventListener("wheel",m,nonPassive),document.addEventListener("touchmove",m,nonPassive),document.addEventListener("touchstart",y,nonPassive),function(){lockStack=lockStack.filter(function(E){return E!==c}),document.removeEventListener("wheel",m,nonPassive),document.removeEventListener("touchmove",m,nonPassive),document.removeEventListener("touchstart",y,nonPassive)}},[]);var C=t.removeScrollBar,S=t.inert;return reactExports.createElement(reactExports.Fragment,null,S?reactExports.createElement(c,{styles:generateStyle(u)}):null,C?reactExports.createElement(RemoveScrollBar,{gapMode:t.gapMode}):null)}function getOutermostShadowParent(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(t,e){return reactExports.createElement(RemoveScroll,__assign({},t,{ref:e,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS$1=[" ","Enter"],SELECT_NAME="Select",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection$3(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope$4(SELECT_NAME,[createCollectionScope$3,createPopperScope$1]),usePopperScope$1=createPopperScope$1(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=t=>{const{__scopeSelect:e,children:a,open:l,defaultOpen:u,onOpenChange:c,value:d,defaultValue:h,onValueChange:m,dir:g,name:y,autoComplete:b,disabled:v,required:C,form:S}=t,E=usePopperScope$1(e),[_,A]=reactExports.useState(null),[R,k]=reactExports.useState(null),[M,D]=reactExports.useState(!1),B=useDirection$2(g),[U=!1,T]=useControllableState$3({prop:l,defaultProp:u,onChange:c}),[$,G]=useControllableState$3({prop:d,defaultProp:h,onChange:m}),ue=reactExports.useRef(null),te=_?S||!!_.closest("form"):!0,[Se,he]=reactExports.useState(new Set),Te=Array.from(Se).map(ve=>ve.props.value).join(";");return jsxRuntimeExports.jsx(Root2$4,{...E,children:jsxRuntimeExports.jsxs(SelectProvider,{required:C,scope:e,trigger:_,onTriggerChange:A,valueNode:R,onValueNodeChange:k,valueNodeHasChildren:M,onValueNodeHasChildrenChange:D,contentId:useId$2(),value:$,onValueChange:G,open:U,onOpenChange:T,dir:B,triggerPointerDownPosRef:ue,disabled:v,children:[jsxRuntimeExports.jsx(Collection$3.Provider,{scope:e,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:t.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(ve=>{he(ce=>new Set(ce).add(ve))},[]),onNativeOptionRemove:reactExports.useCallback(ve=>{he(ce=>{const ae=new Set(ce);return ae.delete(ve),ae})},[]),children:a})}),te?jsxRuntimeExports.jsxs(BubbleSelect,{"aria-hidden":!0,required:C,tabIndex:-1,name:y,autoComplete:b,value:$,onChange:ve=>G(ve.target.value),disabled:v,form:S,children:[$===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(Se)]},Te):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$1="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,disabled:l=!1,...u}=t,c=usePopperScope$1(a),d=useSelectContext(TRIGGER_NAME$1,a),h=d.disabled||l,m=useComposedRefs$4(e,d.onTriggerChange),g=useCollection$3(a),y=reactExports.useRef("touch"),[b,v,C]=useTypeaheadSearch(E=>{const _=g().filter(k=>!k.disabled),A=_.find(k=>k.value===d.value),R=findNextItem(_,E,A);R!==void 0&&d.onValueChange(R.value)}),S=E=>{h||(d.onOpenChange(!0),C()),E&&(d.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...c,children:jsxRuntimeExports.jsx(Primitive$4.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":shouldShowPlaceholder(d.value)?"":void 0,...u,ref:m,onClick:composeEventHandlers$4(u.onClick,E=>{E.currentTarget.focus(),y.current!=="mouse"&&S(E)}),onPointerDown:composeEventHandlers$4(u.onPointerDown,E=>{y.current=E.pointerType;const _=E.target;_.hasPointerCapture(E.pointerId)&&_.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(S(E),E.preventDefault())}),onKeyDown:composeEventHandlers$4(u.onKeyDown,E=>{const _=b.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&v(E.key),!(_&&E.key===" ")&&OPEN_KEYS.includes(E.key)&&(S(),E.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$1;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,className:l,style:u,children:c,placeholder:d="",...h}=t,m=useSelectContext(VALUE_NAME,a),{onValueNodeHasChildrenChange:g}=m,y=c!==void 0,b=useComposedRefs$4(e,m.onValueNodeChange);return useLayoutEffect2$5(()=>{g(y)},[g,y]),jsxRuntimeExports.jsx(Primitive$4.span,{...h,ref:b,style:{pointerEvents:"none"},children:shouldShowPlaceholder(m.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:d}):c})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,children:l,...u}=t;return jsxRuntimeExports.jsx(Primitive$4.span,{"aria-hidden":!0,...u,ref:e,children:l||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$4="SelectPortal",SelectPortal=t=>jsxRuntimeExports.jsx(Portal$4,{asChild:!0,...t});SelectPortal.displayName=PORTAL_NAME$4;var CONTENT_NAME$3="SelectContent",SelectContent$1=reactExports.forwardRef((t,e)=>{const a=useSelectContext(CONTENT_NAME$3,t.__scopeSelect),[l,u]=reactExports.useState();if(useLayoutEffect2$5(()=>{u(new DocumentFragment)},[]),!a.open){const c=l;return c?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:t.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:t.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:t.children})})}),c):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...t,ref:e})});SelectContent$1.displayName=CONTENT_NAME$3;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$3),CONTENT_IMPL_NAME="SelectContentImpl",SelectContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,position:l="item-aligned",onCloseAutoFocus:u,onEscapeKeyDown:c,onPointerDownOutside:d,side:h,sideOffset:m,align:g,alignOffset:y,arrowPadding:b,collisionBoundary:v,collisionPadding:C,sticky:S,hideWhenDetached:E,avoidCollisions:_,...A}=t,R=useSelectContext(CONTENT_NAME$3,a),[k,M]=reactExports.useState(null),[D,B]=reactExports.useState(null),U=useComposedRefs$4(e,K=>M(K)),[T,$]=reactExports.useState(null),[G,ue]=reactExports.useState(null),te=useCollection$3(a),[Se,he]=reactExports.useState(!1),Te=reactExports.useRef(!1);reactExports.useEffect(()=>{if(k)return hideOthers(k)},[k]),useFocusGuards$1();const ve=reactExports.useCallback(K=>{const[le,...ye]=te().map(j=>j.ref.current),[Ce]=ye.slice(-1),xe=document.activeElement;for(const j of K)if(j===xe||(j==null||j.scrollIntoView({block:"nearest"}),j===le&&D&&(D.scrollTop=0),j===Ce&&D&&(D.scrollTop=D.scrollHeight),j==null||j.focus(),document.activeElement!==xe))return},[te,D]),ce=reactExports.useCallback(()=>ve([T,k]),[ve,T,k]);reactExports.useEffect(()=>{Se&&ce()},[Se,ce]);const{onOpenChange:ae,triggerPointerDownPosRef:pe}=R;reactExports.useEffect(()=>{if(k){let K={x:0,y:0};const le=Ce=>{var xe,j;K={x:Math.abs(Math.round(Ce.pageX)-(((xe=pe.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((j=pe.current)==null?void 0:j.y)??0))}},ye=Ce=>{K.x<=10&&K.y<=10?Ce.preventDefault():k.contains(Ce.target)||ae(!1),document.removeEventListener("pointermove",le),pe.current=null};return pe.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ye,{capture:!0})}}},[k,ae,pe]),reactExports.useEffect(()=>{const K=()=>ae(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[ae]);const[ee,N]=useTypeaheadSearch(K=>{const le=te().filter(xe=>!xe.disabled),ye=le.find(xe=>xe.ref.current===document.activeElement),Ce=findNextItem(le,K,ye);Ce&&setTimeout(()=>Ce.ref.current.focus())}),I=reactExports.useCallback((K,le,ye)=>{const Ce=!Te.current&&!ye;(R.value!==void 0&&R.value===le||Ce)&&($(K),Ce&&(Te.current=!0))},[R.value]),L=reactExports.useCallback(()=>k==null?void 0:k.focus(),[k]),H=reactExports.useCallback((K,le,ye)=>{const Ce=!Te.current&&!ye;(R.value!==void 0&&R.value===le||Ce)&&ue(K)},[R.value]),re=l==="popper"?SelectPopperPosition:SelectItemAlignedPosition,oe=re===SelectPopperPosition?{side:h,sideOffset:m,align:g,alignOffset:y,arrowPadding:b,collisionBoundary:v,collisionPadding:C,sticky:S,hideWhenDetached:E,avoidCollisions:_}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:a,content:k,viewport:D,onViewportChange:B,itemRefCallback:I,selectedItem:T,onItemLeave:L,itemTextRefCallback:H,focusSelectedItem:ce,selectedItemText:G,position:l,isPositioned:Se,searchRef:ee,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope$1,{asChild:!0,trapped:R.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:composeEventHandlers$4(u,K=>{var le;(le=R.trigger)==null||le.focus({preventScroll:!0}),K.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer$2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:jsxRuntimeExports.jsx(re,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:K=>K.preventDefault(),...A,...oe,onPlaced:()=>he(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:composeEventHandlers$4(A.onKeyDown,K=>{const le=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!le&&K.key.length===1&&N(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Ce=te().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const xe=K.target,j=Ce.indexOf(xe);Ce=Ce.slice(j+1)}setTimeout(()=>ve(Ce)),K.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,onPlaced:l,...u}=t,c=useSelectContext(CONTENT_NAME$3,a),d=useSelectContentContext(CONTENT_NAME$3,a),[h,m]=reactExports.useState(null),[g,y]=reactExports.useState(null),b=useComposedRefs$4(e,U=>y(U)),v=useCollection$3(a),C=reactExports.useRef(!1),S=reactExports.useRef(!0),{viewport:E,selectedItem:_,selectedItemText:A,focusSelectedItem:R}=d,k=reactExports.useCallback(()=>{if(c.trigger&&c.valueNode&&h&&g&&E&&_&&A){const U=c.trigger.getBoundingClientRect(),T=g.getBoundingClientRect(),$=c.valueNode.getBoundingClientRect(),G=A.getBoundingClientRect();if(c.dir!=="rtl"){const xe=G.left-T.left,j=$.left-xe,V=U.left-j,Q=U.width+V,se=Math.max(Q,T.width),q=window.innerWidth-CONTENT_MARGIN,de=clamp$1(j,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,q-se)]);h.style.minWidth=Q+"px",h.style.left=de+"px"}else{const xe=T.right-G.right,j=window.innerWidth-$.right-xe,V=window.innerWidth-U.right-j,Q=U.width+V,se=Math.max(Q,T.width),q=window.innerWidth-CONTENT_MARGIN,de=clamp$1(j,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,q-se)]);h.style.minWidth=Q+"px",h.style.right=de+"px"}const ue=v(),te=window.innerHeight-CONTENT_MARGIN*2,Se=E.scrollHeight,he=window.getComputedStyle(g),Te=parseInt(he.borderTopWidth,10),ve=parseInt(he.paddingTop,10),ce=parseInt(he.borderBottomWidth,10),ae=parseInt(he.paddingBottom,10),pe=Te+ve+Se+ae+ce,ee=Math.min(_.offsetHeight*5,pe),N=window.getComputedStyle(E),I=parseInt(N.paddingTop,10),L=parseInt(N.paddingBottom,10),H=U.top+U.height/2-CONTENT_MARGIN,re=te-H,oe=_.offsetHeight/2,K=_.offsetTop+oe,le=Te+ve+K,ye=pe-le;if(le<=H){const xe=ue.length>0&&_===ue[ue.length-1].ref.current;h.style.bottom="0px";const j=g.clientHeight-E.offsetTop-E.offsetHeight,V=Math.max(re,oe+(xe?L:0)+j+ce),Q=le+V;h.style.height=Q+"px"}else{const xe=ue.length>0&&_===ue[0].ref.current;h.style.top="0px";const V=Math.max(H,Te+E.offsetTop+(xe?I:0)+oe)+ye;h.style.height=V+"px",E.scrollTop=le-H+E.offsetTop}h.style.margin=`${CONTENT_MARGIN}px 0`,h.style.minHeight=ee+"px",h.style.maxHeight=te+"px",l==null||l(),requestAnimationFrame(()=>C.current=!0)}},[v,c.trigger,c.valueNode,h,g,E,_,A,c.dir,l]);useLayoutEffect2$5(()=>k(),[k]);const[M,D]=reactExports.useState();useLayoutEffect2$5(()=>{g&&D(window.getComputedStyle(g).zIndex)},[g]);const B=reactExports.useCallback(U=>{U&&S.current===!0&&(k(),R==null||R(),S.current=!1)},[k,R]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:a,contentWrapper:h,shouldExpandOnScrollRef:C,onScrollButtonChange:B,children:jsxRuntimeExports.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:jsxRuntimeExports.jsx(Primitive$4.div,{...u,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...u.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,align:l="start",collisionPadding:u=CONTENT_MARGIN,...c}=t,d=usePopperScope$1(a);return jsxRuntimeExports.jsx(Content$1,{...d,...c,ref:e,align:l,collisionPadding:u,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$3,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,nonce:l,...u}=t,c=useSelectContentContext(VIEWPORT_NAME$1,a),d=useSelectViewportContext(VIEWPORT_NAME$1,a),h=useComposedRefs$4(e,c.onViewportChange),m=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),jsxRuntimeExports.jsx(Collection$3.Slot,{scope:a,children:jsxRuntimeExports.jsx(Primitive$4.div,{"data-radix-select-viewport":"",role:"presentation",...u,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...u.style},onScroll:composeEventHandlers$4(u.onScroll,g=>{const y=g.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:v}=d;if(v!=null&&v.current&&b){const C=Math.abs(m.current-y.scrollTop);if(C>0){const S=window.innerHeight-CONTENT_MARGIN*2,E=parseFloat(b.style.minHeight),_=parseFloat(b.style.height),A=Math.max(E,_);if(A<S){const R=A+C,k=Math.min(S,R),M=R-k;b.style.height=k+"px",b.style.bottom==="0px"&&(y.scrollTop=M>0?M:0,b.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME$3="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME$3),SelectGroup=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,...l}=t,u=useId$2();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:a,id:u,children:jsxRuntimeExports.jsx(Primitive$4.div,{role:"group","aria-labelledby":u,...l,ref:e})})});SelectGroup.displayName=GROUP_NAME$3;var LABEL_NAME$2="SelectLabel",SelectLabel$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,...l}=t,u=useSelectGroupContext(LABEL_NAME$2,a);return jsxRuntimeExports.jsx(Primitive$4.div,{id:u.id,...l,ref:e})});SelectLabel$1.displayName=LABEL_NAME$2;var ITEM_NAME$3="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$3),SelectItem$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,value:l,disabled:u=!1,textValue:c,...d}=t,h=useSelectContext(ITEM_NAME$3,a),m=useSelectContentContext(ITEM_NAME$3,a),g=h.value===l,[y,b]=reactExports.useState(c??""),[v,C]=reactExports.useState(!1),S=useComposedRefs$4(e,R=>{var k;return(k=m.itemRefCallback)==null?void 0:k.call(m,R,l,u)}),E=useId$2(),_=reactExports.useRef("touch"),A=()=>{u||(h.onValueChange(l),h.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:a,value:l,disabled:u,textId:E,isSelected:g,onItemTextChange:reactExports.useCallback(R=>{b(k=>k||((R==null?void 0:R.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:a,value:l,disabled:u,textValue:y,children:jsxRuntimeExports.jsx(Primitive$4.div,{role:"option","aria-labelledby":E,"data-highlighted":v?"":void 0,"aria-selected":g&&v,"data-state":g?"checked":"unchecked","aria-disabled":u||void 0,"data-disabled":u?"":void 0,tabIndex:u?void 0:-1,...d,ref:S,onFocus:composeEventHandlers$4(d.onFocus,()=>C(!0)),onBlur:composeEventHandlers$4(d.onBlur,()=>C(!1)),onClick:composeEventHandlers$4(d.onClick,()=>{_.current!=="mouse"&&A()}),onPointerUp:composeEventHandlers$4(d.onPointerUp,()=>{_.current==="mouse"&&A()}),onPointerDown:composeEventHandlers$4(d.onPointerDown,R=>{_.current=R.pointerType}),onPointerMove:composeEventHandlers$4(d.onPointerMove,R=>{var k;_.current=R.pointerType,u?(k=m.onItemLeave)==null||k.call(m):_.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers$4(d.onPointerLeave,R=>{var k;R.currentTarget===document.activeElement&&((k=m.onItemLeave)==null||k.call(m))}),onKeyDown:composeEventHandlers$4(d.onKeyDown,R=>{var M;((M=m.searchRef)==null?void 0:M.current)!==""&&R.key===" "||(SELECTION_KEYS$1.includes(R.key)&&A(),R.key===" "&&R.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$3;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,className:l,style:u,...c}=t,d=useSelectContext(ITEM_TEXT_NAME,a),h=useSelectContentContext(ITEM_TEXT_NAME,a),m=useSelectItemContext(ITEM_TEXT_NAME,a),g=useSelectNativeOptionsContext(ITEM_TEXT_NAME,a),[y,b]=reactExports.useState(null),v=useComposedRefs$4(e,A=>b(A),m.onItemTextChange,A=>{var R;return(R=h.itemTextRefCallback)==null?void 0:R.call(h,A,m.value,m.disabled)}),C=y==null?void 0:y.textContent,S=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:m.value,disabled:m.disabled,children:C},m.value),[m.disabled,m.value,C]),{onNativeOptionAdd:E,onNativeOptionRemove:_}=g;return useLayoutEffect2$5(()=>(E(S),()=>_(S)),[E,_,S]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive$4.span,{id:m.textId,...c,ref:v}),m.isSelected&&d.valueNode&&!d.valueNodeHasChildren?reactDomExports.createPortal(c.children,d.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME$1="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,...l}=t;return useSelectItemContext(ITEM_INDICATOR_NAME$1,a).isSelected?jsxRuntimeExports.jsx(Primitive$4.span,{"aria-hidden":!0,...l,ref:e}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME$1;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((t,e)=>{const a=useSelectContentContext(SCROLL_UP_BUTTON_NAME,t.__scopeSelect),l=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,t.__scopeSelect),[u,c]=reactExports.useState(!1),d=useComposedRefs$4(e,l.onScrollButtonChange);return useLayoutEffect2$5(()=>{if(a.viewport&&a.isPositioned){let h=function(){const g=m.scrollTop>0;c(g)};const m=a.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[a.viewport,a.isPositioned]),u?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...t,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=a;h&&m&&(h.scrollTop=h.scrollTop-m.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((t,e)=>{const a=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,t.__scopeSelect),l=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,t.__scopeSelect),[u,c]=reactExports.useState(!1),d=useComposedRefs$4(e,l.onScrollButtonChange);return useLayoutEffect2$5(()=>{if(a.viewport&&a.isPositioned){let h=function(){const g=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<g;c(y)};const m=a.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[a.viewport,a.isPositioned]),u?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...t,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=a;h&&m&&(h.scrollTop=h.scrollTop+m.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,onAutoScroll:l,...u}=t,c=useSelectContentContext("SelectScrollButton",a),d=reactExports.useRef(null),h=useCollection$3(a),m=reactExports.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return reactExports.useEffect(()=>()=>m(),[m]),useLayoutEffect2$5(()=>{var y;const g=h().find(b=>b.ref.current===document.activeElement);(y=g==null?void 0:g.ref.current)==null||y.scrollIntoView({block:"nearest"})},[h]),jsxRuntimeExports.jsx(Primitive$4.div,{"aria-hidden":!0,...u,ref:e,style:{flexShrink:0,...u.style},onPointerDown:composeEventHandlers$4(u.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(l,50))}),onPointerMove:composeEventHandlers$4(u.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),d.current===null&&(d.current=window.setInterval(l,50))}),onPointerLeave:composeEventHandlers$4(u.onPointerLeave,()=>{m()})})}),SEPARATOR_NAME$2="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,...l}=t;return jsxRuntimeExports.jsx(Primitive$4.div,{"aria-hidden":!0,...l,ref:e})});SelectSeparator$1.displayName=SEPARATOR_NAME$2;var ARROW_NAME$3="SelectArrow",SelectArrow=reactExports.forwardRef((t,e)=>{const{__scopeSelect:a,...l}=t,u=usePopperScope$1(a),c=useSelectContext(ARROW_NAME$3,a),d=useSelectContentContext(ARROW_NAME$3,a);return c.open&&d.position==="popper"?jsxRuntimeExports.jsx(Arrow$2,{...u,...l,ref:e}):null});SelectArrow.displayName=ARROW_NAME$3;function shouldShowPlaceholder(t){return t===""||t===void 0}var BubbleSelect=reactExports.forwardRef((t,e)=>{const{value:a,...l}=t,u=reactExports.useRef(null),c=useComposedRefs$4(e,u),d=usePrevious(a);return reactExports.useEffect(()=>{const h=u.current,m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(d!==a&&y){const b=new Event("change",{bubbles:!0});y.call(h,a),h.dispatchEvent(b)}},[d,a]),jsxRuntimeExports.jsx(VisuallyHidden$1,{asChild:!0,children:jsxRuntimeExports.jsx("select",{...l,ref:c,defaultValue:a})})});BubbleSelect.displayName="BubbleSelect";function useTypeaheadSearch(t){const e=useCallbackRef$4(t),a=reactExports.useRef(""),l=reactExports.useRef(0),u=reactExports.useCallback(d=>{const h=a.current+d;e(h),function m(g){a.current=g,window.clearTimeout(l.current),g!==""&&(l.current=window.setTimeout(()=>m(""),1e3))}(h)},[e]),c=reactExports.useCallback(()=>{a.current="",window.clearTimeout(l.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(l.current),[]),[a,u,c]}function findNextItem(t,e,a){const u=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=a?t.indexOf(a):-1;let d=wrapArray$2(t,Math.max(c,0));u.length===1&&(d=d.filter(g=>g!==a));const m=d.find(g=>g.textValue.toLowerCase().startsWith(u.toLowerCase()));return m!==a?m:void 0}function wrapArray$2(t,e){return t.map((a,l)=>t[(e+l)%t.length])}var Root2$3=Select$1,Trigger$1=SelectTrigger$1,Value=SelectValue$1,Icon$1=SelectIcon,Portal$3=SelectPortal,Content2$2=SelectContent$1,Viewport$1=SelectViewport,Label$1=SelectLabel$1,Item$2=SelectItem$1,ItemText=SelectItemText,ItemIndicator$1=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator$1=SelectSeparator$1;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...t)=>t.filter((e,a,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===a).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:d,...h},m)=>reactExports.createElement("svg",{ref:m,...defaultAttributes,width:e,height:e,stroke:t,strokeWidth:l?Number(a)*24/Number(e):a,className:mergeClasses("lucide",u),...h},[...d.map(([g,y])=>reactExports.createElement(g,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(t,e)=>{const a=reactExports.forwardRef(({className:l,...u},c)=>reactExports.createElement(Icon,{ref:c,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(t)}`,l),...u}));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("Check",__iconNode$d);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("ChevronDown",__iconNode$c);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("ChevronRight",__iconNode$b);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("ChevronUp",__iconNode$a);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14 16-4-4 4-4",key:"ojs7w8"}]],CircleChevronLeft=createLucideIcon("CircleChevronLeft",__iconNode$9);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Circle=createLucideIcon("Circle",__iconNode$8);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("Copy",__iconNode$7);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("FileText",__iconNode$6);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("LoaderCircle",__iconNode$5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Moon=createLucideIcon("Moon",__iconNode$4);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RefreshCw=createLucideIcon("RefreshCw",__iconNode$3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("Sun",__iconNode$2);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Trash2=createLucideIcon("Trash2",__iconNode$1);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("X",__iconNode),Select=Root2$3,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:t,children:e,...a},l)=>jsxRuntimeExports.jsxs(Trigger$1,{ref:l,className:cn("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[e,jsxRuntimeExports.jsx(Icon$1,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger$1.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:a,className:cn("flex cursor-default items-center justify-center py-1",t),...e,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:a,className:cn("flex cursor-default items-center justify-center py-1",t),...e,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:t,children:e,position:a="popper",...l},u)=>jsxRuntimeExports.jsx(Portal$3,{children:jsxRuntimeExports.jsxs(Content2$2,{ref:u,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...l,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$2.displayName;const SelectLabel=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(Label$1,{ref:a,className:cn("px-2 py-1.5 text-sm font-semibold",t),...e}));SelectLabel.displayName=Label$1.displayName;const SelectItem=reactExports.forwardRef(({className:t,children:e,...a},l)=>jsxRuntimeExports.jsxs(Item$2,{ref:l,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[jsxRuntimeExports.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator$1,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:e})]}));SelectItem.displayName=Item$2.displayName;const SelectSeparator=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(Separator$1,{ref:a,className:cn("-mx-1 my-1 h-px bg-muted",t),...e}));SelectSeparator.displayName=Separator$1.displayName;var isCheckBoxInput=t=>t.type==="checkbox",isDateObject=t=>t instanceof Date,isNullOrUndefined=t=>t==null;const isObjectType=t=>typeof t=="object";var isObject$2=t=>!isNullOrUndefined(t)&&!Array.isArray(t)&&isObjectType(t)&&!isDateObject(t),getEventValue=t=>isObject$2(t)&&t.target?isCheckBoxInput(t.target)?t.target.checked:t.target.value:t,getNodeParentName=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,isNameInFieldArray=(t,e)=>t.has(getNodeParentName(e)),isPlainObject$2=t=>{const e=t.constructor&&t.constructor.prototype;return isObject$2(e)&&e.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(t){let e;const a=Array.isArray(t),l=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(isWeb&&(t instanceof Blob||l))&&(a||isObject$2(t)))if(e=a?[]:{},!a&&!isPlainObject$2(t))e=t;else for(const u in t)t.hasOwnProperty(u)&&(e[u]=cloneObject(t[u]));else return t;return e}var compact=t=>Array.isArray(t)?t.filter(Boolean):[],isUndefined$1=t=>t===void 0,get=(t,e,a)=>{if(!e||!isObject$2(t))return a;const l=compact(e.split(/[,[\].]+?/)).reduce((u,c)=>isNullOrUndefined(u)?u:u[c],t);return isUndefined$1(l)||l===t?isUndefined$1(t[e])?a:t[e]:l},isBoolean$1=t=>typeof t=="boolean",isKey=t=>/^\w*$/.test(t),stringToPath=t=>compact(t.replace(/["|']|\]/g,"").split(/\.|\[/)),set=(t,e,a)=>{let l=-1;const u=isKey(e)?[e]:stringToPath(e),c=u.length,d=c-1;for(;++l<c;){const h=u[l];let m=a;if(l!==d){const g=t[h];m=isObject$2(g)||Array.isArray(g)?g:isNaN(+u[l+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;t[h]=m,t=t[h]}};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React2.createContext(null),useFormContext=()=>React2.useContext(HookFormContext),FormProvider=t=>{const{children:e,...a}=t;return React2.createElement(HookFormContext.Provider,{value:a},e)};var getProxyFormState=(t,e,a,l=!0)=>{const u={defaultValues:e._defaultValues};for(const c in t)Object.defineProperty(u,c,{get:()=>{const d=c;return e._proxyFormState[d]!==VALIDATION_MODE.all&&(e._proxyFormState[d]=!l||VALIDATION_MODE.all),a&&(a[d]=!0),t[d]}});return u};const useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useFormState(t){const e=useFormContext(),{control:a=e.control,disabled:l,name:u,exact:c}=t,[d,h]=React2.useState(a._formState),m=React2.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return useIsomorphicLayoutEffect$1(()=>a._subscribe({name:u,formState:m.current,exact:c,callback:g=>{!l&&h({...a._formState,...g})}}),[u,l,c]),React2.useEffect(()=>{m.current.isValid&&a._setValid(!0)},[a]),React2.useMemo(()=>getProxyFormState(d,a,m.current,!1),[d,a])}var isString$3=t=>typeof t=="string",generateWatchOutput=(t,e,a,l,u)=>isString$3(t)?(l&&e.watch.add(t),get(a,t,u)):Array.isArray(t)?t.map(c=>(l&&e.watch.add(c),get(a,c))):(l&&(e.watchAll=!0),a);function useWatch(t){const e=useFormContext(),{control:a=e.control,name:l,defaultValue:u,disabled:c,exact:d}=t,h=React2.useRef(u),[m,g]=React2.useState(a._getWatch(l,h.current));return useIsomorphicLayoutEffect$1(()=>a._subscribe({name:l,formState:{values:!0},exact:d,callback:y=>!c&&g(generateWatchOutput(l,a._names,y.values||a._formValues,!1,h.current))}),[l,a,c,d]),React2.useEffect(()=>a._removeUnmounted()),m}function useController(t){const e=useFormContext(),{name:a,disabled:l,control:u=e.control,shouldUnregister:c}=t,d=isNameInFieldArray(u._names.array,a),h=useWatch({control:u,name:a,defaultValue:get(u._formValues,a,get(u._defaultValues,a,t.defaultValue)),exact:!0}),m=useFormState({control:u,name:a,exact:!0}),g=React2.useRef(t),y=React2.useRef(u.register(a,{...t.rules,value:h,...isBoolean$1(t.disabled)?{disabled:t.disabled}:{}})),b=React2.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get(m.errors,a)},isDirty:{enumerable:!0,get:()=>!!get(m.dirtyFields,a)},isTouched:{enumerable:!0,get:()=>!!get(m.touchedFields,a)},isValidating:{enumerable:!0,get:()=>!!get(m.validatingFields,a)},error:{enumerable:!0,get:()=>get(m.errors,a)}}),[m,a]),v=React2.useCallback(_=>y.current.onChange({target:{value:getEventValue(_),name:a},type:EVENTS.CHANGE}),[a]),C=React2.useCallback(()=>y.current.onBlur({target:{value:get(u._formValues,a),name:a},type:EVENTS.BLUR}),[a,u._formValues]),S=React2.useCallback(_=>{const A=get(u._fields,a);A&&_&&(A._f.ref={focus:()=>_.focus(),select:()=>_.select(),setCustomValidity:R=>_.setCustomValidity(R),reportValidity:()=>_.reportValidity()})},[u._fields,a]),E=React2.useMemo(()=>({name:a,value:h,...isBoolean$1(l)||m.disabled?{disabled:m.disabled||l}:{},onChange:v,onBlur:C,ref:S}),[a,l,m.disabled,v,C,S,h]);return React2.useEffect(()=>{const _=u._options.shouldUnregister||c;u.register(a,{...g.current.rules,...isBoolean$1(g.current.disabled)?{disabled:g.current.disabled}:{}});const A=(R,k)=>{const M=get(u._fields,R);M&&M._f&&(M._f.mount=k)};if(A(a,!0),_){const R=cloneObject(get(u._options.defaultValues,a));set(u._defaultValues,a,R),isUndefined$1(get(u._formValues,a))&&set(u._formValues,a,R)}return!d&&u.register(a),()=>{(d?_&&!u._state.action:_)?u.unregister(a):A(a,!1)}},[a,u,d,c]),React2.useEffect(()=>{u._setDisabledField({disabled:l,name:a})},[l,a,u]),React2.useMemo(()=>({field:E,formState:m,fieldState:b}),[E,m,b])}const Controller=t=>t.render(useController(t));var appendErrors=(t,e,a,l,u)=>e?{...a[t],types:{...a[t]&&a[t].types?a[t].types:{},[l]:u||!0}}:{},convertToArrayPayload=t=>Array.isArray(t)?t:[t],createSubject=()=>{let t=[];return{get observers(){return t},next:u=>{for(const c of t)c.next&&c.next(u)},subscribe:u=>(t.push(u),{unsubscribe:()=>{t=t.filter(c=>c!==u)}}),unsubscribe:()=>{t=[]}}},isPrimitive=t=>isNullOrUndefined(t)||!isObjectType(t);function deepEqual$1(t,e){if(isPrimitive(t)||isPrimitive(e))return t===e;if(isDateObject(t)&&isDateObject(e))return t.getTime()===e.getTime();const a=Object.keys(t),l=Object.keys(e);if(a.length!==l.length)return!1;for(const u of a){const c=t[u];if(!l.includes(u))return!1;if(u!=="ref"){const d=e[u];if(isDateObject(c)&&isDateObject(d)||isObject$2(c)&&isObject$2(d)||Array.isArray(c)&&Array.isArray(d)?!deepEqual$1(c,d):c!==d)return!1}}return!0}var isEmptyObject$1=t=>isObject$2(t)&&!Object.keys(t).length,isFileInput=t=>t.type==="file",isFunction$6=t=>typeof t=="function",isHTMLElement$1=t=>{if(!isWeb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},isMultipleSelect=t=>t.type==="select-multiple",isRadioInput=t=>t.type==="radio",isRadioOrCheckbox=t=>isRadioInput(t)||isCheckBoxInput(t),live=t=>isHTMLElement$1(t)&&t.isConnected;function baseGet(t,e){const a=e.slice(0,-1).length;let l=0;for(;l<a;)t=isUndefined$1(t)?l++:t[e[l++]];return t}function isEmptyArray(t){for(const e in t)if(t.hasOwnProperty(e)&&!isUndefined$1(t[e]))return!1;return!0}function unset(t,e){const a=Array.isArray(e)?e:isKey(e)?[e]:stringToPath(e),l=a.length===1?t:baseGet(t,a),u=a.length-1,c=a[u];return l&&delete l[c],u!==0&&(isObject$2(l)&&isEmptyObject$1(l)||Array.isArray(l)&&isEmptyArray(l))&&unset(t,a.slice(0,-1)),t}var objectHasFunction=t=>{for(const e in t)if(isFunction$6(t[e]))return!0;return!1};function markFieldsDirty(t,e={}){const a=Array.isArray(t);if(isObject$2(t)||a)for(const l in t)Array.isArray(t[l])||isObject$2(t[l])&&!objectHasFunction(t[l])?(e[l]=Array.isArray(t[l])?[]:{},markFieldsDirty(t[l],e[l])):isNullOrUndefined(t[l])||(e[l]=!0);return e}function getDirtyFieldsFromDefaultValues(t,e,a){const l=Array.isArray(t);if(isObject$2(t)||l)for(const u in t)Array.isArray(t[u])||isObject$2(t[u])&&!objectHasFunction(t[u])?isUndefined$1(e)||isPrimitive(a[u])?a[u]=Array.isArray(t[u])?markFieldsDirty(t[u],[]):{...markFieldsDirty(t[u])}:getDirtyFieldsFromDefaultValues(t[u],isNullOrUndefined(e)?{}:e[u],a[u]):a[u]=!deepEqual$1(t[u],e[u]);return a}var getDirtyFields=(t,e)=>getDirtyFieldsFromDefaultValues(t,e,markFieldsDirty(e));const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!isUndefined$1(t[0].attributes.value)?isUndefined$1(t[0].value)||t[0].value===""?validResult:{value:t[0].value,isValid:!0}:validResult:defaultResult}return defaultResult},getFieldValueAs=(t,{valueAsNumber:e,valueAsDate:a,setValueAs:l})=>isUndefined$1(t)?t:e?t===""?NaN:t&&+t:a&&isString$3(t)?new Date(t):l?l(t):t;const defaultReturn={isValid:!1,value:null};var getRadioValue=t=>Array.isArray(t)?t.reduce((e,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:e,defaultReturn):defaultReturn;function getFieldValue(t){const e=t.ref;return isFileInput(e)?e.files:isRadioInput(e)?getRadioValue(t.refs).value:isMultipleSelect(e)?[...e.selectedOptions].map(({value:a})=>a):isCheckBoxInput(e)?getCheckboxValue(t.refs).value:getFieldValueAs(isUndefined$1(e.value)?t.ref.value:e.value,t)}var getResolverOptions=(t,e,a,l)=>{const u={};for(const c of t){const d=get(e,c);d&&set(u,c,d._f)}return{criteriaMode:a,names:[...t],fields:u,shouldUseNativeValidation:l}},isRegex=t=>t instanceof RegExp,getRuleValue=t=>isUndefined$1(t)?t:isRegex(t)?t.source:isObject$2(t)?isRegex(t.value)?t.value.source:t.value:t,getValidationModes=t=>({isOnSubmit:!t||t===VALIDATION_MODE.onSubmit,isOnBlur:t===VALIDATION_MODE.onBlur,isOnChange:t===VALIDATION_MODE.onChange,isOnAll:t===VALIDATION_MODE.all,isOnTouch:t===VALIDATION_MODE.onTouched});const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=t=>!!t&&!!t.validate&&!!(isFunction$6(t.validate)&&t.validate.constructor.name===ASYNC_FUNCTION||isObject$2(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ASYNC_FUNCTION)),hasValidation=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),isWatched=(t,e,a)=>!a&&(e.watchAll||e.watch.has(t)||[...e.watch].some(l=>t.startsWith(l)&&/^\.\w+/.test(t.slice(l.length))));const iterateFieldsByAction=(t,e,a,l)=>{for(const u of a||Object.keys(t)){const c=get(t,u);if(c){const{_f:d,...h}=c;if(d){if(d.refs&&d.refs[0]&&e(d.refs[0],u)&&!l)return!0;if(d.ref&&e(d.ref,d.name)&&!l)return!0;if(iterateFieldsByAction(h,e))break}else if(isObject$2(h)&&iterateFieldsByAction(h,e))break}}};function schemaErrorLookup(t,e,a){const l=get(t,a);if(l||isKey(a))return{error:l,name:a};const u=a.split(".");for(;u.length;){const c=u.join("."),d=get(e,c),h=get(t,c);if(d&&!Array.isArray(d)&&a!==c)return{name:a};if(h&&h.type)return{name:c,error:h};u.pop()}return{name:a}}var shouldRenderFormState=(t,e,a,l)=>{a(t);const{name:u,...c}=t;return isEmptyObject$1(c)||Object.keys(c).length>=Object.keys(e).length||Object.keys(c).find(d=>e[d]===(!l||VALIDATION_MODE.all))},shouldSubscribeByName=(t,e,a)=>!t||!e||t===e||convertToArrayPayload(t).some(l=>l&&(a?l===e:l.startsWith(e)||e.startsWith(l))),skipValidation=(t,e,a,l,u)=>u.isOnAll?!1:!a&&u.isOnTouch?!(e||t):(a?l.isOnBlur:u.isOnBlur)?!t:(a?l.isOnChange:u.isOnChange)?t:!0,unsetEmptyArray=(t,e)=>!compact(get(t,e)).length&&unset(t,e),updateFieldArrayRootError=(t,e,a)=>{const l=convertToArrayPayload(get(t,a));return set(l,"root",e[a]),set(t,a,l),t},isMessage=t=>isString$3(t);function getValidateError(t,e,a="validate"){if(isMessage(t)||Array.isArray(t)&&t.every(isMessage)||isBoolean$1(t)&&!t)return{type:a,message:isMessage(t)?t:"",ref:e}}var getValueAndMessage=t=>isObject$2(t)&&!isRegex(t)?t:{value:t,message:""},validateField=async(t,e,a,l,u,c)=>{const{ref:d,refs:h,required:m,maxLength:g,minLength:y,min:b,max:v,pattern:C,validate:S,name:E,valueAsNumber:_,mount:A}=t._f,R=get(a,E);if(!A||e.has(E))return{};const k=h?h[0]:d,M=te=>{u&&k.reportValidity&&(k.setCustomValidity(isBoolean$1(te)?"":te||""),k.reportValidity())},D={},B=isRadioInput(d),U=isCheckBoxInput(d),T=B||U,$=(_||isFileInput(d))&&isUndefined$1(d.value)&&isUndefined$1(R)||isHTMLElement$1(d)&&d.value===""||R===""||Array.isArray(R)&&!R.length,G=appendErrors.bind(null,E,l,D),ue=(te,Se,he,Te=INPUT_VALIDATION_RULES.maxLength,ve=INPUT_VALIDATION_RULES.minLength)=>{const ce=te?Se:he;D[E]={type:te?Te:ve,message:ce,ref:d,...G(te?Te:ve,ce)}};if(c?!Array.isArray(R)||!R.length:m&&(!T&&($||isNullOrUndefined(R))||isBoolean$1(R)&&!R||U&&!getCheckboxValue(h).isValid||B&&!getRadioValue(h).isValid)){const{value:te,message:Se}=isMessage(m)?{value:!!m,message:m}:getValueAndMessage(m);if(te&&(D[E]={type:INPUT_VALIDATION_RULES.required,message:Se,ref:k,...G(INPUT_VALIDATION_RULES.required,Se)},!l))return M(Se),D}if(!$&&(!isNullOrUndefined(b)||!isNullOrUndefined(v))){let te,Se;const he=getValueAndMessage(v),Te=getValueAndMessage(b);if(!isNullOrUndefined(R)&&!isNaN(R)){const ve=d.valueAsNumber||R&&+R;isNullOrUndefined(he.value)||(te=ve>he.value),isNullOrUndefined(Te.value)||(Se=ve<Te.value)}else{const ve=d.valueAsDate||new Date(R),ce=ee=>new Date(new Date().toDateString()+" "+ee),ae=d.type=="time",pe=d.type=="week";isString$3(he.value)&&R&&(te=ae?ce(R)>ce(he.value):pe?R>he.value:ve>new Date(he.value)),isString$3(Te.value)&&R&&(Se=ae?ce(R)<ce(Te.value):pe?R<Te.value:ve<new Date(Te.value))}if((te||Se)&&(ue(!!te,he.message,Te.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!l))return M(D[E].message),D}if((g||y)&&!$&&(isString$3(R)||c&&Array.isArray(R))){const te=getValueAndMessage(g),Se=getValueAndMessage(y),he=!isNullOrUndefined(te.value)&&R.length>+te.value,Te=!isNullOrUndefined(Se.value)&&R.length<+Se.value;if((he||Te)&&(ue(he,te.message,Se.message),!l))return M(D[E].message),D}if(C&&!$&&isString$3(R)){const{value:te,message:Se}=getValueAndMessage(C);if(isRegex(te)&&!R.match(te)&&(D[E]={type:INPUT_VALIDATION_RULES.pattern,message:Se,ref:d,...G(INPUT_VALIDATION_RULES.pattern,Se)},!l))return M(Se),D}if(S){if(isFunction$6(S)){const te=await S(R,a),Se=getValidateError(te,k);if(Se&&(D[E]={...Se,...G(INPUT_VALIDATION_RULES.validate,Se.message)},!l))return M(Se.message),D}else if(isObject$2(S)){let te={};for(const Se in S){if(!isEmptyObject$1(te)&&!l)break;const he=getValidateError(await S[Se](R,a),k,Se);he&&(te={...he,...G(Se,he.message)},M(he.message),l&&(D[E]=te))}if(!isEmptyObject$1(te)&&(D[E]={ref:k,...te},!l))return D}}return M(!0),D};const defaultOptions$1={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(t={}){let e={...defaultOptions$1,...t},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:isFunction$6(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const l={};let u=isObject$2(e.defaultValues)||isObject$2(e.values)?cloneObject(e.defaultValues||e.values)||{}:{},c=e.shouldUnregister?{}:cloneObject(u),d={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,g=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...y};const v={array:createSubject(),state:createSubject()},C=getValidationModes(e.mode),S=getValidationModes(e.reValidateMode),E=e.criteriaMode===VALIDATION_MODE.all,_=W=>Y=>{clearTimeout(g),g=setTimeout(W,Y)},A=async W=>{if(!e.disabled&&(y.isValid||b.isValid||W)){const Y=e.resolver?isEmptyObject$1((await $()).errors):await ue(l,!0);Y!==a.isValid&&v.state.next({isValid:Y})}},R=(W,Y)=>{!e.disabled&&(y.isValidating||y.validatingFields||b.isValidating||b.validatingFields)&&((W||Array.from(h.mount)).forEach(me=>{me&&(Y?set(a.validatingFields,me,Y):unset(a.validatingFields,me))}),v.state.next({validatingFields:a.validatingFields,isValidating:!isEmptyObject$1(a.validatingFields)}))},k=(W,Y=[],me,Re,Oe=!0,Me=!0)=>{if(Re&&me&&!e.disabled){if(d.action=!0,Me&&Array.isArray(get(l,W))){const Le=me(get(l,W),Re.argA,Re.argB);Oe&&set(l,W,Le)}if(Me&&Array.isArray(get(a.errors,W))){const Le=me(get(a.errors,W),Re.argA,Re.argB);Oe&&set(a.errors,W,Le),unsetEmptyArray(a.errors,W)}if((y.touchedFields||b.touchedFields)&&Me&&Array.isArray(get(a.touchedFields,W))){const Le=me(get(a.touchedFields,W),Re.argA,Re.argB);Oe&&set(a.touchedFields,W,Le)}(y.dirtyFields||b.dirtyFields)&&(a.dirtyFields=getDirtyFields(u,c)),v.state.next({name:W,isDirty:Se(W,Y),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else set(c,W,Y)},M=(W,Y)=>{set(a.errors,W,Y),v.state.next({errors:a.errors})},D=W=>{a.errors=W,v.state.next({errors:a.errors,isValid:!1})},B=(W,Y,me,Re)=>{const Oe=get(l,W);if(Oe){const Me=get(c,W,isUndefined$1(me)?get(u,W):me);isUndefined$1(Me)||Re&&Re.defaultChecked||Y?set(c,W,Y?Me:getFieldValue(Oe._f)):ve(W,Me),d.mount&&A()}},U=(W,Y,me,Re,Oe)=>{let Me=!1,Le=!1;const qe={name:W};if(!e.disabled){if(!me||Re){(y.isDirty||b.isDirty)&&(Le=a.isDirty,a.isDirty=qe.isDirty=Se(),Me=Le!==qe.isDirty);const Ye=deepEqual$1(get(u,W),Y);Le=!!get(a.dirtyFields,W),Ye?unset(a.dirtyFields,W):set(a.dirtyFields,W,!0),qe.dirtyFields=a.dirtyFields,Me=Me||(y.dirtyFields||b.dirtyFields)&&Le!==!Ye}if(me){const Ye=get(a.touchedFields,W);Ye||(set(a.touchedFields,W,me),qe.touchedFields=a.touchedFields,Me=Me||(y.touchedFields||b.touchedFields)&&Ye!==me)}Me&&Oe&&v.state.next(qe)}return Me?qe:{}},T=(W,Y,me,Re)=>{const Oe=get(a.errors,W),Me=(y.isValid||b.isValid)&&isBoolean$1(Y)&&a.isValid!==Y;if(e.delayError&&me?(m=_(()=>M(W,me)),m(e.delayError)):(clearTimeout(g),m=null,me?set(a.errors,W,me):unset(a.errors,W)),(me?!deepEqual$1(Oe,me):Oe)||!isEmptyObject$1(Re)||Me){const Le={...Re,...Me&&isBoolean$1(Y)?{isValid:Y}:{},errors:a.errors,name:W};a={...a,...Le},v.state.next(Le)}},$=async W=>{R(W,!0);const Y=await e.resolver(c,e.context,getResolverOptions(W||h.mount,l,e.criteriaMode,e.shouldUseNativeValidation));return R(W),Y},G=async W=>{const{errors:Y}=await $(W);if(W)for(const me of W){const Re=get(Y,me);Re?set(a.errors,me,Re):unset(a.errors,me)}else a.errors=Y;return Y},ue=async(W,Y,me={valid:!0})=>{for(const Re in W){const Oe=W[Re];if(Oe){const{_f:Me,...Le}=Oe;if(Me){const qe=h.array.has(Me.name),Ye=Oe._f&&hasPromiseValidation(Oe._f);Ye&&y.validatingFields&&R([Re],!0);const Ie=await validateField(Oe,h.disabled,c,E,e.shouldUseNativeValidation&&!Y,qe);if(Ye&&y.validatingFields&&R([Re]),Ie[Me.name]&&(me.valid=!1,Y))break;!Y&&(get(Ie,Me.name)?qe?updateFieldArrayRootError(a.errors,Ie,Me.name):set(a.errors,Me.name,Ie[Me.name]):unset(a.errors,Me.name))}!isEmptyObject$1(Le)&&await ue(Le,Y,me)}}return me.valid},te=()=>{for(const W of h.unMount){const Y=get(l,W);Y&&(Y._f.refs?Y._f.refs.every(me=>!live(me)):!live(Y._f.ref))&&ye(W)}h.unMount=new Set},Se=(W,Y)=>!e.disabled&&(W&&Y&&set(c,W,Y),!deepEqual$1(I(),u)),he=(W,Y,me)=>generateWatchOutput(W,h,{...d.mount?c:isUndefined$1(Y)?u:isString$3(W)?{[W]:Y}:Y},me,Y),Te=W=>compact(get(d.mount?c:u,W,e.shouldUnregister?get(u,W,[]):[])),ve=(W,Y,me={})=>{const Re=get(l,W);let Oe=Y;if(Re){const Me=Re._f;Me&&(!Me.disabled&&set(c,W,getFieldValueAs(Y,Me)),Oe=isHTMLElement$1(Me.ref)&&isNullOrUndefined(Y)?"":Y,isMultipleSelect(Me.ref)?[...Me.ref.options].forEach(Le=>Le.selected=Oe.includes(Le.value)):Me.refs?isCheckBoxInput(Me.ref)?Me.refs.length>1?Me.refs.forEach(Le=>(!Le.defaultChecked||!Le.disabled)&&(Le.checked=Array.isArray(Oe)?!!Oe.find(qe=>qe===Le.value):Oe===Le.value)):Me.refs[0]&&(Me.refs[0].checked=!!Oe):Me.refs.forEach(Le=>Le.checked=Le.value===Oe):isFileInput(Me.ref)?Me.ref.value="":(Me.ref.value=Oe,Me.ref.type||v.state.next({name:W,values:cloneObject(c)})))}(me.shouldDirty||me.shouldTouch)&&U(W,Oe,me.shouldTouch,me.shouldDirty,!0),me.shouldValidate&&N(W)},ce=(W,Y,me)=>{for(const Re in Y){const Oe=Y[Re],Me=`${W}.${Re}`,Le=get(l,Me);(h.array.has(W)||isObject$2(Oe)||Le&&!Le._f)&&!isDateObject(Oe)?ce(Me,Oe,me):ve(Me,Oe,me)}},ae=(W,Y,me={})=>{const Re=get(l,W),Oe=h.array.has(W),Me=cloneObject(Y);set(c,W,Me),Oe?(v.array.next({name:W,values:cloneObject(c)}),(y.isDirty||y.dirtyFields||b.isDirty||b.dirtyFields)&&me.shouldDirty&&v.state.next({name:W,dirtyFields:getDirtyFields(u,c),isDirty:Se(W,Me)})):Re&&!Re._f&&!isNullOrUndefined(Me)?ce(W,Me,me):ve(W,Me,me),isWatched(W,h)&&v.state.next({...a}),v.state.next({name:d.mount?W:void 0,values:cloneObject(c)})},pe=async W=>{d.mount=!0;const Y=W.target;let me=Y.name,Re=!0;const Oe=get(l,me),Me=Le=>{Re=Number.isNaN(Le)||isDateObject(Le)&&isNaN(Le.getTime())||deepEqual$1(Le,get(c,me,Le))};if(Oe){let Le,qe;const Ye=Y.type?getFieldValue(Oe._f):getEventValue(W),Ie=W.type===EVENTS.BLUR||W.type===EVENTS.FOCUS_OUT,Ae=!hasValidation(Oe._f)&&!e.resolver&&!get(a.errors,me)&&!Oe._f.deps||skipValidation(Ie,get(a.touchedFields,me),a.isSubmitted,S,C),we=isWatched(me,h,Ie);set(c,me,Ye),Ie?(Oe._f.onBlur&&Oe._f.onBlur(W),m&&m(0)):Oe._f.onChange&&Oe._f.onChange(W);const He=U(me,Ye,Ie),nt=!isEmptyObject$1(He)||we;if(!Ie&&v.state.next({name:me,type:W.type,values:cloneObject(c)}),Ae)return(y.isValid||b.isValid)&&(e.mode==="onBlur"?Ie&&A():Ie||A()),nt&&v.state.next({name:me,...we?{}:He});if(!Ie&&we&&v.state.next({...a}),e.resolver){const{errors:it}=await $([me]);if(Me(Ye),Re){const at=schemaErrorLookup(a.errors,l,me),_t=schemaErrorLookup(it,l,at.name||me);Le=_t.error,me=_t.name,qe=isEmptyObject$1(it)}}else R([me],!0),Le=(await validateField(Oe,h.disabled,c,E,e.shouldUseNativeValidation))[me],R([me]),Me(Ye),Re&&(Le?qe=!1:(y.isValid||b.isValid)&&(qe=await ue(l,!0)));Re&&(Oe._f.deps&&N(Oe._f.deps),T(me,qe,Le,He))}},ee=(W,Y)=>{if(get(a.errors,Y)&&W.focus)return W.focus(),1},N=async(W,Y={})=>{let me,Re;const Oe=convertToArrayPayload(W);if(e.resolver){const Me=await G(isUndefined$1(W)?W:Oe);me=isEmptyObject$1(Me),Re=W?!Oe.some(Le=>get(Me,Le)):me}else W?(Re=(await Promise.all(Oe.map(async Me=>{const Le=get(l,Me);return await ue(Le&&Le._f?{[Me]:Le}:Le)}))).every(Boolean),!(!Re&&!a.isValid)&&A()):Re=me=await ue(l);return v.state.next({...!isString$3(W)||(y.isValid||b.isValid)&&me!==a.isValid?{}:{name:W},...e.resolver||!W?{isValid:me}:{},errors:a.errors}),Y.shouldFocus&&!Re&&iterateFieldsByAction(l,ee,W?Oe:h.mount),Re},I=W=>{const Y={...d.mount?c:u};return isUndefined$1(W)?Y:isString$3(W)?get(Y,W):W.map(me=>get(Y,me))},L=(W,Y)=>({invalid:!!get((Y||a).errors,W),isDirty:!!get((Y||a).dirtyFields,W),error:get((Y||a).errors,W),isValidating:!!get(a.validatingFields,W),isTouched:!!get((Y||a).touchedFields,W)}),H=W=>{W&&convertToArrayPayload(W).forEach(Y=>unset(a.errors,Y)),v.state.next({errors:W?a.errors:{}})},re=(W,Y,me)=>{const Re=(get(l,W,{_f:{}})._f||{}).ref,Oe=get(a.errors,W)||{},{ref:Me,message:Le,type:qe,...Ye}=Oe;set(a.errors,W,{...Ye,...Y,ref:Re}),v.state.next({name:W,errors:a.errors,isValid:!1}),me&&me.shouldFocus&&Re&&Re.focus&&Re.focus()},oe=(W,Y)=>isFunction$6(W)?v.state.subscribe({next:me=>W(he(void 0,Y),me)}):he(W,Y,!0),K=W=>v.state.subscribe({next:Y=>{shouldSubscribeByName(W.name,Y.name,W.exact)&&shouldRenderFormState(Y,W.formState||y,Ee,W.reRenderRoot)&&W.callback({values:{...c},...a,...Y})}}).unsubscribe,le=W=>(d.mount=!0,b={...b,...W.formState},K({...W,formState:b})),ye=(W,Y={})=>{for(const me of W?convertToArrayPayload(W):h.mount)h.mount.delete(me),h.array.delete(me),Y.keepValue||(unset(l,me),unset(c,me)),!Y.keepError&&unset(a.errors,me),!Y.keepDirty&&unset(a.dirtyFields,me),!Y.keepTouched&&unset(a.touchedFields,me),!Y.keepIsValidating&&unset(a.validatingFields,me),!e.shouldUnregister&&!Y.keepDefaultValue&&unset(u,me);v.state.next({values:cloneObject(c)}),v.state.next({...a,...Y.keepDirty?{isDirty:Se()}:{}}),!Y.keepIsValid&&A()},Ce=({disabled:W,name:Y})=>{(isBoolean$1(W)&&d.mount||W||h.disabled.has(Y))&&(W?h.disabled.add(Y):h.disabled.delete(Y))},xe=(W,Y={})=>{let me=get(l,W);const Re=isBoolean$1(Y.disabled)||isBoolean$1(e.disabled);return set(l,W,{...me||{},_f:{...me&&me._f?me._f:{ref:{name:W}},name:W,mount:!0,...Y}}),h.mount.add(W),me?Ce({disabled:isBoolean$1(Y.disabled)?Y.disabled:e.disabled,name:W}):B(W,!0,Y.value),{...Re?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:getRuleValue(Y.min),max:getRuleValue(Y.max),minLength:getRuleValue(Y.minLength),maxLength:getRuleValue(Y.maxLength),pattern:getRuleValue(Y.pattern)}:{},name:W,onChange:pe,onBlur:pe,ref:Oe=>{if(Oe){xe(W,Y),me=get(l,W);const Me=isUndefined$1(Oe.value)&&Oe.querySelectorAll&&Oe.querySelectorAll("input,select,textarea")[0]||Oe,Le=isRadioOrCheckbox(Me),qe=me._f.refs||[];if(Le?qe.find(Ye=>Ye===Me):Me===me._f.ref)return;set(l,W,{_f:{...me._f,...Le?{refs:[...qe.filter(live),Me,...Array.isArray(get(u,W))?[{}]:[]],ref:{type:Me.type,name:W}}:{ref:Me}}}),B(W,!1,void 0,Me)}else me=get(l,W,{}),me._f&&(me._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(isNameInFieldArray(h.array,W)&&d.action)&&h.unMount.add(W)}}},j=()=>e.shouldFocusError&&iterateFieldsByAction(l,ee,h.mount),V=W=>{isBoolean$1(W)&&(v.state.next({disabled:W}),iterateFieldsByAction(l,(Y,me)=>{const Re=get(l,me);Re&&(Y.disabled=Re._f.disabled||W,Array.isArray(Re._f.refs)&&Re._f.refs.forEach(Oe=>{Oe.disabled=Re._f.disabled||W}))},0,!1))},Q=(W,Y)=>async me=>{let Re;me&&(me.preventDefault&&me.preventDefault(),me.persist&&me.persist());let Oe=cloneObject(c);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:Me,values:Le}=await $();a.errors=Me,Oe=Le}else await ue(l);if(h.disabled.size)for(const Me of h.disabled)set(Oe,Me,void 0);if(unset(a.errors,"root"),isEmptyObject$1(a.errors)){v.state.next({errors:{}});try{await W(Oe,me)}catch(Me){Re=Me}}else Y&&await Y({...a.errors},me),j(),setTimeout(j);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject$1(a.errors)&&!Re,submitCount:a.submitCount+1,errors:a.errors}),Re)throw Re},se=(W,Y={})=>{get(l,W)&&(isUndefined$1(Y.defaultValue)?ae(W,cloneObject(get(u,W))):(ae(W,Y.defaultValue),set(u,W,cloneObject(Y.defaultValue))),Y.keepTouched||unset(a.touchedFields,W),Y.keepDirty||(unset(a.dirtyFields,W),a.isDirty=Y.defaultValue?Se(W,cloneObject(get(u,W))):Se()),Y.keepError||(unset(a.errors,W),y.isValid&&A()),v.state.next({...a}))},q=(W,Y={})=>{const me=W?cloneObject(W):u,Re=cloneObject(me),Oe=isEmptyObject$1(W),Me=Oe?u:Re;if(Y.keepDefaultValues||(u=me),!Y.keepValues){if(Y.keepDirtyValues){const Le=new Set([...h.mount,...Object.keys(getDirtyFields(u,c))]);for(const qe of Array.from(Le))get(a.dirtyFields,qe)?set(Me,qe,get(c,qe)):ae(qe,get(Me,qe))}else{if(isWeb&&isUndefined$1(W))for(const Le of h.mount){const qe=get(l,Le);if(qe&&qe._f){const Ye=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(isHTMLElement$1(Ye)){const Ie=Ye.closest("form");if(Ie){Ie.reset();break}}}}for(const Le of h.mount)ae(Le,get(Me,Le))}c=cloneObject(Me),v.array.next({values:{...Me}}),v.state.next({values:{...Me}})}h={mount:Y.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!y.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,d.watch=!!e.shouldUnregister,v.state.next({submitCount:Y.keepSubmitCount?a.submitCount:0,isDirty:Oe?!1:Y.keepDirty?a.isDirty:!!(Y.keepDefaultValues&&!deepEqual$1(W,u)),isSubmitted:Y.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:Oe?{}:Y.keepDirtyValues?Y.keepDefaultValues&&c?getDirtyFields(u,c):a.dirtyFields:Y.keepDefaultValues&&W?getDirtyFields(u,W):Y.keepDirty?a.dirtyFields:{},touchedFields:Y.keepTouched?a.touchedFields:{},errors:Y.keepErrors?a.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1})},de=(W,Y)=>q(isFunction$6(W)?W(c):W,Y),be=(W,Y={})=>{const me=get(l,W),Re=me&&me._f;if(Re){const Oe=Re.refs?Re.refs[0]:Re.ref;Oe.focus&&(Oe.focus(),Y.shouldSelect&&isFunction$6(Oe.select)&&Oe.select())}},Ee=W=>{a={...a,...W}},fe={control:{register:xe,unregister:ye,getFieldState:L,handleSubmit:Q,setError:re,_subscribe:K,_runSchema:$,_getWatch:he,_getDirty:Se,_setValid:A,_setFieldArray:k,_setDisabledField:Ce,_setErrors:D,_getFieldArray:Te,_reset:q,_resetDefaultValues:()=>isFunction$6(e.defaultValues)&&e.defaultValues().then(W=>{de(W,e.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:V,_subjects:v,_proxyFormState:y,get _fields(){return l},get _formValues(){return c},get _state(){return d},set _state(W){d=W},get _defaultValues(){return u},get _names(){return h},set _names(W){h=W},get _formState(){return a},get _options(){return e},set _options(W){e={...e,...W}}},subscribe:le,trigger:N,register:xe,handleSubmit:Q,watch:oe,setValue:ae,getValues:I,reset:de,resetField:se,clearErrors:H,unregister:ye,setError:re,setFocus:be,getFieldState:L};return{...fe,formControl:fe}}function useForm(t={}){const e=React2.useRef(void 0),a=React2.useRef(void 0),[l,u]=React2.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$6(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:isFunction$6(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:createFormControl(t),formState:l},t.formControl&&t.defaultValues&&!isFunction$6(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const c=e.current.control;return c._options=t,useIsomorphicLayoutEffect$1(()=>{const d=c._subscribe({formState:c._proxyFormState,callback:()=>u({...c._formState}),reRenderRoot:!0});return u(h=>({...h,isReady:!0})),c._formState.isReady=!0,d},[c]),React2.useEffect(()=>c._disableForm(t.disabled),[c,t.disabled]),React2.useEffect(()=>{t.mode&&(c._options.mode=t.mode),t.reValidateMode&&(c._options.reValidateMode=t.reValidateMode),t.errors&&!isEmptyObject$1(t.errors)&&c._setErrors(t.errors)},[c,t.errors,t.mode,t.reValidateMode]),React2.useEffect(()=>{t.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,t.shouldUnregister]),React2.useEffect(()=>{if(c._proxyFormState.isDirty){const d=c._getDirty();d!==l.isDirty&&c._subjects.state.next({isDirty:d})}},[c,l.isDirty]),React2.useEffect(()=>{t.values&&!deepEqual$1(t.values,a.current)?(c._reset(t.values,c._options.resetOptions),a.current=t.values,u(d=>({...d}))):c._resetDefaultValues()},[c,t.values]),React2.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),e.current.formState=getProxyFormState(l,c),e.current}const r=(t,e,a)=>{if(t&&"reportValidity"in t){const l=get(a,e);t.setCustomValidity(l&&l.message||""),t.reportValidity()}},o=(t,e)=>{for(const a in e.fields){const l=e.fields[a];l&&l.ref&&"reportValidity"in l.ref?r(l.ref,a,t):l&&l.refs&&l.refs.forEach(u=>r(u,a,t))}},s$1=(t,e)=>{e.shouldUseNativeValidation&&o(t,e);const a={};for(const l in t){const u=get(e.fields,l),c=Object.assign(t[l]||{},{ref:u&&u.ref});if(i$1(e.names||Object.keys(t),l)){const d=Object.assign({},get(a,l));set(d,"root",c),set(a,l,d)}else set(a,l,c)}return a},i$1=(t,e)=>{const a=n$1(e);return t.some(l=>n$1(l).match(`^${a}\\.\\d+`))};function n$1(t){return t.replace(/\]|\[/g,"")}function n(t,e){for(var a={};t.length;){var l=t[0],u=l.code,c=l.message,d=l.path.join(".");if(!a[d])if("unionErrors"in l){var h=l.unionErrors[0].errors[0];a[d]={message:h.message,type:h.code}}else a[d]={message:c,type:u};if("unionErrors"in l&&l.unionErrors.forEach(function(y){return y.errors.forEach(function(b){return t.push(b)})}),e){var m=a[d].types,g=m&&m[l.code];a[d]=appendErrors(d,e,a,u,g?[].concat(g,l.message):l.message)}t.shift()}return a}function s(t,e,a){return a===void 0&&(a={}),function(l,u,c){try{return Promise.resolve(function(d,h){try{var m=Promise.resolve(t[a.mode==="sync"?"parse":"parseAsync"](l,e)).then(function(g){return c.shouldUseNativeValidation&&o({},c),{errors:{},values:a.raw?Object.assign({},l):g}})}catch(g){return h(g)}return m&&m.then?m.then(void 0,h):m}(0,function(d){if(function(h){return Array.isArray(h==null?void 0:h.errors)}(d))return{values:{},errors:s$1(n(d.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw d}))}catch(d){return Promise.reject(d)}}}var util;(function(t){t.assertEqual=u=>u;function e(u){}t.assertIs=e;function a(u){throw new Error}t.assertNever=a,t.arrayToEnum=u=>{const c={};for(const d of u)c[d]=d;return c},t.getValidEnumValues=u=>{const c=t.objectKeys(u).filter(h=>typeof u[u[h]]!="number"),d={};for(const h of c)d[h]=u[h];return t.objectValues(d)},t.objectValues=u=>t.objectKeys(u).map(function(c){return u[c]}),t.objectKeys=typeof Object.keys=="function"?u=>Object.keys(u):u=>{const c=[];for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&c.push(d);return c},t.find=(u,c)=>{for(const d of u)if(c(d))return d},t.isInteger=typeof Number.isInteger=="function"?u=>Number.isInteger(u):u=>typeof u=="number"&&isFinite(u)&&Math.floor(u)===u;function l(u,c=" | "){return u.map(d=>typeof d=="string"?`'${d}'`:d).join(c)}t.joinValues=l,t.jsonStringifyReplacer=(u,c)=>typeof c=="bigint"?c.toString():c})(util||(util={}));var objectUtil;(function(t){t.mergeShapes=(e,a)=>({...e,...a})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=t=>{switch(typeof t){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(t)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(t)?ZodParsedType.array:t===null?ZodParsedType.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&t instanceof Map?ZodParsedType.map:typeof Set<"u"&&t instanceof Set?ZodParsedType.set:typeof Date<"u"&&t instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=l=>{this.issues=[...this.issues,l]},this.addIssues=(l=[])=>{this.issues=[...this.issues,...l]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=e}format(e){const a=e||function(c){return c.message},l={_errors:[]},u=c=>{for(const d of c.issues)if(d.code==="invalid_union")d.unionErrors.map(u);else if(d.code==="invalid_return_type")u(d.returnTypeError);else if(d.code==="invalid_arguments")u(d.argumentsError);else if(d.path.length===0)l._errors.push(a(d));else{let h=l,m=0;for(;m<d.path.length;){const g=d.path[m];m===d.path.length-1?(h[g]=h[g]||{_errors:[]},h[g]._errors.push(a(d))):h[g]=h[g]||{_errors:[]},h=h[g],m++}}};return u(this),l}static assert(e){if(!(e instanceof ZodError))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=a=>a.message){const a={},l=[];for(const u of this.issues)u.path.length>0?(a[u.path[0]]=a[u.path[0]]||[],a[u.path[0]].push(e(u))):l.push(e(u));return{formErrors:l,fieldErrors:a}}get formErrors(){return this.flatten()}}ZodError.create=t=>new ZodError(t);const errorMap=(t,e)=>{let a;switch(t.code){case ZodIssueCode.invalid_type:t.received===ZodParsedType.undefined?a="Required":a=`Expected ${t.expected}, received ${t.received}`;break;case ZodIssueCode.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(t.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:a=`Unrecognized key(s) in object: ${util.joinValues(t.keys,", ")}`;break;case ZodIssueCode.invalid_union:a="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${util.joinValues(t.options)}`;break;case ZodIssueCode.invalid_enum_value:a=`Invalid enum value. Expected ${util.joinValues(t.options)}, received '${t.received}'`;break;case ZodIssueCode.invalid_arguments:a="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:a="Invalid function return type";break;case ZodIssueCode.invalid_date:a="Invalid date";break;case ZodIssueCode.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(a=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?a=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?a=`Invalid input: must end with "${t.validation.endsWith}"`:util.assertNever(t.validation):t.validation!=="regex"?a=`Invalid ${t.validation}`:a="Invalid";break;case ZodIssueCode.too_small:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:a="Invalid input";break;case ZodIssueCode.too_big:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?a=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:a="Invalid input";break;case ZodIssueCode.custom:a="Invalid input";break;case ZodIssueCode.invalid_intersection_types:a="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:a=`Number must be a multiple of ${t.multipleOf}`;break;case ZodIssueCode.not_finite:a="Number must be finite";break;default:a=e.defaultError,util.assertNever(t)}return{message:a}};let overrideErrorMap=errorMap;function setErrorMap(t){overrideErrorMap=t}function getErrorMap(){return overrideErrorMap}const makeIssue=t=>{const{data:e,path:a,errorMaps:l,issueData:u}=t,c=[...a,...u.path||[]],d={...u,path:c};if(u.message!==void 0)return{...u,path:c,message:u.message};let h="";const m=l.filter(g=>!!g).slice().reverse();for(const g of m)h=g(d,{data:e,defaultError:h}).message;return{...u,path:c,message:h}},EMPTY_PATH=[];function addIssueToContext(t,e){const a=getErrorMap(),l=makeIssue({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,a,a===errorMap?void 0:errorMap].filter(u=>!!u)});t.common.issues.push(l)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,a){const l=[];for(const u of a){if(u.status==="aborted")return INVALID;u.status==="dirty"&&e.dirty(),l.push(u.value)}return{status:e.value,value:l}}static async mergeObjectAsync(e,a){const l=[];for(const u of a){const c=await u.key,d=await u.value;l.push({key:c,value:d})}return ParseStatus.mergeObjectSync(e,l)}static mergeObjectSync(e,a){const l={};for(const u of a){const{key:c,value:d}=u;if(c.status==="aborted"||d.status==="aborted")return INVALID;c.status==="dirty"&&e.dirty(),d.status==="dirty"&&e.dirty(),c.value!=="__proto__"&&(typeof d.value<"u"||u.alwaysSet)&&(l[c.value]=d.value)}return{status:e.value,value:l}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=t=>({status:"dirty",value:t}),OK=t=>({status:"valid",value:t}),isAborted=t=>t.status==="aborted",isDirty=t=>t.status==="dirty",isValid=t=>t.status==="valid",isAsync=t=>typeof Promise<"u"&&t instanceof Promise;function __classPrivateFieldGet(t,e,a,l){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function __classPrivateFieldSet(t,e,a,l,u){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,a),a}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(e,a,l,u){this._cachedPath=[],this.parent=e,this.data=a,this._path=l,this._key=u}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(t,e)=>{if(isValid(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new ZodError(t.common.issues);return this._error=a,this._error}}};function processCreateParams(t){if(!t)return{};const{errorMap:e,invalid_type_error:a,required_error:l,description:u}=t;if(e&&(a||l))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:u}:{errorMap:(d,h)=>{var m,g;const{message:y}=t;return d.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:(m=y??l)!==null&&m!==void 0?m:h.defaultError}:d.code!=="invalid_type"?{message:h.defaultError}:{message:(g=y??a)!==null&&g!==void 0?g:h.defaultError}},description:u}}class ZodType{get description(){return this._def.description}_getType(e){return getParsedType(e.data)}_getOrReturnCtx(e,a){return a||{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const a=this._parse(e);if(isAsync(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(e){const a=this._parse(e);return Promise.resolve(a)}parse(e,a){const l=this.safeParse(e,a);if(l.success)return l.data;throw l.error}safeParse(e,a){var l;const u={common:{issues:[],async:(l=a==null?void 0:a.async)!==null&&l!==void 0?l:!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},c=this._parseSync({data:e,path:u.path,parent:u});return handleResult(u,c)}"~validate"(e){var a,l;const u={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)};if(!this["~standard"].async)try{const c=this._parseSync({data:e,path:[],parent:u});return isValid(c)?{value:c.value}:{issues:u.common.issues}}catch(c){!((l=(a=c==null?void 0:c.message)===null||a===void 0?void 0:a.toLowerCase())===null||l===void 0)&&l.includes("encountered")&&(this["~standard"].async=!0),u.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:u}).then(c=>isValid(c)?{value:c.value}:{issues:u.common.issues})}async parseAsync(e,a){const l=await this.safeParseAsync(e,a);if(l.success)return l.data;throw l.error}async safeParseAsync(e,a){const l={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},u=this._parse({data:e,path:l.path,parent:l}),c=await(isAsync(u)?u:Promise.resolve(u));return handleResult(l,c)}refine(e,a){const l=u=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(u):a;return this._refinement((u,c)=>{const d=e(u),h=()=>c.addIssue({code:ZodIssueCode.custom,...l(u)});return typeof Promise<"u"&&d instanceof Promise?d.then(m=>m?!0:(h(),!1)):d?!0:(h(),!1)})}refinement(e,a){return this._refinement((l,u)=>e(l)?!0:(u.addIssue(typeof a=="function"?a(l,u):a),!1))}_refinement(e){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(e){return ZodUnion.create([this,e],this._def)}and(e){return ZodIntersection.create(this,e,this._def)}transform(e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const a=typeof e=="function"?e:()=>e;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:a,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(e){const a=typeof e=="function"?e:()=>e;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:a,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(e){const a=this.constructor;return new a({...this._def,description:e})}pipe(e){return ZodPipeline.create(this,e)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const a=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${a}`}function timeRegex(t){return new RegExp(`^${timeRegexSource(t)}$`)}function datetimeRegex(t){let e=`${dateRegexSource}T${timeRegexSource(t)}`;const a=[];return a.push(t.local?"Z?":"Z"),t.offset&&a.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${a.join("|")})`,new RegExp(`^${e}$`)}function isValidIP(t,e){return!!((e==="v4"||!e)&&ipv4Regex.test(t)||(e==="v6"||!e)&&ipv6Regex.test(t))}function isValidJWT(t,e){if(!jwtRegex.test(t))return!1;try{const[a]=t.split("."),l=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),u=JSON.parse(atob(l));return!(typeof u!="object"||u===null||!u.typ||!u.alg||e&&u.alg!==e)}catch{return!1}}function isValidCidr(t,e){return!!((e==="v4"||!e)&&ipv4CidrRegex.test(t)||(e==="v6"||!e)&&ipv6CidrRegex.test(t))}class ZodString extends ZodType{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ZodParsedType.string){const c=this._getOrReturnCtx(e);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:c.parsedType}),INVALID}const l=new ParseStatus;let u;for(const c of this._def.checks)if(c.kind==="min")e.data.length<c.value&&(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{code:ZodIssueCode.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if(c.kind==="max")e.data.length>c.value&&(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{code:ZodIssueCode.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if(c.kind==="length"){const d=e.data.length>c.value,h=e.data.length<c.value;(d||h)&&(u=this._getOrReturnCtx(e,u),d?addIssueToContext(u,{code:ZodIssueCode.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):h&&addIssueToContext(u,{code:ZodIssueCode.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),l.dirty())}else if(c.kind==="email")emailRegex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"email",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if(c.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"emoji",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if(c.kind==="uuid")uuidRegex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"uuid",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if(c.kind==="nanoid")nanoidRegex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if(c.kind==="cuid")cuidRegex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"cuid",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if(c.kind==="cuid2")cuid2Regex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if(c.kind==="ulid")ulidRegex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"ulid",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty());else if(c.kind==="url")try{new URL(e.data)}catch{u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"url",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"regex",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty())):c.kind==="trim"?e.data=e.data.trim():c.kind==="includes"?e.data.includes(c.value,c.position)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{code:ZodIssueCode.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),l.dirty()):c.kind==="toLowerCase"?e.data=e.data.toLowerCase():c.kind==="toUpperCase"?e.data=e.data.toUpperCase():c.kind==="startsWith"?e.data.startsWith(c.value)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{code:ZodIssueCode.invalid_string,validation:{startsWith:c.value},message:c.message}),l.dirty()):c.kind==="endsWith"?e.data.endsWith(c.value)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{code:ZodIssueCode.invalid_string,validation:{endsWith:c.value},message:c.message}),l.dirty()):c.kind==="datetime"?datetimeRegex(c).test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{code:ZodIssueCode.invalid_string,validation:"datetime",message:c.message}),l.dirty()):c.kind==="date"?dateRegex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{code:ZodIssueCode.invalid_string,validation:"date",message:c.message}),l.dirty()):c.kind==="time"?timeRegex(c).test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{code:ZodIssueCode.invalid_string,validation:"time",message:c.message}),l.dirty()):c.kind==="duration"?durationRegex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"duration",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty()):c.kind==="ip"?isValidIP(e.data,c.version)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"ip",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty()):c.kind==="jwt"?isValidJWT(e.data,c.alg)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"jwt",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty()):c.kind==="cidr"?isValidCidr(e.data,c.version)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"cidr",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty()):c.kind==="base64"?base64Regex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"base64",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty()):c.kind==="base64url"?base64urlRegex.test(e.data)||(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{validation:"base64url",code:ZodIssueCode.invalid_string,message:c.message}),l.dirty()):util.assertNever(c);return{status:l.value,value:e.data}}_regex(e,a,l){return this.refinement(u=>e.test(u),{validation:a,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(l)})}_addCheck(e){return new ZodString({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...errorUtil.errToObj(e)})}datetime(e){var a,l;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(a=e==null?void 0:e.offset)!==null&&a!==void 0?a:!1,local:(l=e==null?void 0:e.local)!==null&&l!==void 0?l:!1,...errorUtil.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...errorUtil.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...errorUtil.errToObj(e)})}regex(e,a){return this._addCheck({kind:"regex",regex:e,...errorUtil.errToObj(a)})}includes(e,a){return this._addCheck({kind:"includes",value:e,position:a==null?void 0:a.position,...errorUtil.errToObj(a==null?void 0:a.message)})}startsWith(e,a){return this._addCheck({kind:"startsWith",value:e,...errorUtil.errToObj(a)})}endsWith(e,a){return this._addCheck({kind:"endsWith",value:e,...errorUtil.errToObj(a)})}min(e,a){return this._addCheck({kind:"min",value:e,...errorUtil.errToObj(a)})}max(e,a){return this._addCheck({kind:"max",value:e,...errorUtil.errToObj(a)})}length(e,a){return this._addCheck({kind:"length",value:e,...errorUtil.errToObj(a)})}nonempty(e){return this.min(1,errorUtil.errToObj(e))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxLength(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}ZodString.create=t=>{var e;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...processCreateParams(t)})};function floatSafeRemainder(t,e){const a=(t.toString().split(".")[1]||"").length,l=(e.toString().split(".")[1]||"").length,u=a>l?a:l,c=parseInt(t.toFixed(u).replace(".","")),d=parseInt(e.toFixed(u).replace(".",""));return c%d/Math.pow(10,u)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ZodParsedType.number){const c=this._getOrReturnCtx(e);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:c.parsedType}),INVALID}let l;const u=new ParseStatus;for(const c of this._def.checks)c.kind==="int"?util.isInteger(e.data)||(l=this._getOrReturnCtx(e,l),addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:c.message}),u.dirty()):c.kind==="min"?(c.inclusive?e.data<c.value:e.data<=c.value)&&(l=this._getOrReturnCtx(e,l),addIssueToContext(l,{code:ZodIssueCode.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),u.dirty()):c.kind==="max"?(c.inclusive?e.data>c.value:e.data>=c.value)&&(l=this._getOrReturnCtx(e,l),addIssueToContext(l,{code:ZodIssueCode.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),u.dirty()):c.kind==="multipleOf"?floatSafeRemainder(e.data,c.value)!==0&&(l=this._getOrReturnCtx(e,l),addIssueToContext(l,{code:ZodIssueCode.not_multiple_of,multipleOf:c.value,message:c.message}),u.dirty()):c.kind==="finite"?Number.isFinite(e.data)||(l=this._getOrReturnCtx(e,l),addIssueToContext(l,{code:ZodIssueCode.not_finite,message:c.message}),u.dirty()):util.assertNever(c);return{status:u.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,errorUtil.toString(a))}gt(e,a){return this.setLimit("min",e,!1,errorUtil.toString(a))}lte(e,a){return this.setLimit("max",e,!0,errorUtil.toString(a))}lt(e,a){return this.setLimit("max",e,!1,errorUtil.toString(a))}setLimit(e,a,l,u){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:l,message:errorUtil.toString(u)}]})}_addCheck(e){return new ZodNumber({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:errorUtil.toString(a)})}finite(e){return this._addCheck({kind:"finite",message:errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(e)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&util.isInteger(e.value))}get isFinite(){let e=null,a=null;for(const l of this._def.checks){if(l.kind==="finite"||l.kind==="int"||l.kind==="multipleOf")return!0;l.kind==="min"?(a===null||l.value>a)&&(a=l.value):l.kind==="max"&&(e===null||l.value<e)&&(e=l.value)}return Number.isFinite(a)&&Number.isFinite(e)}}ZodNumber.create=t=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...processCreateParams(t)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ZodParsedType.bigint)return this._getInvalidInput(e);let l;const u=new ParseStatus;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?e.data<c.value:e.data<=c.value)&&(l=this._getOrReturnCtx(e,l),addIssueToContext(l,{code:ZodIssueCode.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),u.dirty()):c.kind==="max"?(c.inclusive?e.data>c.value:e.data>=c.value)&&(l=this._getOrReturnCtx(e,l),addIssueToContext(l,{code:ZodIssueCode.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),u.dirty()):c.kind==="multipleOf"?e.data%c.value!==BigInt(0)&&(l=this._getOrReturnCtx(e,l),addIssueToContext(l,{code:ZodIssueCode.not_multiple_of,multipleOf:c.value,message:c.message}),u.dirty()):util.assertNever(c);return{status:u.value,value:e.data}}_getInvalidInput(e){const a=this._getOrReturnCtx(e);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:a.parsedType}),INVALID}gte(e,a){return this.setLimit("min",e,!0,errorUtil.toString(a))}gt(e,a){return this.setLimit("min",e,!1,errorUtil.toString(a))}lte(e,a){return this.setLimit("max",e,!0,errorUtil.toString(a))}lt(e,a){return this.setLimit("max",e,!1,errorUtil.toString(a))}setLimit(e,a,l,u){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:l,message:errorUtil.toString(u)}]})}_addCheck(e){return new ZodBigInt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:errorUtil.toString(a)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}ZodBigInt.create=t=>{var e;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...processCreateParams(t)})};class ZodBoolean extends ZodType{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ZodParsedType.boolean){const l=this._getOrReturnCtx(e);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:l.parsedType}),INVALID}return OK(e.data)}}ZodBoolean.create=t=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...processCreateParams(t)});class ZodDate extends ZodType{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ZodParsedType.date){const c=this._getOrReturnCtx(e);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:c.parsedType}),INVALID}if(isNaN(e.data.getTime())){const c=this._getOrReturnCtx(e);return addIssueToContext(c,{code:ZodIssueCode.invalid_date}),INVALID}const l=new ParseStatus;let u;for(const c of this._def.checks)c.kind==="min"?e.data.getTime()<c.value&&(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{code:ZodIssueCode.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),l.dirty()):c.kind==="max"?e.data.getTime()>c.value&&(u=this._getOrReturnCtx(e,u),addIssueToContext(u,{code:ZodIssueCode.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),l.dirty()):util.assertNever(c);return{status:l.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ZodDate({...this._def,checks:[...this._def.checks,e]})}min(e,a){return this._addCheck({kind:"min",value:e.getTime(),message:errorUtil.toString(a)})}max(e,a){return this._addCheck({kind:"max",value:e.getTime(),message:errorUtil.toString(a)})}get minDate(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e!=null?new Date(e):null}}ZodDate.create=t=>new ZodDate({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(t)});class ZodSymbol extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.symbol){const l=this._getOrReturnCtx(e);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:l.parsedType}),INVALID}return OK(e.data)}}ZodSymbol.create=t=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(t)});class ZodUndefined extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.undefined){const l=this._getOrReturnCtx(e);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:l.parsedType}),INVALID}return OK(e.data)}}ZodUndefined.create=t=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(t)});class ZodNull extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.null){const l=this._getOrReturnCtx(e);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:l.parsedType}),INVALID}return OK(e.data)}}ZodNull.create=t=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(t)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(e){return OK(e.data)}}ZodAny.create=t=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(t)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(e){return OK(e.data)}}ZodUnknown.create=t=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(t)});class ZodNever extends ZodType{_parse(e){const a=this._getOrReturnCtx(e);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:a.parsedType}),INVALID}}ZodNever.create=t=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(t)});class ZodVoid extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.undefined){const l=this._getOrReturnCtx(e);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:l.parsedType}),INVALID}return OK(e.data)}}ZodVoid.create=t=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(t)});class ZodArray extends ZodType{_parse(e){const{ctx:a,status:l}=this._processInputParams(e),u=this._def;if(a.parsedType!==ZodParsedType.array)return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:a.parsedType}),INVALID;if(u.exactLength!==null){const d=a.data.length>u.exactLength.value,h=a.data.length<u.exactLength.value;(d||h)&&(addIssueToContext(a,{code:d?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:h?u.exactLength.value:void 0,maximum:d?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),l.dirty())}if(u.minLength!==null&&a.data.length<u.minLength.value&&(addIssueToContext(a,{code:ZodIssueCode.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),l.dirty()),u.maxLength!==null&&a.data.length>u.maxLength.value&&(addIssueToContext(a,{code:ZodIssueCode.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),l.dirty()),a.common.async)return Promise.all([...a.data].map((d,h)=>u.type._parseAsync(new ParseInputLazyPath(a,d,a.path,h)))).then(d=>ParseStatus.mergeArray(l,d));const c=[...a.data].map((d,h)=>u.type._parseSync(new ParseInputLazyPath(a,d,a.path,h)));return ParseStatus.mergeArray(l,c)}get element(){return this._def.type}min(e,a){return new ZodArray({...this._def,minLength:{value:e,message:errorUtil.toString(a)}})}max(e,a){return new ZodArray({...this._def,maxLength:{value:e,message:errorUtil.toString(a)}})}length(e,a){return new ZodArray({...this._def,exactLength:{value:e,message:errorUtil.toString(a)}})}nonempty(e){return this.min(1,e)}}ZodArray.create=(t,e)=>new ZodArray({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(e)});function deepPartialify(t){if(t instanceof ZodObject){const e={};for(const a in t.shape){const l=t.shape[a];e[a]=ZodOptional.create(deepPartialify(l))}return new ZodObject({...t._def,shape:()=>e})}else return t instanceof ZodArray?new ZodArray({...t._def,type:deepPartialify(t.element)}):t instanceof ZodOptional?ZodOptional.create(deepPartialify(t.unwrap())):t instanceof ZodNullable?ZodNullable.create(deepPartialify(t.unwrap())):t instanceof ZodTuple?ZodTuple.create(t.items.map(e=>deepPartialify(e))):t}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),a=util.objectKeys(e);return this._cached={shape:e,keys:a}}_parse(e){if(this._getType(e)!==ZodParsedType.object){const g=this._getOrReturnCtx(e);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:g.parsedType}),INVALID}const{status:l,ctx:u}=this._processInputParams(e),{shape:c,keys:d}=this._getCached(),h=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const g in u.data)d.includes(g)||h.push(g);const m=[];for(const g of d){const y=c[g],b=u.data[g];m.push({key:{status:"valid",value:g},value:y._parse(new ParseInputLazyPath(u,b,u.path,g)),alwaysSet:g in u.data})}if(this._def.catchall instanceof ZodNever){const g=this._def.unknownKeys;if(g==="passthrough")for(const y of h)m.push({key:{status:"valid",value:y},value:{status:"valid",value:u.data[y]}});else if(g==="strict")h.length>0&&(addIssueToContext(u,{code:ZodIssueCode.unrecognized_keys,keys:h}),l.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const y of h){const b=u.data[y];m.push({key:{status:"valid",value:y},value:g._parse(new ParseInputLazyPath(u,b,u.path,y)),alwaysSet:y in u.data})}}return u.common.async?Promise.resolve().then(async()=>{const g=[];for(const y of m){const b=await y.key,v=await y.value;g.push({key:b,value:v,alwaysSet:y.alwaysSet})}return g}).then(g=>ParseStatus.mergeObjectSync(l,g)):ParseStatus.mergeObjectSync(l,m)}get shape(){return this._def.shape()}strict(e){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(a,l)=>{var u,c,d,h;const m=(d=(c=(u=this._def).errorMap)===null||c===void 0?void 0:c.call(u,a,l).message)!==null&&d!==void 0?d:l.defaultError;return a.code==="unrecognized_keys"?{message:(h=errorUtil.errToObj(e).message)!==null&&h!==void 0?h:m}:{message:m}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ZodObject({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(e,a){return this.augment({[e]:a})}catchall(e){return new ZodObject({...this._def,catchall:e})}pick(e){const a={};return util.objectKeys(e).forEach(l=>{e[l]&&this.shape[l]&&(a[l]=this.shape[l])}),new ZodObject({...this._def,shape:()=>a})}omit(e){const a={};return util.objectKeys(this.shape).forEach(l=>{e[l]||(a[l]=this.shape[l])}),new ZodObject({...this._def,shape:()=>a})}deepPartial(){return deepPartialify(this)}partial(e){const a={};return util.objectKeys(this.shape).forEach(l=>{const u=this.shape[l];e&&!e[l]?a[l]=u:a[l]=u.optional()}),new ZodObject({...this._def,shape:()=>a})}required(e){const a={};return util.objectKeys(this.shape).forEach(l=>{if(e&&!e[l])a[l]=this.shape[l];else{let c=this.shape[l];for(;c instanceof ZodOptional;)c=c._def.innerType;a[l]=c}}),new ZodObject({...this._def,shape:()=>a})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(t,e)=>new ZodObject({shape:()=>t,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(e)});ZodObject.strictCreate=(t,e)=>new ZodObject({shape:()=>t,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(e)});ZodObject.lazycreate=(t,e)=>new ZodObject({shape:t,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(e)});class ZodUnion extends ZodType{_parse(e){const{ctx:a}=this._processInputParams(e),l=this._def.options;function u(c){for(const h of c)if(h.result.status==="valid")return h.result;for(const h of c)if(h.result.status==="dirty")return a.common.issues.push(...h.ctx.common.issues),h.result;const d=c.map(h=>new ZodError(h.ctx.common.issues));return addIssueToContext(a,{code:ZodIssueCode.invalid_union,unionErrors:d}),INVALID}if(a.common.async)return Promise.all(l.map(async c=>{const d={...a,common:{...a.common,issues:[]},parent:null};return{result:await c._parseAsync({data:a.data,path:a.path,parent:d}),ctx:d}})).then(u);{let c;const d=[];for(const m of l){const g={...a,common:{...a.common,issues:[]},parent:null},y=m._parseSync({data:a.data,path:a.path,parent:g});if(y.status==="valid")return y;y.status==="dirty"&&!c&&(c={result:y,ctx:g}),g.common.issues.length&&d.push(g.common.issues)}if(c)return a.common.issues.push(...c.ctx.common.issues),c.result;const h=d.map(m=>new ZodError(m));return addIssueToContext(a,{code:ZodIssueCode.invalid_union,unionErrors:h}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(t,e)=>new ZodUnion({options:t,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(e)});const getDiscriminator=t=>t instanceof ZodLazy?getDiscriminator(t.schema):t instanceof ZodEffects?getDiscriminator(t.innerType()):t instanceof ZodLiteral?[t.value]:t instanceof ZodEnum?t.options:t instanceof ZodNativeEnum?util.objectValues(t.enum):t instanceof ZodDefault?getDiscriminator(t._def.innerType):t instanceof ZodUndefined?[void 0]:t instanceof ZodNull?[null]:t instanceof ZodOptional?[void 0,...getDiscriminator(t.unwrap())]:t instanceof ZodNullable?[null,...getDiscriminator(t.unwrap())]:t instanceof ZodBranded||t instanceof ZodReadonly?getDiscriminator(t.unwrap()):t instanceof ZodCatch?getDiscriminator(t._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==ZodParsedType.object)return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:a.parsedType}),INVALID;const l=this.discriminator,u=a.data[l],c=this.optionsMap.get(u);return c?a.common.async?c._parseAsync({data:a.data,path:a.path,parent:a}):c._parseSync({data:a.data,path:a.path,parent:a}):(addIssueToContext(a,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[l]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,a,l){const u=new Map;for(const c of a){const d=getDiscriminator(c.shape[e]);if(!d.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const h of d){if(u.has(h))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(h)}`);u.set(h,c)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:e,options:a,optionsMap:u,...processCreateParams(l)})}}function mergeValues(t,e){const a=getParsedType(t),l=getParsedType(e);if(t===e)return{valid:!0,data:t};if(a===ZodParsedType.object&&l===ZodParsedType.object){const u=util.objectKeys(e),c=util.objectKeys(t).filter(h=>u.indexOf(h)!==-1),d={...t,...e};for(const h of c){const m=mergeValues(t[h],e[h]);if(!m.valid)return{valid:!1};d[h]=m.data}return{valid:!0,data:d}}else if(a===ZodParsedType.array&&l===ZodParsedType.array){if(t.length!==e.length)return{valid:!1};const u=[];for(let c=0;c<t.length;c++){const d=t[c],h=e[c],m=mergeValues(d,h);if(!m.valid)return{valid:!1};u.push(m.data)}return{valid:!0,data:u}}else return a===ZodParsedType.date&&l===ZodParsedType.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ZodIntersection extends ZodType{_parse(e){const{status:a,ctx:l}=this._processInputParams(e),u=(c,d)=>{if(isAborted(c)||isAborted(d))return INVALID;const h=mergeValues(c.value,d.value);return h.valid?((isDirty(c)||isDirty(d))&&a.dirty(),{status:a.value,value:h.data}):(addIssueToContext(l,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return l.common.async?Promise.all([this._def.left._parseAsync({data:l.data,path:l.path,parent:l}),this._def.right._parseAsync({data:l.data,path:l.path,parent:l})]).then(([c,d])=>u(c,d)):u(this._def.left._parseSync({data:l.data,path:l.path,parent:l}),this._def.right._parseSync({data:l.data,path:l.path,parent:l}))}}ZodIntersection.create=(t,e,a)=>new ZodIntersection({left:t,right:e,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(a)});class ZodTuple extends ZodType{_parse(e){const{status:a,ctx:l}=this._processInputParams(e);if(l.parsedType!==ZodParsedType.array)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:l.parsedType}),INVALID;if(l.data.length<this._def.items.length)return addIssueToContext(l,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&l.data.length>this._def.items.length&&(addIssueToContext(l,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const c=[...l.data].map((d,h)=>{const m=this._def.items[h]||this._def.rest;return m?m._parse(new ParseInputLazyPath(l,d,l.path,h)):null}).filter(d=>!!d);return l.common.async?Promise.all(c).then(d=>ParseStatus.mergeArray(a,d)):ParseStatus.mergeArray(a,c)}get items(){return this._def.items}rest(e){return new ZodTuple({...this._def,rest:e})}}ZodTuple.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:t,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(e)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:l}=this._processInputParams(e);if(l.parsedType!==ZodParsedType.object)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:l.parsedType}),INVALID;const u=[],c=this._def.keyType,d=this._def.valueType;for(const h in l.data)u.push({key:c._parse(new ParseInputLazyPath(l,h,l.path,h)),value:d._parse(new ParseInputLazyPath(l,l.data[h],l.path,h)),alwaysSet:h in l.data});return l.common.async?ParseStatus.mergeObjectAsync(a,u):ParseStatus.mergeObjectSync(a,u)}get element(){return this._def.valueType}static create(e,a,l){return a instanceof ZodType?new ZodRecord({keyType:e,valueType:a,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(l)}):new ZodRecord({keyType:ZodString.create(),valueType:e,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(a)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:l}=this._processInputParams(e);if(l.parsedType!==ZodParsedType.map)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:l.parsedType}),INVALID;const u=this._def.keyType,c=this._def.valueType,d=[...l.data.entries()].map(([h,m],g)=>({key:u._parse(new ParseInputLazyPath(l,h,l.path,[g,"key"])),value:c._parse(new ParseInputLazyPath(l,m,l.path,[g,"value"]))}));if(l.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const m of d){const g=await m.key,y=await m.value;if(g.status==="aborted"||y.status==="aborted")return INVALID;(g.status==="dirty"||y.status==="dirty")&&a.dirty(),h.set(g.value,y.value)}return{status:a.value,value:h}})}else{const h=new Map;for(const m of d){const g=m.key,y=m.value;if(g.status==="aborted"||y.status==="aborted")return INVALID;(g.status==="dirty"||y.status==="dirty")&&a.dirty(),h.set(g.value,y.value)}return{status:a.value,value:h}}}}ZodMap.create=(t,e,a)=>new ZodMap({valueType:e,keyType:t,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(a)});class ZodSet extends ZodType{_parse(e){const{status:a,ctx:l}=this._processInputParams(e);if(l.parsedType!==ZodParsedType.set)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:l.parsedType}),INVALID;const u=this._def;u.minSize!==null&&l.data.size<u.minSize.value&&(addIssueToContext(l,{code:ZodIssueCode.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),a.dirty()),u.maxSize!==null&&l.data.size>u.maxSize.value&&(addIssueToContext(l,{code:ZodIssueCode.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),a.dirty());const c=this._def.valueType;function d(m){const g=new Set;for(const y of m){if(y.status==="aborted")return INVALID;y.status==="dirty"&&a.dirty(),g.add(y.value)}return{status:a.value,value:g}}const h=[...l.data.values()].map((m,g)=>c._parse(new ParseInputLazyPath(l,m,l.path,g)));return l.common.async?Promise.all(h).then(m=>d(m)):d(h)}min(e,a){return new ZodSet({...this._def,minSize:{value:e,message:errorUtil.toString(a)}})}max(e,a){return new ZodSet({...this._def,maxSize:{value:e,message:errorUtil.toString(a)}})}size(e,a){return this.min(e,a).max(e,a)}nonempty(e){return this.min(1,e)}}ZodSet.create=(t,e)=>new ZodSet({valueType:t,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(e)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==ZodParsedType.function)return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:a.parsedType}),INVALID;function l(h,m){return makeIssue({data:h,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,getErrorMap(),errorMap].filter(g=>!!g),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:m}})}function u(h,m){return makeIssue({data:h,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,getErrorMap(),errorMap].filter(g=>!!g),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:m}})}const c={errorMap:a.common.contextualErrorMap},d=a.data;if(this._def.returns instanceof ZodPromise){const h=this;return OK(async function(...m){const g=new ZodError([]),y=await h._def.args.parseAsync(m,c).catch(C=>{throw g.addIssue(l(m,C)),g}),b=await Reflect.apply(d,this,y);return await h._def.returns._def.type.parseAsync(b,c).catch(C=>{throw g.addIssue(u(b,C)),g})})}else{const h=this;return OK(function(...m){const g=h._def.args.safeParse(m,c);if(!g.success)throw new ZodError([l(m,g.error)]);const y=Reflect.apply(d,this,g.data),b=h._def.returns.safeParse(y,c);if(!b.success)throw new ZodError([u(y,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ZodFunction({...this._def,args:ZodTuple.create(e).rest(ZodUnknown.create())})}returns(e){return new ZodFunction({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,a,l){return new ZodFunction({args:e||ZodTuple.create([]).rest(ZodUnknown.create()),returns:a||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(l)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(e){const{ctx:a}=this._processInputParams(e);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}ZodLazy.create=(t,e)=>new ZodLazy({getter:t,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(e)});class ZodLiteral extends ZodType{_parse(e){if(e.data!==this._def.value){const a=this._getOrReturnCtx(e);return addIssueToContext(a,{received:a.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}ZodLiteral.create=(t,e)=>new ZodLiteral({value:t,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(e)});function createZodEnum(t,e){return new ZodEnum({values:t,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(e)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const a=this._getOrReturnCtx(e),l=this._def.values;return addIssueToContext(a,{expected:util.joinValues(l),received:a.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(e.data)){const a=this._getOrReturnCtx(e),l=this._def.values;return addIssueToContext(a,{received:a.data,code:ZodIssueCode.invalid_enum_value,options:l}),INVALID}return OK(e.data)}get options(){return this._def.values}get enum(){const e={};for(const a of this._def.values)e[a]=a;return e}get Values(){const e={};for(const a of this._def.values)e[a]=a;return e}get Enum(){const e={};for(const a of this._def.values)e[a]=a;return e}extract(e,a=this._def){return ZodEnum.create(e,{...this._def,...a})}exclude(e,a=this._def){return ZodEnum.create(this.options.filter(l=>!e.includes(l)),{...this._def,...a})}}_ZodEnum_cache=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(e){const a=util.getValidEnumValues(this._def.values),l=this._getOrReturnCtx(e);if(l.parsedType!==ZodParsedType.string&&l.parsedType!==ZodParsedType.number){const u=util.objectValues(a);return addIssueToContext(l,{expected:util.joinValues(u),received:l.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(e.data)){const u=util.objectValues(a);return addIssueToContext(l,{received:l.data,code:ZodIssueCode.invalid_enum_value,options:u}),INVALID}return OK(e.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap;ZodNativeEnum.create=(t,e)=>new ZodNativeEnum({values:t,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(e)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==ZodParsedType.promise&&a.common.async===!1)return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:a.parsedType}),INVALID;const l=a.parsedType===ZodParsedType.promise?a.data:Promise.resolve(a.data);return OK(l.then(u=>this._def.type.parseAsync(u,{path:a.path,errorMap:a.common.contextualErrorMap})))}}ZodPromise.create=(t,e)=>new ZodPromise({type:t,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(e)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:a,ctx:l}=this._processInputParams(e),u=this._def.effect||null,c={addIssue:d=>{addIssueToContext(l,d),d.fatal?a.abort():a.dirty()},get path(){return l.path}};if(c.addIssue=c.addIssue.bind(c),u.type==="preprocess"){const d=u.transform(l.data,c);if(l.common.async)return Promise.resolve(d).then(async h=>{if(a.value==="aborted")return INVALID;const m=await this._def.schema._parseAsync({data:h,path:l.path,parent:l});return m.status==="aborted"?INVALID:m.status==="dirty"||a.value==="dirty"?DIRTY(m.value):m});{if(a.value==="aborted")return INVALID;const h=this._def.schema._parseSync({data:d,path:l.path,parent:l});return h.status==="aborted"?INVALID:h.status==="dirty"||a.value==="dirty"?DIRTY(h.value):h}}if(u.type==="refinement"){const d=h=>{const m=u.refinement(h,c);if(l.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(l.common.async===!1){const h=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});return h.status==="aborted"?INVALID:(h.status==="dirty"&&a.dirty(),d(h.value),{status:a.value,value:h.value})}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(h=>h.status==="aborted"?INVALID:(h.status==="dirty"&&a.dirty(),d(h.value).then(()=>({status:a.value,value:h.value}))))}if(u.type==="transform")if(l.common.async===!1){const d=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});if(!isValid(d))return d;const h=u.transform(d.value,c);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:h}}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(d=>isValid(d)?Promise.resolve(u.transform(d.value,c)).then(h=>({status:a.value,value:h})):d);util.assertNever(u)}}ZodEffects.create=(t,e,a)=>new ZodEffects({schema:t,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:e,...processCreateParams(a)});ZodEffects.createWithPreprocess=(t,e,a)=>new ZodEffects({schema:e,effect:{type:"preprocess",transform:t},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(a)});class ZodOptional extends ZodType{_parse(e){return this._getType(e)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodOptional.create=(t,e)=>new ZodOptional({innerType:t,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(e)});class ZodNullable extends ZodType{_parse(e){return this._getType(e)===ZodParsedType.null?OK(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodNullable.create=(t,e)=>new ZodNullable({innerType:t,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(e)});class ZodDefault extends ZodType{_parse(e){const{ctx:a}=this._processInputParams(e);let l=a.data;return a.parsedType===ZodParsedType.undefined&&(l=this._def.defaultValue()),this._def.innerType._parse({data:l,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}ZodDefault.create=(t,e)=>new ZodDefault({innerType:t,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...processCreateParams(e)});class ZodCatch extends ZodType{_parse(e){const{ctx:a}=this._processInputParams(e),l={...a,common:{...a.common,issues:[]}},u=this._def.innerType._parse({data:l.data,path:l.path,parent:{...l}});return isAsync(u)?u.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new ZodError(l.common.issues)},input:l.data})})):{status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new ZodError(l.common.issues)},input:l.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(t,e)=>new ZodCatch({innerType:t,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...processCreateParams(e)});class ZodNaN extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.nan){const l=this._getOrReturnCtx(e);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:l.parsedType}),INVALID}return{status:"valid",value:e.data}}}ZodNaN.create=t=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(t)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(e){const{ctx:a}=this._processInputParams(e),l=a.data;return this._def.type._parse({data:l,path:a.path,parent:a})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(e){const{status:a,ctx:l}=this._processInputParams(e);if(l.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:l.data,path:l.path,parent:l});return c.status==="aborted"?INVALID:c.status==="dirty"?(a.dirty(),DIRTY(c.value)):this._def.out._parseAsync({data:c.value,path:l.path,parent:l})})();{const u=this._def.in._parseSync({data:l.data,path:l.path,parent:l});return u.status==="aborted"?INVALID:u.status==="dirty"?(a.dirty(),{status:"dirty",value:u.value}):this._def.out._parseSync({data:u.value,path:l.path,parent:l})}}static create(e,a){return new ZodPipeline({in:e,out:a,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(e){const a=this._def.innerType._parse(e),l=u=>(isValid(u)&&(u.value=Object.freeze(u.value)),u);return isAsync(a)?a.then(u=>l(u)):l(a)}unwrap(){return this._def.innerType}}ZodReadonly.create=(t,e)=>new ZodReadonly({innerType:t,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(e)});function cleanParams(t,e){const a=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof a=="string"?{message:a}:a}function custom(t,e={},a){return t?ZodAny.create().superRefine((l,u)=>{var c,d;const h=t(l);if(h instanceof Promise)return h.then(m=>{var g,y;if(!m){const b=cleanParams(e,l),v=(y=(g=b.fatal)!==null&&g!==void 0?g:a)!==null&&y!==void 0?y:!0;u.addIssue({code:"custom",...b,fatal:v})}});if(!h){const m=cleanParams(e,l),g=(d=(c=m.fatal)!==null&&c!==void 0?c:a)!==null&&d!==void 0?d:!0;u.addIssue({code:"custom",...m,fatal:g})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(t,e={message:`Input not instance of ${t.name}`})=>custom(a=>a instanceof t,e),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:t=>ZodString.create({...t,coerce:!0}),number:t=>ZodNumber.create({...t,coerce:!0}),boolean:t=>ZodBoolean.create({...t,coerce:!0}),bigint:t=>ZodBigInt.create({...t,coerce:!0}),date:t=>ZodDate.create({...t,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const Form=FormProvider,FormFieldContext=reactExports.createContext({}),FormField=({...t})=>jsxRuntimeExports.jsx(FormFieldContext.Provider,{value:{name:t.name},children:jsxRuntimeExports.jsx(Controller,{...t})}),useFormField=()=>{const t=reactExports.useContext(FormFieldContext),e=reactExports.useContext(FormItemContext),{getFieldState:a,formState:l}=useFormContext(),u=a(t.name,l);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:c}=e;return{id:c,name:t.name,formItemId:`${c}-form-item`,formDescriptionId:`${c}-form-item-description`,formMessageId:`${c}-form-item-message`,...u}},FormItemContext=reactExports.createContext({}),FormItem=reactExports.forwardRef(({className:t,...e},a)=>{const l=reactExports.useId();return jsxRuntimeExports.jsx(FormItemContext.Provider,{value:{id:l},children:jsxRuntimeExports.jsx("div",{ref:a,className:cn("space-y-2",t),...e})})});FormItem.displayName="FormItem";const FormLabel=reactExports.forwardRef(({className:t,...e},a)=>{const{error:l,formItemId:u}=useFormField();return jsxRuntimeExports.jsx(Label$2,{ref:a,className:cn(l&&"text-destructive",t),htmlFor:u,...e})});FormLabel.displayName="FormLabel";const FormControl=reactExports.forwardRef(({...t},e)=>{const{error:a,formItemId:l,formDescriptionId:u,formMessageId:c}=useFormField();return jsxRuntimeExports.jsx(Slot$4,{ref:e,id:l,"aria-describedby":a?`${u} ${c}`:`${u}`,"aria-invalid":!!a,...t})});FormControl.displayName="FormControl";const FormDescription=reactExports.forwardRef(({className:t,...e},a)=>{const{formDescriptionId:l}=useFormField();return jsxRuntimeExports.jsx("p",{ref:a,id:l,className:cn("text-[0.8rem] text-muted-foreground",t),...e})});FormDescription.displayName="FormDescription";const FormMessage=reactExports.forwardRef(({className:t,children:e,...a},l)=>{const{error:u,formMessageId:c}=useFormField(),d=u?String((u==null?void 0:u.message)??""):e;return d?jsxRuntimeExports.jsx("p",{ref:l,id:c,className:cn("text-[0.8rem] font-medium text-destructive",t),...a,children:d}):null});FormMessage.displayName="FormMessage";const Textarea=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...e}));Textarea.displayName="Textarea";reactExports.createContext(void 0);function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(e,a){module.exports=a()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=N,e.bytesToString=V,e.createPromiseCapability=Ye,e.createValidAbsoluteUrl=L,e.getModificationDate=qe,e.getVerbosityLevel=ce,e.info=ae,e.isArrayBuffer=Me,e.isArrayEqual=Le,e.objectFromMap=de,e.objectSize=q,e.setVerbosityLevel=ve,e.shadow=H,e.string32=se,e.stringToBytes=Q,e.stringToPDFString=me,e.stringToUTF8String=Re,e.unreachable=ee,e.utf8StringToString=Oe,e.warn=pe;const a=[1,0,0,1,0,0];e.IDENTITY_MATRIX=a;const l=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=l;const u=1.35;e.LINE_FACTOR=u;const c=.35;e.LINE_DESCENT_FACTOR=c;const d=c/u;e.BASELINE_FACTOR=d;const h={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=h;const m={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=m;const g="pdfjs_internal_editor_";e.AnnotationEditorPrefix=g;const y={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=y;const b={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=b;const v={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=v;const C={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=C;const S={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=S;const E={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=E;const _={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=_;const A={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=A;const R={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=R;const k={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=k;const M={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=M;const D={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=D;const B={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=B;const U={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=U;const T={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=T;const $={O:"PageOpen",C:"PageClose"};e.PageActionEventType=$;const G={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=G;const ue={NONE:0,BINARY:1};e.CMapCompressionType=ue;const te={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=te;const Se={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=Se;const he={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=he;let Te=G.WARNINGS;function ve(Ie){Number.isInteger(Ie)&&(Te=Ie)}function ce(){return Te}function ae(Ie){Te>=G.INFOS&&console.log(`Info: ${Ie}`)}function pe(Ie){Te>=G.WARNINGS&&console.log(`Warning: ${Ie}`)}function ee(Ie){throw new Error(Ie)}function N(Ie,Ae){Ie||ee(Ae)}function I(Ie){if(!Ie)return!1;switch(Ie.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function L(Ie,Ae=null,we=null){if(!Ie)return null;try{if(we&&typeof Ie=="string"){if(we.addDefaultProtocol&&Ie.startsWith("www.")){const nt=Ie.match(/\./g);nt&&nt.length>=2&&(Ie=`http://${Ie}`)}if(we.tryConvertEncoding)try{Ie=Re(Ie)}catch{}}const He=Ae?new URL(Ie,Ae):new URL(Ie);if(I(He))return He}catch{}return null}function H(Ie,Ae,we,He=!1){return Object.defineProperty(Ie,Ae,{value:we,enumerable:!He,configurable:!0,writable:!1}),we}const re=function(){function Ae(we,He){this.constructor===Ae&&ee("Cannot initialize BaseException."),this.message=we,this.name=He}return Ae.prototype=new Error,Ae.constructor=Ae,Ae}();e.BaseException=re;class oe extends re{constructor(Ae,we){super(Ae,"PasswordException"),this.code=we}}e.PasswordException=oe;class K extends re{constructor(Ae,we){super(Ae,"UnknownErrorException"),this.details=we}}e.UnknownErrorException=K;class le extends re{constructor(Ae){super(Ae,"InvalidPDFException")}}e.InvalidPDFException=le;class ye extends re{constructor(Ae){super(Ae,"MissingPDFException")}}e.MissingPDFException=ye;class Ce extends re{constructor(Ae,we){super(Ae,"UnexpectedResponseException"),this.status=we}}e.UnexpectedResponseException=Ce;class xe extends re{constructor(Ae){super(Ae,"FormatError")}}e.FormatError=xe;class j extends re{constructor(Ae){super(Ae,"AbortException")}}e.AbortException=j;function V(Ie){(typeof Ie!="object"||Ie===null||Ie.length===void 0)&&ee("Invalid argument for bytesToString");const Ae=Ie.length,we=8192;if(Ae<we)return String.fromCharCode.apply(null,Ie);const He=[];for(let nt=0;nt<Ae;nt+=we){const it=Math.min(nt+we,Ae),at=Ie.subarray(nt,it);He.push(String.fromCharCode.apply(null,at))}return He.join("")}function Q(Ie){typeof Ie!="string"&&ee("Invalid argument for stringToBytes");const Ae=Ie.length,we=new Uint8Array(Ae);for(let He=0;He<Ae;++He)we[He]=Ie.charCodeAt(He)&255;return we}function se(Ie){return String.fromCharCode(Ie>>24&255,Ie>>16&255,Ie>>8&255,Ie&255)}function q(Ie){return Object.keys(Ie).length}function de(Ie){const Ae=Object.create(null);for(const[we,He]of Ie)Ae[we]=He;return Ae}function be(){const Ie=new Uint8Array(4);return Ie[0]=1,new Uint32Array(Ie.buffer,0,1)[0]===1}function Ee(){try{return new Function(""),!0}catch{return!1}}class Pe{static get isLittleEndian(){return H(this,"isLittleEndian",be())}static get isEvalSupported(){return H(this,"isEvalSupported",Ee())}static get isOffscreenCanvasSupported(){return H(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?H(this,"platform",{isWin:!1,isMac:!1}):H(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}e.FeatureTest=Pe;const fe=[...Array(256).keys()].map(Ie=>Ie.toString(16).padStart(2,"0"));class W{static makeHexColor(Ae,we,He){return`#${fe[Ae]}${fe[we]}${fe[He]}`}static scaleMinMax(Ae,we){let He;Ae[0]?(Ae[0]<0&&(He=we[0],we[0]=we[1],we[1]=He),we[0]*=Ae[0],we[1]*=Ae[0],Ae[3]<0&&(He=we[2],we[2]=we[3],we[3]=He),we[2]*=Ae[3],we[3]*=Ae[3]):(He=we[0],we[0]=we[2],we[2]=He,He=we[1],we[1]=we[3],we[3]=He,Ae[1]<0&&(He=we[2],we[2]=we[3],we[3]=He),we[2]*=Ae[1],we[3]*=Ae[1],Ae[2]<0&&(He=we[0],we[0]=we[1],we[1]=He),we[0]*=Ae[2],we[1]*=Ae[2]),we[0]+=Ae[4],we[1]+=Ae[4],we[2]+=Ae[5],we[3]+=Ae[5]}static transform(Ae,we){return[Ae[0]*we[0]+Ae[2]*we[1],Ae[1]*we[0]+Ae[3]*we[1],Ae[0]*we[2]+Ae[2]*we[3],Ae[1]*we[2]+Ae[3]*we[3],Ae[0]*we[4]+Ae[2]*we[5]+Ae[4],Ae[1]*we[4]+Ae[3]*we[5]+Ae[5]]}static applyTransform(Ae,we){const He=Ae[0]*we[0]+Ae[1]*we[2]+we[4],nt=Ae[0]*we[1]+Ae[1]*we[3]+we[5];return[He,nt]}static applyInverseTransform(Ae,we){const He=we[0]*we[3]-we[1]*we[2],nt=(Ae[0]*we[3]-Ae[1]*we[2]+we[2]*we[5]-we[4]*we[3])/He,it=(-Ae[0]*we[1]+Ae[1]*we[0]+we[4]*we[1]-we[5]*we[0])/He;return[nt,it]}static getAxialAlignedBoundingBox(Ae,we){const He=W.applyTransform(Ae,we),nt=W.applyTransform(Ae.slice(2,4),we),it=W.applyTransform([Ae[0],Ae[3]],we),at=W.applyTransform([Ae[2],Ae[1]],we);return[Math.min(He[0],nt[0],it[0],at[0]),Math.min(He[1],nt[1],it[1],at[1]),Math.max(He[0],nt[0],it[0],at[0]),Math.max(He[1],nt[1],it[1],at[1])]}static inverseTransform(Ae){const we=Ae[0]*Ae[3]-Ae[1]*Ae[2];return[Ae[3]/we,-Ae[1]/we,-Ae[2]/we,Ae[0]/we,(Ae[2]*Ae[5]-Ae[4]*Ae[3])/we,(Ae[4]*Ae[1]-Ae[5]*Ae[0])/we]}static singularValueDecompose2dScale(Ae){const we=[Ae[0],Ae[2],Ae[1],Ae[3]],He=Ae[0]*we[0]+Ae[1]*we[2],nt=Ae[0]*we[1]+Ae[1]*we[3],it=Ae[2]*we[0]+Ae[3]*we[2],at=Ae[2]*we[1]+Ae[3]*we[3],_t=(He+at)/2,Dt=Math.sqrt((He+at)**2-4*(He*at-it*nt))/2,Lt=_t+Dt||1,ft=_t-Dt||1;return[Math.sqrt(Lt),Math.sqrt(ft)]}static normalizeRect(Ae){const we=Ae.slice(0);return Ae[0]>Ae[2]&&(we[0]=Ae[2],we[2]=Ae[0]),Ae[1]>Ae[3]&&(we[1]=Ae[3],we[3]=Ae[1]),we}static intersect(Ae,we){const He=Math.max(Math.min(Ae[0],Ae[2]),Math.min(we[0],we[2])),nt=Math.min(Math.max(Ae[0],Ae[2]),Math.max(we[0],we[2]));if(He>nt)return null;const it=Math.max(Math.min(Ae[1],Ae[3]),Math.min(we[1],we[3])),at=Math.min(Math.max(Ae[1],Ae[3]),Math.max(we[1],we[3]));return it>at?null:[He,it,nt,at]}static bezierBoundingBox(Ae,we,He,nt,it,at,_t,Dt){const Lt=[],ft=[[],[]];let Ut,tn,qn,yt,Zn,Gn,Kn,cr;for(let Fr=0;Fr<2;++Fr){if(Fr===0?(tn=6*Ae-12*He+6*it,Ut=-3*Ae+9*He-9*it+3*_t,qn=3*He-3*Ae):(tn=6*we-12*nt+6*at,Ut=-3*we+9*nt-9*at+3*Dt,qn=3*nt-3*we),Math.abs(Ut)<1e-12){if(Math.abs(tn)<1e-12)continue;yt=-qn/tn,0<yt&&yt<1&&Lt.push(yt);continue}Kn=tn*tn-4*qn*Ut,cr=Math.sqrt(Kn),!(Kn<0)&&(Zn=(-tn+cr)/(2*Ut),0<Zn&&Zn<1&&Lt.push(Zn),Gn=(-tn-cr)/(2*Ut),0<Gn&&Gn<1&&Lt.push(Gn))}let nn=Lt.length,At;const rn=nn;for(;nn--;)yt=Lt[nn],At=1-yt,ft[0][nn]=At*At*At*Ae+3*At*At*yt*He+3*At*yt*yt*it+yt*yt*yt*_t,ft[1][nn]=At*At*At*we+3*At*At*yt*nt+3*At*yt*yt*at+yt*yt*yt*Dt;return ft[0][rn]=Ae,ft[1][rn]=we,ft[0][rn+1]=_t,ft[1][rn+1]=Dt,ft[0].length=ft[1].length=rn+2,[Math.min(...ft[0]),Math.min(...ft[1]),Math.max(...ft[0]),Math.max(...ft[1])]}}e.Util=W;const Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function me(Ie){if(Ie[0]>=""){let we;if(Ie[0]===""&&Ie[1]===""?we="utf-16be":Ie[0]===""&&Ie[1]===""?we="utf-16le":Ie[0]===""&&Ie[1]===""&&Ie[2]===""&&(we="utf-8"),we)try{const He=new TextDecoder(we,{fatal:!0}),nt=Q(Ie);return He.decode(nt)}catch(He){pe(`stringToPDFString: "${He}".`)}}const Ae=[];for(let we=0,He=Ie.length;we<He;we++){const nt=Y[Ie.charCodeAt(we)];Ae.push(nt?String.fromCharCode(nt):Ie.charAt(we))}return Ae.join("")}function Re(Ie){return decodeURIComponent(escape(Ie))}function Oe(Ie){return unescape(encodeURIComponent(Ie))}function Me(Ie){return typeof Ie=="object"&&Ie!==null&&Ie.byteLength!==void 0}function Le(Ie,Ae){if(Ie.length!==Ae.length)return!1;for(let we=0,He=Ie.length;we<He;we++)if(Ie[we]!==Ae[we])return!1;return!0}function qe(Ie=new Date){return[Ie.getUTCFullYear().toString(),(Ie.getUTCMonth()+1).toString().padStart(2,"0"),Ie.getUTCDate().toString().padStart(2,"0"),Ie.getUTCHours().toString().padStart(2,"0"),Ie.getUTCMinutes().toString().padStart(2,"0"),Ie.getUTCSeconds().toString().padStart(2,"0")].join("")}function Ye(){const Ie=Object.create(null);let Ae=!1;return Object.defineProperty(Ie,"settled",{get(){return Ae}}),Ie.promise=new Promise(function(we,He){Ie.resolve=function(nt){Ae=!0,we(nt)},Ie.reject=function(nt){Ae=!0,He(nt)}}),Ie}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,e,l,u,c,d,h,m,g,y,ma,v,C,ga,E,_;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:R,NodeCMapReaderFactory:k,NodeStandardFontDataFactory:M}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=R,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=k,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=M}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:R}=__w_pdfjs_require__(21);createPDFNetworkStream=k=>new R(k)}else{const{PDFNetworkStream:R}=__w_pdfjs_require__(24),{PDFFetchStream:k}=__w_pdfjs_require__(25);createPDFNetworkStream=M=>(0,_display_utils.isValidFetchUrl)(M.url)?new k(M):new R(M)}function getDocument(R){if(typeof R=="string"||R instanceof URL)R={url:R};else if((0,_util.isArrayBuffer)(R))R={data:R};else if(R instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),R={range:R};else if(typeof R!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!R.url&&!R.data&&!R.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const k=new PDFDocumentLoadingTask,M=R.url?getUrlProp(R.url):null,D=R.data?getDataProp(R.data):null,B=R.httpHeaders||null,U=R.withCredentials===!0,T=R.password??null,$=R.range instanceof PDFDataRangeTransport?R.range:null,G=Number.isInteger(R.rangeChunkSize)&&R.rangeChunkSize>0?R.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ue=R.worker instanceof PDFWorker?R.worker:null;const te=R.verbosity,Se=typeof R.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(R.docBaseUrl)?R.docBaseUrl:null,he=typeof R.cMapUrl=="string"?R.cMapUrl:null,Te=R.cMapPacked!==!1,ve=R.CMapReaderFactory||DefaultCMapReaderFactory,ce=typeof R.standardFontDataUrl=="string"?R.standardFontDataUrl:null,ae=R.StandardFontDataFactory||DefaultStandardFontDataFactory,pe=R.stopAtErrors!==!0,ee=Number.isInteger(R.maxImageSize)&&R.maxImageSize>-1?R.maxImageSize:-1,N=R.isEvalSupported!==!1,I=typeof R.isOffscreenCanvasSupported=="boolean"?R.isOffscreenCanvasSupported:!_is_node.isNodeJS,L=typeof R.disableFontFace=="boolean"?R.disableFontFace:_is_node.isNodeJS,H=R.fontExtraProperties===!0,re=R.enableXfa===!0,oe=R.ownerDocument||globalThis.document,K=R.disableRange===!0,le=R.disableStream===!0,ye=R.disableAutoFetch===!0,Ce=R.pdfBug===!0,xe=$?$.length:R.length??NaN,j=typeof R.useSystemFonts=="boolean"?R.useSystemFonts:!_is_node.isNodeJS&&!L,V=typeof R.useWorkerFetch=="boolean"?R.useWorkerFetch:ve===_display_utils.DOMCMapReaderFactory&&ae===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(he,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(ce,document.baseURI),Q=null;(0,_util.setVerbosityLevel)(te);const se=V?null:{cMapReaderFactory:new ve({baseUrl:he,isCompressed:Te}),standardFontDataFactory:new ae({baseUrl:ce})};if(!ue){const Ee={verbosity:te,port:_worker_options.GlobalWorkerOptions.workerPort};ue=Ee.port?PDFWorker.fromPort(Ee):new PDFWorker(Ee),k._worker=ue}const q=k.docId,de={docId:q,apiVersion:"3.4.120",data:D,password:T,disableAutoFetch:ye,rangeChunkSize:G,length:xe,docBaseUrl:Se,enableXfa:re,evaluatorOptions:{maxImageSize:ee,disableFontFace:L,ignoreErrors:pe,isEvalSupported:N,isOffscreenCanvasSupported:I,fontExtraProperties:H,useSystemFonts:j,cMapUrl:V?he:null,standardFontDataUrl:V?ce:null}},be={ignoreErrors:pe,isEvalSupported:N,disableFontFace:L,fontExtraProperties:H,enableXfa:re,ownerDocument:oe,disableAutoFetch:ye,pdfBug:Ce,styleElement:Q};return ue.promise.then(function(){if(k.destroyed)throw new Error("Loading aborted");const Ee=_fetchDocument(ue,de),Pe=new Promise(function(fe){let W;$?W=new _transport_stream.PDFDataTransportStream({length:xe,initialData:$.initialData,progressiveDone:$.progressiveDone,contentDispositionFilename:$.contentDispositionFilename,disableRange:K,disableStream:le},$):D||(W=createPDFNetworkStream({url:M,length:xe,httpHeaders:B,withCredentials:U,rangeChunkSize:G,disableRange:K,disableStream:le})),fe(W)});return Promise.all([Ee,Pe]).then(function([fe,W]){if(k.destroyed)throw new Error("Loading aborted");const Y=new _message_handler.MessageHandler(q,fe,ue.port),me=new WorkerTransport(Y,k,W,be,se);k._transport=me,Y.send("Ready",null)})}).catch(k._capability.reject),k}async function _fetchDocument(R,k){if(R.destroyed)throw new Error("Worker was destroyed");const M=await R.messageHandler.sendWithPromise("GetDocRequest",k,k.data?[k.data.buffer]:null);if(R.destroyed)throw new Error("Worker was destroyed");return M}function getUrlProp(R){if(R instanceof URL)return R.href;try{return new URL(R,window.location).href}catch{if(_is_node.isNodeJS&&typeof R=="string")return R}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(R){if(_is_node.isNodeJS&&typeof Buffer<"u"&&R instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(R);if(R instanceof Uint8Array&&R.byteLength===R.buffer.byteLength)return R;if(typeof R=="string")return(0,_util.stringToBytes)(R);if(typeof R=="object"&&!isNaN(R==null?void 0:R.length)||(0,_util.isArrayBuffer)(R))return new Uint8Array(R);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const a=class a{constructor(){ze(this,e,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${pa(a,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return ne(this,e)}set onUnsupportedFeature(k){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),We(this,e,k)}get promise(){return this._capability.promise}async destroy(){var k;this.destroyed=!0,await((k=this._transport)==null?void 0:k.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};t=new WeakMap,e=new WeakMap,ze(a,t,0);let PDFDocumentLoadingTask=a;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(k,M,D=!1,B=null){this.length=k,this.initialData=M,this.progressiveDone=D,this.contentDispositionFilename=B,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(k){this._rangeListeners.push(k)}addProgressListener(k){this._progressListeners.push(k)}addProgressiveReadListener(k){this._progressiveReadListeners.push(k)}addProgressiveDoneListener(k){this._progressiveDoneListeners.push(k)}onDataRange(k,M){for(const D of this._rangeListeners)D(k,M)}onDataProgress(k,M){this._readyCapability.promise.then(()=>{for(const D of this._progressListeners)D(k,M)})}onDataProgressiveRead(k){this._readyCapability.promise.then(()=>{for(const M of this._progressiveReadListeners)M(k)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const k of this._progressiveDoneListeners)k()})}transportReady(){this._readyCapability.resolve()}requestDataRange(k,M){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(k,M){this._pdfInfo=k,this._transport=M}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(k){return this._transport.getPage(k)}getPageIndex(k){return this._transport.getPageIndex(k)}getDestinations(){return this._transport.getDestinations()}getDestination(k){return this._transport.getDestination(k)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(k=!1){return this._transport.startCleanup(k||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(k,M,D,B,U=!1){this._pageIndex=k,this._pageInfo=M,this._ownerDocument=B,this._transport=D,this._stats=U?new _display_utils.StatTimer:null,this._pdfBug=U,this.commonObjs=D.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:k,rotation:M=this.rotate,offsetX:D=0,offsetY:B=0,dontFlip:U=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:k,rotation:M,offsetX:D,offsetY:B,dontFlip:U})}getAnnotations({intent:k="display"}={}){const M=this._transport.getRenderingIntent(k);return this._transport.getAnnotations(this._pageIndex,M.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var k;return((k=this._transport._htmlForXfa)==null?void 0:k.children[this._pageIndex])||null}render({canvasContext:k,viewport:M,intent:D="display",annotationMode:B=_util.AnnotationMode.ENABLE,transform:U=null,canvasFactory:T=null,background:$=null,optionalContentConfigPromise:G=null,annotationCanvasMap:ue=null,pageColors:te=null,printAnnotationStorage:Se=null}){var N,I;(N=this._stats)==null||N.time("Overall");const he=this._transport.getRenderingIntent(D,B,Se);this.pendingCleanup=!1,G||(G=this._transport.getOptionalContentConfig());let Te=this._intentStates.get(he.cacheKey);Te||(Te=Object.create(null),this._intentStates.set(he.cacheKey,Te)),Te.streamReaderCancelTimeout&&(clearTimeout(Te.streamReaderCancelTimeout),Te.streamReaderCancelTimeout=null);const ve=T||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),ce=!!(he.renderingIntent&_util.RenderingIntentFlag.PRINT);Te.displayReadyCapability||(Te.displayReadyCapability=(0,_util.createPromiseCapability)(),Te.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(I=this._stats)==null||I.time("Page Request"),this._pumpOperatorList(he));const ae=L=>{var H,re;Te.renderTasks.delete(pe),(this.cleanupAfterRender||ce)&&(this.pendingCleanup=!0),this._tryCleanup(),L?(pe.capability.reject(L),this._abortOperatorList({intentState:Te,reason:L instanceof Error?L:new Error(L)})):pe.capability.resolve(),(H=this._stats)==null||H.timeEnd("Rendering"),(re=this._stats)==null||re.timeEnd("Overall")},pe=new InternalRenderTask({callback:ae,params:{canvasContext:k,viewport:M,transform:U,background:$},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ue,operatorList:Te.operatorList,pageIndex:this._pageIndex,canvasFactory:ve,useRequestAnimationFrame:!ce,pdfBug:this._pdfBug,pageColors:te});(Te.renderTasks||(Te.renderTasks=new Set)).add(pe);const ee=pe.task;return Promise.all([Te.displayReadyCapability.promise,G]).then(([L,H])=>{var re;if(this.pendingCleanup){ae();return}(re=this._stats)==null||re.time("Rendering"),pe.initializeGraphics({transparency:L,optionalContentConfig:H}),pe.operatorListChanged()}).catch(ae),ee}getOperatorList({intent:k="display",annotationMode:M=_util.AnnotationMode.ENABLE,printAnnotationStorage:D=null}={}){var G;function B(){T.operatorList.lastChunk&&(T.opListReadCapability.resolve(T.operatorList),T.renderTasks.delete($))}const U=this._transport.getRenderingIntent(k,M,D,!0);let T=this._intentStates.get(U.cacheKey);T||(T=Object.create(null),this._intentStates.set(U.cacheKey,T));let $;return T.opListReadCapability||($=Object.create(null),$.operatorListChanged=B,T.opListReadCapability=(0,_util.createPromiseCapability)(),(T.renderTasks||(T.renderTasks=new Set)).add($),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(U)),T.opListReadCapability.promise}streamTextContent({disableCombineTextItems:k=!1,includeMarkedContent:M=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:k!==!0,includeMarkedContent:M===!0},{highWaterMark:100,size(B){return B.items.length}})}getTextContent(k={}){if(this._transport._htmlForXfa)return this.getXfa().then(D=>_xfa_text.XfaText.textContent(D));const M=this.streamTextContent(k);return new Promise(function(D,B){function U(){T.read().then(function({value:G,done:ue}){if(ue){D($);return}Object.assign($.styles,G.styles),$.items.push(...G.items),U()},B)}const T=M.getReader(),$={items:[],styles:Object.create(null)};U()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const k=[];for(const M of this._intentStates.values())if(this._abortOperatorList({intentState:M,reason:new Error("Page was destroyed."),force:!0}),!M.opListReadCapability)for(const D of M.renderTasks)k.push(D.completed),D.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(k)}cleanup(k=!1){return this.pendingCleanup=!0,this._tryCleanup(k)}_tryCleanup(k=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:M,operatorList:D}of this._intentStates.values())if(M.size>0||!D.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),k&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(k,M){var B,U;const D=this._intentStates.get(M);D&&((B=this._stats)==null||B.timeEnd("Page Request"),(U=D.displayReadyCapability)==null||U.resolve(k))}_renderPageChunk(k,M){for(let D=0,B=k.length;D<B;D++)M.operatorList.fnArray.push(k.fnArray[D]),M.operatorList.argsArray.push(k.argsArray[D]);M.operatorList.lastChunk=k.lastChunk,M.operatorList.separateAnnots=k.separateAnnots;for(const D of M.renderTasks)D.operatorListChanged();k.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:k,cacheKey:M,annotationStorageMap:D}){const U=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:k,cacheKey:M,annotationStorage:D}).getReader(),T=this._intentStates.get(M);T.streamReader=U;const $=()=>{U.read().then(({value:G,done:ue})=>{if(ue){T.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(G,T),$())},G=>{if(T.streamReader=null,!this._transport.destroyed){if(T.operatorList){T.operatorList.lastChunk=!0;for(const ue of T.renderTasks)ue.operatorListChanged();this._tryCleanup()}if(T.displayReadyCapability)T.displayReadyCapability.reject(G);else if(T.opListReadCapability)T.opListReadCapability.reject(G);else throw G}})};$()}_abortOperatorList({intentState:k,reason:M,force:D=!1}){if(k.streamReader){if(k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null),!D){if(k.renderTasks.size>0)return;if(M instanceof _display_utils.RenderingCancelledException){let B=RENDERING_CANCELLED_TIMEOUT;M.extraDelay>0&&M.extraDelay<1e3&&(B+=M.extraDelay),k.streamReaderCancelTimeout=setTimeout(()=>{k.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:k,reason:M,force:!0})},B);return}}if(k.streamReader.cancel(new _util.AbortException(M.message)).catch(()=>{}),k.streamReader=null,!this._transport.destroyed){for(const[B,U]of this._intentStates)if(U===k){this._intentStates.delete(B);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ze(this,l,new Set);ze(this,u,Promise.resolve())}postMessage(k,M){const D={data:structuredClone(k,M)};ne(this,u).then(()=>{for(const B of ne(this,l))B.call(this,D)})}addEventListener(k,M){ne(this,l).add(M)}removeEventListener(k,M){ne(this,l).delete(M)}terminate(){ne(this,l).clear()}}l=new WeakMap,u=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const R=(c=document==null?void 0:document.currentScript)==null?void 0:c.src;R&&(PDFWorkerUtil.fallbackWorkerSrc=R.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(R,k){let M;try{if(M=new URL(R),!M.origin||M.origin==="null")return!1}catch{return!1}const D=new URL(k,M);return M.origin===D.origin},PDFWorkerUtil.createCDNWrapper=function(R){const k=`importScripts("${R}");`;return URL.createObjectURL(new Blob([k]))}}const _PDFWorker=class _PDFWorker{constructor({name:R=null,port:k=null,verbosity:M=(0,_util.getVerbosityLevel)()}={}){if(k&&ne(_PDFWorker,d).has(k))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=R,this.destroyed=!1,this.verbosity=M,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,k){ne(_PDFWorker,d).set(k,this),this._initializeFromPort(k);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(R){this._port=R,this._messageHandler=new _message_handler.MessageHandler("main","worker",R),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:R}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,R)||(R=PDFWorkerUtil.createCDNWrapper(new URL(R,window.location).href));const k=new Worker(R),M=new _message_handler.MessageHandler("main","worker",k),D=()=>{k.removeEventListener("error",B),M.destroy(),k.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},B=()=>{this._webWorker||D()};k.addEventListener("error",B),M.on("test",T=>{if(k.removeEventListener("error",B),this.destroyed){D();return}T?(this._messageHandler=M,this._port=k,this._webWorker=k,this._readyCapability.resolve(),M.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),M.destroy(),k.terminate())}),M.on("ready",T=>{if(k.removeEventListener("error",B),this.destroyed){D();return}try{U()}catch{this._setupFakeWorker()}});const U=()=>{const T=new Uint8Array;M.send("test",T,[T.buffer])};U();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(R=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const k=new LoopbackPort;this._port=k;const M=`fake${PDFWorkerUtil.fakeWorkerId++}`,D=new _message_handler.MessageHandler(M+"_worker",M,k);R.setup(D,k);const B=new _message_handler.MessageHandler(M,M+"_worker",k);this._messageHandler=B,this._readyCapability.resolve(),B.send("configure",{verbosity:this.verbosity})}).catch(R=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${R.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ne(_PDFWorker,d).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(R){if(!(R!=null&&R.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ne(this,d).has(R.port)?ne(this,d).get(R.port):new _PDFWorker(R)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var R;try{return((R=globalThis.pdfjsWorker)==null?void 0:R.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};d=new WeakMap,ze(_PDFWorker,d,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(k,M,D,B,U){ze(this,y);ze(this,h,new Map);ze(this,m,new Map);ze(this,g,new Map);this.messageHandler=k,this.loadingTask=M,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:B.ownerDocument,styleElement:B.styleElement}),this._params=B,this.cMapReaderFactory=U==null?void 0:U.cMapReaderFactory,this.standardFontDataFactory=U==null?void 0:U.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=D,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(k,M=_util.AnnotationMode.ENABLE,D=null,B=!1){let U=_util.RenderingIntentFlag.DISPLAY,T=null;switch(k){case"any":U=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":U=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${k}`)}switch(M){case _util.AnnotationMode.DISABLE:U+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:U+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:U+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,T=(U&_util.RenderingIntentFlag.PRINT&&D instanceof _annotation_storage.PrintAnnotationStorage?D:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${M}`)}return B&&(U+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:U,cacheKey:`${U}_${_annotation_storage.AnnotationStorage.getHash(T)}`,annotationStorageMap:T}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const k=[];for(const D of ne(this,m).values())k.push(D._destroy());ne(this,m).clear(),ne(this,g).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const M=this.messageHandler.sendWithPromise("Terminate",null);return k.push(M),Promise.all(k).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ne(this,h).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:k,loadingTask:M}=this;k.on("GetReader",(D,B)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=U=>{this._lastProgress={loaded:U.loaded,total:U.total}},B.onPull=()=>{this._fullReader.read().then(function({value:U,done:T}){if(T){B.close();return}(0,_util.assert)(U instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),B.enqueue(new Uint8Array(U),1,[U])}).catch(U=>{B.error(U)})},B.onCancel=U=>{this._fullReader.cancel(U),B.ready.catch(T=>{if(!this.destroyed)throw T})}}),k.on("ReaderHeadersReady",D=>{const B=(0,_util.createPromiseCapability)(),U=this._fullReader;return U.headersReady.then(()=>{var T;(!U.isStreamingSupported||!U.isRangeSupported)&&(this._lastProgress&&((T=M.onProgress)==null||T.call(M,this._lastProgress)),U.onProgress=$=>{var G;(G=M.onProgress)==null||G.call(M,{loaded:$.loaded,total:$.total})}),B.resolve({isStreamingSupported:U.isStreamingSupported,isRangeSupported:U.isRangeSupported,contentLength:U.contentLength})},B.reject),B.promise}),k.on("GetRangeReader",(D,B)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const U=this._networkStream.getRangeReader(D.begin,D.end);if(!U){B.close();return}B.onPull=()=>{U.read().then(function({value:T,done:$}){if($){B.close();return}(0,_util.assert)(T instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),B.enqueue(new Uint8Array(T),1,[T])}).catch(T=>{B.error(T)})},B.onCancel=T=>{U.cancel(T),B.ready.catch($=>{if(!this.destroyed)throw $})}}),k.on("GetDoc",({pdfInfo:D})=>{this._numPages=D.numPages,this._htmlForXfa=D.htmlForXfa,delete D.htmlForXfa,M._capability.resolve(new PDFDocumentProxy(D,this))}),k.on("DocException",function(D){let B;switch(D.name){case"PasswordException":B=new _util.PasswordException(D.message,D.code);break;case"InvalidPDFException":B=new _util.InvalidPDFException(D.message);break;case"MissingPDFException":B=new _util.MissingPDFException(D.message);break;case"UnexpectedResponseException":B=new _util.UnexpectedResponseException(D.message,D.status);break;case"UnknownErrorException":B=new _util.UnknownErrorException(D.message,D.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}M._capability.reject(B)}),k.on("PasswordRequest",D=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),M.onPassword){const B=U=>{U instanceof Error?this._passwordCapability.reject(U):this._passwordCapability.resolve({password:U})};try{M.onPassword(B,D.code)}catch(U){this._passwordCapability.reject(U)}}else this._passwordCapability.reject(new _util.PasswordException(D.message,D.code));return this._passwordCapability.promise}),k.on("DataLoaded",D=>{var B;(B=M.onProgress)==null||B.call(M,{loaded:D.length,total:D.length}),this.downloadInfoCapability.resolve(D)}),k.on("StartRenderPage",D=>{if(this.destroyed)return;ne(this,m).get(D.pageIndex)._startRenderPage(D.transparency,D.cacheKey)}),k.on("commonobj",([D,B,U])=>{var T;if(!this.destroyed&&!this.commonObjs.has(D))switch(B){case"Font":const $=this._params;if("error"in U){const te=U.error;(0,_util.warn)(`Error during font loading: ${te}`),this.commonObjs.resolve(D,te);break}let G=null;$.pdfBug&&((T=globalThis.FontInspector)!=null&&T.enabled)&&(G={registerFont(te,Se){globalThis.FontInspector.fontAdded(te,Se)}});const ue=new _font_loader.FontFaceObject(U,{isEvalSupported:$.isEvalSupported,disableFontFace:$.disableFontFace,ignoreErrors:$.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:G});this.fontLoader.bind(ue).catch(te=>k.sendWithPromise("FontFallback",{id:D})).finally(()=>{!$.fontExtraProperties&&ue.data&&(ue.data=null),this.commonObjs.resolve(D,ue)});break;case"FontPath":case"Image":this.commonObjs.resolve(D,U);break;default:throw new Error(`Got unknown common object type ${B}`)}}),k.on("obj",([D,B,U,T])=>{var G;if(this.destroyed)return;const $=ne(this,m).get(B);if(!$.objs.has(D))switch(U){case"Image":$.objs.resolve(D,T);const ue=8e6;if(T){let te;if(T.bitmap){const{width:Se,height:he}=T;te=Se*he*4}else te=((G=T.data)==null?void 0:G.length)||0;te>ue&&($.cleanupAfterRender=!0)}break;case"Pattern":$.objs.resolve(D,T);break;default:throw new Error(`Got unknown object type ${U}`)}}),k.on("DocProgress",D=>{var B;this.destroyed||(B=M.onProgress)==null||B.call(M,{loaded:D.loaded,total:D.total})}),k.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),k.on("FetchBuiltInCMap",D=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(D):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),k.on("FetchStandardFontData",D=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(D):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:k}){var M,D;this.destroyed||(D=(M=this.loadingTask).onUnsupportedFeature)==null||D.call(M,k)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var k;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((k=this._fullReader)==null?void 0:k.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(k){if(!Number.isInteger(k)||k<=0||k>this._numPages)return Promise.reject(new Error("Invalid page request."));const M=k-1,D=ne(this,g).get(M);if(D)return D;const B=this.messageHandler.sendWithPromise("GetPage",{pageIndex:M}).then(U=>{if(this.destroyed)throw new Error("Transport destroyed");const T=new PDFPageProxy(M,U,this,this._params.ownerDocument,this._params.pdfBug);return ne(this,m).set(M,T),T});return ne(this,g).set(M,B),B}getPageIndex(k){return typeof k!="object"||k===null||!Number.isInteger(k.num)||k.num<0||!Number.isInteger(k.gen)||k.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:k.num,gen:k.gen})}getAnnotations(k,M){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:k,intent:M})}getFieldObjects(){return $e(this,y,ma).call(this,"GetFieldObjects")}hasJSActions(){return $e(this,y,ma).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(k){return typeof k!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:k})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(k){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:k})}getStructTree(k){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:k})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(k=>new _optional_content_config.OptionalContentConfig(k))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const k="GetMetadata",M=ne(this,h).get(k);if(M)return M;const D=this.messageHandler.sendWithPromise(k,null).then(B=>{var U,T;return{info:B[0],metadata:B[1]?new _metadata.Metadata(B[1]):null,contentDispositionFilename:((U=this._fullReader)==null?void 0:U.filename)??null,contentLength:((T=this._fullReader)==null?void 0:T.contentLength)??null}});return ne(this,h).set(k,D),D}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(k=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const M of ne(this,m).values())if(!M.cleanup())throw new Error(`startCleanup: Page ${M.pageNumber} is currently rendering.`);this.commonObjs.clear(),k||this.fontLoader.clear(),ne(this,h).clear()}}get loadingParams(){const{disableAutoFetch:k,enableXfa:M}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:k,enableXfa:M})}}h=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakSet,ma=function(k,M=null){const D=ne(this,h).get(k);if(D)return D;const B=this.messageHandler.sendWithPromise(k,M);return ne(this,h).set(k,B),B};class PDFObjects{constructor(){ze(this,C);ze(this,v,Object.create(null))}get(k,M=null){if(M){const B=$e(this,C,ga).call(this,k);return B.capability.promise.then(()=>M(B.data)),null}const D=ne(this,v)[k];if(!(D!=null&&D.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${k}.`);return D.data}has(k){const M=ne(this,v)[k];return(M==null?void 0:M.capability.settled)||!1}resolve(k,M=null){const D=$e(this,C,ga).call(this,k);D.data=M,D.capability.resolve()}clear(){var k;for(const M in ne(this,v)){const{data:D}=ne(this,v)[M];(k=D==null?void 0:D.bitmap)==null||k.close()}We(this,v,Object.create(null))}}v=new WeakMap,C=new WeakSet,ga=function(k){const M=ne(this,v)[k];return M||(ne(this,v)[k]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(k){ze(this,E,null);We(this,E,k),this.onContinue=null}get promise(){return ne(this,E).capability.promise}cancel(k=0){ne(this,E).cancel(null,k)}get separateAnnots(){const{separateAnnots:k}=ne(this,E).operatorList;if(!k)return!1;const{annotationCanvasMap:M}=ne(this,E);return k.form||k.canvas&&(M==null?void 0:M.size)>0}}E=new WeakMap,exports.RenderTask=RenderTask;const A=class A{constructor({callback:k,params:M,objs:D,commonObjs:B,annotationCanvasMap:U,operatorList:T,pageIndex:$,canvasFactory:G,useRequestAnimationFrame:ue=!1,pdfBug:te=!1,pageColors:Se=null}){this.callback=k,this.params=M,this.objs=D,this.commonObjs=B,this.annotationCanvasMap=U,this.operatorListIdx=null,this.operatorList=T,this._pageIndex=$,this.canvasFactory=G,this._pdfBug=te,this.pageColors=Se,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ue===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=M.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:k=!1,optionalContentConfig:M}){var $,G;if(this.cancelled)return;if(this._canvas){if(ne(A,_).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ne(A,_).add(this._canvas)}this._pdfBug&&(($=globalThis.StepperManager)!=null&&$.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:D,viewport:B,transform:U,background:T}=this.params;this.gfx=new _canvas.CanvasGraphics(D,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:M},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:U,viewport:B,transparency:k,background:T}),this.operatorListIdx=0,this.graphicsReady=!0,(G=this.graphicsReadyCallback)==null||G.call(this)}cancel(k=null,M=0){var D;this.running=!1,this.cancelled=!0,(D=this.gfx)==null||D.endDrawing(),this._canvas&&ne(A,_).delete(this._canvas),this.callback(k||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",M))}operatorListChanged(){var k;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(k=this.stepper)==null||k.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&ne(A,_).delete(this._canvas),this.callback())))}};_=new WeakMap,ze(A,_,new WeakSet);let InternalRenderTask=A;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(t,e,a)=>{var m,g,y,gc,v;Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var l=a(1),u=a(4),c=a(8);class d{constructor(){ze(this,y);ze(this,m,!1);ze(this,g,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(S,E){const _=ne(this,g).get(S);return _===void 0?E:Object.assign(E,_)}getRawValue(S){return ne(this,g).get(S)}remove(S){if(ne(this,g).delete(S),ne(this,g).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const E of ne(this,g).values())if(E instanceof u.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(S,E){const _=ne(this,g).get(S);let A=!1;if(_!==void 0)for(const[R,k]of Object.entries(E))_[R]!==k&&(A=!0,_[R]=k);else A=!0,ne(this,g).set(S,E);A&&$e(this,y,gc).call(this),E instanceof u.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(E.constructor._type)}has(S){return ne(this,g).has(S)}getAll(){return ne(this,g).size>0?(0,l.objectFromMap)(ne(this,g)):null}setAll(S){for(const[E,_]of Object.entries(S))this.setValue(E,_)}get size(){return ne(this,g).size}resetModified(){ne(this,m)&&(We(this,m,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(ne(this,g).size===0)return null;const S=new Map;for(const[E,_]of ne(this,g)){const A=_ instanceof u.AnnotationEditor?_.serialize():_;A&&S.set(E,A)}return S}static getHash(S){if(!S)return"";const E=new c.MurmurHash3_64;for(const[_,A]of S)E.update(`${_}:${JSON.stringify(A)}`);return E.hexdigest()}}m=new WeakMap,g=new WeakMap,y=new WeakSet,gc=function(){ne(this,m)||(We(this,m,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=d;class h extends d{constructor(E){super();ze(this,v,null);We(this,v,structuredClone(E.serializable))}get print(){(0,l.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ne(this,v)}}v=new WeakMap,e.PrintAnnotationStorage=h},(t,e,a)=>{var d,h,m,g,y,b;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var l=a(5),u=a(1);const v=class v{constructor(S){ze(this,d,this.focusin.bind(this));ze(this,h,this.focusout.bind(this));ze(this,m,!1);ze(this,g,!1);ze(this,y,!1);dt(this,"_uiManager",null);ze(this,b,v._zIndex++);this.constructor===v&&(0,u.unreachable)("Cannot initialize AnnotationEditor."),this.parent=S.parent,this.id=S.id,this.width=this.height=null,this.pageIndex=S.parent.pageIndex,this.name=S.name,this.div=null,this._uiManager=S.uiManager;const{rotation:E,rawDims:{pageWidth:_,pageHeight:A,pageX:R,pageY:k}}=this.parent.viewport;this.rotation=E,this.pageDimensions=[_,A],this.pageTranslation=[R,k];const[M,D]=this.parentDimensions;this.x=S.x/M,this.y=S.y/D,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,u.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(S){this._uiManager.addCommands(S)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ne(this,b)}setParent(S){S!==null&&(this.pageIndex=S.pageIndex,this.pageDimensions=S.pageDimensions),this.parent=S}focusin(S){ne(this,m)?We(this,m,!1):this.parent.setSelected(this)}focusout(S){var _;if(!this.isAttachedToDOM)return;const E=S.relatedTarget;E!=null&&E.closest(`#${this.id}`)||(S.preventDefault(),(_=this.parent)!=null&&_.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(S){const E=this.parent.div.getBoundingClientRect();this.startX=S.clientX-E.x,this.startY=S.clientY-E.y,S.dataTransfer.setData("text/plain",this.id),S.dataTransfer.effectAllowed="move"}setAt(S,E,_,A){const[R,k]=this.parentDimensions;[_,A]=this.screenToPageTranslation(_,A),this.x=(S+_)/R,this.y=(E+A)/k,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(S,E){const[_,A]=this.parentDimensions;[S,E]=this.screenToPageTranslation(S,E),this.x+=S/_,this.y+=E/A,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(S,E){switch(this.parentRotation){case 90:return[E,-S];case 180:return[-S,-E];case 270:return[-E,S];default:return[S,E]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:S}=this._uiManager.viewParameters,[E,_]=this.pageDimensions;return[E*S,_*S]}setDims(S,E){const[_,A]=this.parentDimensions;this.div.style.width=`${100*S/_}%`,this.div.style.height=`${100*E/A}%`}fixDims(){const{style:S}=this.div,{height:E,width:_}=S,A=_.endsWith("%"),R=E.endsWith("%");if(A&&R)return;const[k,M]=this.parentDimensions;A||(S.width=`${100*parseFloat(_)/k}%`),R||(S.height=`${100*parseFloat(E)/M}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ne(this,d)),this.div.addEventListener("focusout",ne(this,h));const[S,E]=this.getInitialTranslation();return this.translate(S,E),(0,l.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(S){const{isMac:E}=u.FeatureTest.platform;if(S.button!==0||S.ctrlKey&&E){S.preventDefault();return}S.ctrlKey&&!E||S.shiftKey||S.metaKey&&E?this.parent.toggleSelected(this):this.parent.setSelected(this),We(this,m,!0)}getRect(S,E){const _=this.parentScale,[A,R]=this.pageDimensions,[k,M]=this.pageTranslation,D=S/_,B=E/_,U=this.x*A,T=this.y*R,$=this.width*A,G=this.height*R;switch(this.rotation){case 0:return[U+D+k,R-T-B-G+M,U+D+$+k,R-T-B+M];case 90:return[U+B+k,R-T+D+M,U+B+G+k,R-T+D+$+M];case 180:return[U-D-$+k,R-T+B+M,U-D+k,R-T+B+G+M];case 270:return[U-B-G+k,R-T-D-$+M,U-B+k,R-T-D+M];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(S,E){const[_,A,R,k]=S,M=R-_,D=k-A;switch(this.rotation){case 0:return[_,E-k,M,D];case 90:return[_,E-A,D,M];case 180:return[R,E-A,M,D];case 270:return[R,E-k,D,M];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){We(this,y,!0)}disableEditMode(){We(this,y,!1)}isInEditMode(){return ne(this,y)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var S;(S=this.div)==null||S.addEventListener("focusin",ne(this,d))}serialize(){(0,u.unreachable)("An editor must be serializable")}static deserialize(S,E,_){const A=new this.prototype.constructor({parent:E,id:E.getNextId(),uiManager:_});A.rotation=S.rotation;const[R,k]=A.pageDimensions,[M,D,B,U]=A.getRectInCurrentCoords(S.rect,k);return A.x=M/R,A.y=D/k,A.width=B/R,A.height=U/k,A}remove(){this.div.removeEventListener("focusin",ne(this,d)),this.div.removeEventListener("focusout",ne(this,h)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var S;(S=this.div)==null||S.classList.add("selectedEditor")}unselect(){var S;(S=this.div)==null||S.classList.remove("selectedEditor")}updateParams(S,E){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return ne(this,g)}set isEditing(S){We(this,g,S),S?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};d=new WeakMap,h=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,b=new WeakMap,dt(v,"_colorManager",new l.ColorManager),dt(v,"_zIndex",1);let c=v;e.AnnotationEditor=c},(t,e,a)=>{var v,C,S,E,_,A,yc,M,D,B,U,T,$,G,ue,te,Se,he,Te,ve,ce,ae,pe,ee,N,I,L,H,re,oe,K,xc,ya,bc,Ec,en,xs,vc,Sc,xa,bs,ba;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=c,e.opacityToHex=d;var l=a(1),u=a(6);function c(Pe,fe,W){for(const Y of W)fe.addEventListener(Y,Pe[Y].bind(Pe))}function d(Pe){return Math.round(Math.min(255,Math.max(1,255*Pe))).toString(16).padStart(2,"0")}class h{constructor(){ze(this,v,0)}getId(){return`${l.AnnotationEditorPrefix}${pa(this,v)._++}`}}v=new WeakMap;class m{constructor(fe=128){ze(this,C,[]);ze(this,S,!1);ze(this,E);ze(this,_,-1);We(this,E,fe)}add({cmd:fe,undo:W,mustExec:Y,type:me=NaN,overwriteIfSameType:Re=!1,keepUndo:Oe=!1}){if(Y&&fe(),ne(this,S))return;const Me={cmd:fe,undo:W,type:me};if(ne(this,_)===-1){ne(this,C).length>0&&(ne(this,C).length=0),We(this,_,0),ne(this,C).push(Me);return}if(Re&&ne(this,C)[ne(this,_)].type===me){Oe&&(Me.undo=ne(this,C)[ne(this,_)].undo),ne(this,C)[ne(this,_)]=Me;return}const Le=ne(this,_)+1;Le===ne(this,E)?ne(this,C).splice(0,1):(We(this,_,Le),Le<ne(this,C).length&&ne(this,C).splice(Le)),ne(this,C).push(Me)}undo(){ne(this,_)!==-1&&(We(this,S,!0),ne(this,C)[ne(this,_)].undo(),We(this,S,!1),We(this,_,ne(this,_)-1))}redo(){ne(this,_)<ne(this,C).length-1&&(We(this,_,ne(this,_)+1),We(this,S,!0),ne(this,C)[ne(this,_)].cmd(),We(this,S,!1))}hasSomethingToUndo(){return ne(this,_)!==-1}hasSomethingToRedo(){return ne(this,_)<ne(this,C).length-1}destroy(){We(this,C,null)}}C=new WeakMap,S=new WeakMap,E=new WeakMap,_=new WeakMap,e.CommandManager=m;class g{constructor(fe){ze(this,A);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:W}=l.FeatureTest.platform;for(const[Y,me]of fe)for(const Re of Y){const Oe=Re.startsWith("mac+");W&&Oe?(this.callbacks.set(Re.slice(4),me),this.allKeys.add(Re.split("+").at(-1))):!W&&!Oe&&(this.callbacks.set(Re,me),this.allKeys.add(Re.split("+").at(-1)))}}exec(fe,W){if(!this.allKeys.has(W.key))return;const Y=this.callbacks.get($e(this,A,yc).call(this,W));Y&&(Y.bind(fe)(),W.stopPropagation(),W.preventDefault())}}A=new WeakSet,yc=function(fe){fe.altKey&&this.buffer.push("alt"),fe.ctrlKey&&this.buffer.push("ctrl"),fe.metaKey&&this.buffer.push("meta"),fe.shiftKey&&this.buffer.push("shift"),this.buffer.push(fe.key);const W=this.buffer.join("+");return this.buffer.length=0,W},e.KeyboardManager=g;const k=class k{get _colors(){const fe=new Map([["CanvasText",null],["Canvas",null]]);return(0,u.getColorValues)(fe),(0,l.shadow)(this,"_colors",fe)}convert(fe){const W=(0,u.getRGB)(fe);if(!window.matchMedia("(forced-colors: active)").matches)return W;for(const[Y,me]of this._colors)if(me.every((Re,Oe)=>Re===W[Oe]))return k._colorsMapping.get(Y);return W}getHexCode(fe){const W=this._colors.get(fe);return W?l.Util.makeHexColor(...W):fe}};dt(k,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let y=k;e.ColorManager=y;const Ee=class Ee{constructor(fe,W,Y){ze(this,K);ze(this,M,null);ze(this,D,new Map);ze(this,B,new Map);ze(this,U,null);ze(this,T,new m);ze(this,$,0);ze(this,G,null);ze(this,ue,new Set);ze(this,te,null);ze(this,Se,new h);ze(this,he,!1);ze(this,Te,l.AnnotationEditorType.NONE);ze(this,ve,new Set);ze(this,ce,this.copy.bind(this));ze(this,ae,this.cut.bind(this));ze(this,pe,this.paste.bind(this));ze(this,ee,this.keydown.bind(this));ze(this,N,this.onEditingAction.bind(this));ze(this,I,this.onPageChanging.bind(this));ze(this,L,this.onScaleChanging.bind(this));ze(this,H,this.onRotationChanging.bind(this));ze(this,re,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ze(this,oe,null);We(this,oe,fe),We(this,te,W),ne(this,te)._on("editingaction",ne(this,N)),ne(this,te)._on("pagechanging",ne(this,I)),ne(this,te)._on("scalechanging",ne(this,L)),ne(this,te)._on("rotationchanging",ne(this,H)),We(this,U,Y),this.viewParameters={realScale:u.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){$e(this,K,ya).call(this),ne(this,te)._off("editingaction",ne(this,N)),ne(this,te)._off("pagechanging",ne(this,I)),ne(this,te)._off("scalechanging",ne(this,L)),ne(this,te)._off("rotationchanging",ne(this,H));for(const fe of ne(this,B).values())fe.destroy();ne(this,B).clear(),ne(this,D).clear(),ne(this,ue).clear(),We(this,M,null),ne(this,ve).clear(),ne(this,T).destroy()}onPageChanging({pageNumber:fe}){We(this,$,fe-1)}focusMainContainer(){ne(this,oe).focus()}addShouldRescale(fe){ne(this,ue).add(fe)}removeShouldRescale(fe){ne(this,ue).delete(fe)}onScaleChanging({scale:fe}){this.commitOrRemove(),this.viewParameters.realScale=fe*u.PixelsPerInch.PDF_TO_CSS_UNITS;for(const W of ne(this,ue))W.onScaleChanging()}onRotationChanging({pagesRotation:fe}){this.commitOrRemove(),this.viewParameters.rotation=fe}addToAnnotationStorage(fe){!fe.isEmpty()&&ne(this,U)&&!ne(this,U).has(fe.id)&&ne(this,U).setValue(fe.id,fe)}copy(fe){if(fe.preventDefault(),ne(this,M)&&ne(this,M).commitOrRemove(),!this.hasSelection)return;const W=[];for(const Y of ne(this,ve))Y.isEmpty()||W.push(Y.serialize());W.length!==0&&fe.clipboardData.setData("application/pdfjs",JSON.stringify(W))}cut(fe){this.copy(fe),this.delete()}paste(fe){fe.preventDefault();let W=fe.clipboardData.getData("application/pdfjs");if(!W)return;try{W=JSON.parse(W)}catch(me){(0,l.warn)(`paste: "${me.message}".`);return}if(!Array.isArray(W))return;this.unselectAll();const Y=ne(this,B).get(ne(this,$));try{const me=[];for(const Me of W){const Le=Y.deserialize(Me);if(!Le)return;me.push(Le)}const Re=()=>{for(const Me of me)$e(this,K,xa).call(this,Me);$e(this,K,ba).call(this,me)},Oe=()=>{for(const Me of me)Me.remove()};this.addCommands({cmd:Re,undo:Oe,mustExec:!0})}catch(me){(0,l.warn)(`paste: "${me.message}".`)}}keydown(fe){var W;(W=this.getActive())!=null&&W.shouldGetKeyboardEvents()||Ee._keyboardManager.exec(this,fe)}onEditingAction(fe){["undo","redo","delete","selectAll"].includes(fe.name)&&this[fe.name]()}setEditingState(fe){fe?($e(this,K,xc).call(this),$e(this,K,bc).call(this),$e(this,K,en).call(this,{isEditing:ne(this,Te)!==l.AnnotationEditorType.NONE,isEmpty:$e(this,K,bs).call(this),hasSomethingToUndo:ne(this,T).hasSomethingToUndo(),hasSomethingToRedo:ne(this,T).hasSomethingToRedo(),hasSelectedEditor:!1})):($e(this,K,ya).call(this),$e(this,K,Ec).call(this),$e(this,K,en).call(this,{isEditing:!1}))}registerEditorTypes(fe){if(!ne(this,G)){We(this,G,fe);for(const W of ne(this,G))$e(this,K,xs).call(this,W.defaultPropertiesToUpdate)}}getId(){return ne(this,Se).getId()}get currentLayer(){return ne(this,B).get(ne(this,$))}get currentPageIndex(){return ne(this,$)}addLayer(fe){ne(this,B).set(fe.pageIndex,fe),ne(this,he)?fe.enable():fe.disable()}removeLayer(fe){ne(this,B).delete(fe.pageIndex)}updateMode(fe){if(We(this,Te,fe),fe===l.AnnotationEditorType.NONE)this.setEditingState(!1),$e(this,K,Sc).call(this);else{this.setEditingState(!0),$e(this,K,vc).call(this);for(const W of ne(this,B).values())W.updateMode(fe)}}updateToolbar(fe){fe!==ne(this,Te)&&ne(this,te).dispatch("switchannotationeditormode",{source:this,mode:fe})}updateParams(fe,W){if(ne(this,G)){for(const Y of ne(this,ve))Y.updateParams(fe,W);for(const Y of ne(this,G))Y.updateDefaultParams(fe,W)}}getEditors(fe){const W=[];for(const Y of ne(this,D).values())Y.pageIndex===fe&&W.push(Y);return W}getEditor(fe){return ne(this,D).get(fe)}addEditor(fe){ne(this,D).set(fe.id,fe)}removeEditor(fe){var W;ne(this,D).delete(fe.id),this.unselect(fe),(W=ne(this,U))==null||W.remove(fe.id)}setActiveEditor(fe){ne(this,M)!==fe&&(We(this,M,fe),fe&&$e(this,K,xs).call(this,fe.propertiesToUpdate))}toggleSelected(fe){if(ne(this,ve).has(fe)){ne(this,ve).delete(fe),fe.unselect(),$e(this,K,en).call(this,{hasSelectedEditor:this.hasSelection});return}ne(this,ve).add(fe),fe.select(),$e(this,K,xs).call(this,fe.propertiesToUpdate),$e(this,K,en).call(this,{hasSelectedEditor:!0})}setSelected(fe){for(const W of ne(this,ve))W!==fe&&W.unselect();ne(this,ve).clear(),ne(this,ve).add(fe),fe.select(),$e(this,K,xs).call(this,fe.propertiesToUpdate),$e(this,K,en).call(this,{hasSelectedEditor:!0})}isSelected(fe){return ne(this,ve).has(fe)}unselect(fe){fe.unselect(),ne(this,ve).delete(fe),$e(this,K,en).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ne(this,ve).size!==0}undo(){ne(this,T).undo(),$e(this,K,en).call(this,{hasSomethingToUndo:ne(this,T).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:$e(this,K,bs).call(this)})}redo(){ne(this,T).redo(),$e(this,K,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ne(this,T).hasSomethingToRedo(),isEmpty:$e(this,K,bs).call(this)})}addCommands(fe){ne(this,T).add(fe),$e(this,K,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:$e(this,K,bs).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const fe=[...ne(this,ve)],W=()=>{for(const me of fe)me.remove()},Y=()=>{for(const me of fe)$e(this,K,xa).call(this,me)};this.addCommands({cmd:W,undo:Y,mustExec:!0})}commitOrRemove(){var fe;(fe=ne(this,M))==null||fe.commitOrRemove()}selectAll(){for(const fe of ne(this,ve))fe.commit();$e(this,K,ba).call(this,ne(this,D).values())}unselectAll(){if(ne(this,M)){ne(this,M).commitOrRemove();return}if(ne(this,ve).size!==0){for(const fe of ne(this,ve))fe.unselect();ne(this,ve).clear(),$e(this,K,en).call(this,{hasSelectedEditor:!1})}}isActive(fe){return ne(this,M)===fe}getActive(){return ne(this,M)}getMode(){return ne(this,Te)}};M=new WeakMap,D=new WeakMap,B=new WeakMap,U=new WeakMap,T=new WeakMap,$=new WeakMap,G=new WeakMap,ue=new WeakMap,te=new WeakMap,Se=new WeakMap,he=new WeakMap,Te=new WeakMap,ve=new WeakMap,ce=new WeakMap,ae=new WeakMap,pe=new WeakMap,ee=new WeakMap,N=new WeakMap,I=new WeakMap,L=new WeakMap,H=new WeakMap,re=new WeakMap,oe=new WeakMap,K=new WeakSet,xc=function(){ne(this,oe).addEventListener("keydown",ne(this,ee))},ya=function(){ne(this,oe).removeEventListener("keydown",ne(this,ee))},bc=function(){document.addEventListener("copy",ne(this,ce)),document.addEventListener("cut",ne(this,ae)),document.addEventListener("paste",ne(this,pe))},Ec=function(){document.removeEventListener("copy",ne(this,ce)),document.removeEventListener("cut",ne(this,ae)),document.removeEventListener("paste",ne(this,pe))},en=function(fe){Object.entries(fe).some(([Y,me])=>ne(this,re)[Y]!==me)&&ne(this,te).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ne(this,re),fe)})},xs=function(fe){ne(this,te).dispatch("annotationeditorparamschanged",{source:this,details:fe})},vc=function(){if(!ne(this,he)){We(this,he,!0);for(const fe of ne(this,B).values())fe.enable()}},Sc=function(){if(this.unselectAll(),ne(this,he)){We(this,he,!1);for(const fe of ne(this,B).values())fe.disable()}},xa=function(fe){const W=ne(this,B).get(fe.pageIndex);W?W.addOrRebuild(fe):this.addEditor(fe)},bs=function(){if(ne(this,D).size===0)return!0;if(ne(this,D).size===1)for(const fe of ne(this,D).values())return fe.isEmpty();return!1},ba=function(fe){ne(this,ve).clear();for(const W of fe)W.isEmpty()||(ne(this,ve).add(W),W.select());$e(this,K,en).call(this,{hasSelectedEditor:!0})},dt(Ee,"_keyboardManager",new g([[["ctrl+a","mac+meta+a"],Ee.prototype.selectAll],[["ctrl+z","mac+meta+z"],Ee.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Ee.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Ee.prototype.delete],[["Escape","mac+Escape"],Ee.prototype.unselectAll]]));let b=Ee;e.AnnotationEditorUIManager=b},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=B,e.getColorValues=ue,e.getCurrentTransform=te,e.getCurrentTransformInverse=Se,e.getFilenameFromUrl=A,e.getPdfFilenameFromUrl=R,e.getRGB=G,e.getXfaPageViewport=$,e.isDataScheme=E,e.isPdfFile=_,e.isValidFetchUrl=M,e.loadScript=D,e.setLayerDimensions=he;var l=a(7),u=a(1);const c="http://www.w3.org/2000/svg",d="pdfjs_internal_id_";e.AnnotationPrefix=d;const Te=class Te{};dt(Te,"CSS",96),dt(Te,"PDF",72),dt(Te,"PDF_TO_CSS_UNITS",Te.CSS/Te.PDF);let h=Te;e.PixelsPerInch=h;class m extends l.BaseCanvasFactory{constructor({ownerDocument:ce=globalThis.document}={}){super(),this._document=ce}_createCanvas(ce,ae){const pe=this._document.createElement("canvas");return pe.width=ce,pe.height=ae,pe}}e.DOMCanvasFactory=m;async function g(ve,ce=!1){if(M(ve,document.baseURI)){const ae=await fetch(ve);if(!ae.ok)throw new Error(ae.statusText);return ce?new Uint8Array(await ae.arrayBuffer()):(0,u.stringToBytes)(await ae.text())}return new Promise((ae,pe)=>{const ee=new XMLHttpRequest;ee.open("GET",ve,!0),ce&&(ee.responseType="arraybuffer"),ee.onreadystatechange=()=>{if(ee.readyState===XMLHttpRequest.DONE){if(ee.status===200||ee.status===0){let N;if(ce&&ee.response?N=new Uint8Array(ee.response):!ce&&ee.responseText&&(N=(0,u.stringToBytes)(ee.responseText)),N){ae(N);return}}pe(new Error(ee.statusText))}},ee.send(null)})}class y extends l.BaseCMapReaderFactory{_fetchData(ce,ae){return g(ce,this.isCompressed).then(pe=>({cMapData:pe,compressionType:ae}))}}e.DOMCMapReaderFactory=y;class b extends l.BaseStandardFontDataFactory{_fetchData(ce){return g(ce,!0)}}e.DOMStandardFontDataFactory=b;class v extends l.BaseSVGFactory{_createSVG(ce){return document.createElementNS(c,ce)}}e.DOMSVGFactory=v;class C{constructor({viewBox:ce,scale:ae,rotation:pe,offsetX:ee=0,offsetY:N=0,dontFlip:I=!1}){this.viewBox=ce,this.scale=ae,this.rotation=pe,this.offsetX=ee,this.offsetY=N;const L=(ce[2]+ce[0])/2,H=(ce[3]+ce[1])/2;let re,oe,K,le;switch(pe%=360,pe<0&&(pe+=360),pe){case 180:re=-1,oe=0,K=0,le=1;break;case 90:re=0,oe=1,K=1,le=0;break;case 270:re=0,oe=-1,K=-1,le=0;break;case 0:re=1,oe=0,K=0,le=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}I&&(K=-K,le=-le);let ye,Ce,xe,j;re===0?(ye=Math.abs(H-ce[1])*ae+ee,Ce=Math.abs(L-ce[0])*ae+N,xe=(ce[3]-ce[1])*ae,j=(ce[2]-ce[0])*ae):(ye=Math.abs(L-ce[0])*ae+ee,Ce=Math.abs(H-ce[1])*ae+N,xe=(ce[2]-ce[0])*ae,j=(ce[3]-ce[1])*ae),this.transform=[re*ae,oe*ae,K*ae,le*ae,ye-re*ae*L-K*ae*H,Ce-oe*ae*L-le*ae*H],this.width=xe,this.height=j}get rawDims(){const{viewBox:ce}=this;return(0,u.shadow)(this,"rawDims",{pageWidth:ce[2]-ce[0],pageHeight:ce[3]-ce[1],pageX:ce[0],pageY:ce[1]})}clone({scale:ce=this.scale,rotation:ae=this.rotation,offsetX:pe=this.offsetX,offsetY:ee=this.offsetY,dontFlip:N=!1}={}){return new C({viewBox:this.viewBox.slice(),scale:ce,rotation:ae,offsetX:pe,offsetY:ee,dontFlip:N})}convertToViewportPoint(ce,ae){return u.Util.applyTransform([ce,ae],this.transform)}convertToViewportRectangle(ce){const ae=u.Util.applyTransform([ce[0],ce[1]],this.transform),pe=u.Util.applyTransform([ce[2],ce[3]],this.transform);return[ae[0],ae[1],pe[0],pe[1]]}convertToPdfPoint(ce,ae){return u.Util.applyInverseTransform([ce,ae],this.transform)}}e.PageViewport=C;class S extends u.BaseException{constructor(ce,ae,pe=0){super(ce,"RenderingCancelledException"),this.type=ae,this.extraDelay=pe}}e.RenderingCancelledException=S;function E(ve){const ce=ve.length;let ae=0;for(;ae<ce&&ve[ae].trim()==="";)ae++;return ve.substring(ae,ae+5).toLowerCase()==="data:"}function _(ve){return typeof ve=="string"&&/\.pdf$/i.test(ve)}function A(ve,ce=!1){return ce||([ve]=ve.split(/[#?]/,1)),ve.substring(ve.lastIndexOf("/")+1)}function R(ve,ce="document.pdf"){if(typeof ve!="string")return ce;if(E(ve))return(0,u.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ce;const ae=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,pe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ee=ae.exec(ve);let N=pe.exec(ee[1])||pe.exec(ee[2])||pe.exec(ee[3]);if(N&&(N=N[0],N.includes("%")))try{N=pe.exec(decodeURIComponent(N))[0]}catch{}return N||ce}class k{constructor(){dt(this,"started",Object.create(null));dt(this,"times",[])}time(ce){ce in this.started&&(0,u.warn)(`Timer is already running for ${ce}`),this.started[ce]=Date.now()}timeEnd(ce){ce in this.started||(0,u.warn)(`Timer has not been started for ${ce}`),this.times.push({name:ce,start:this.started[ce],end:Date.now()}),delete this.started[ce]}toString(){const ce=[];let ae=0;for(const{name:pe}of this.times)ae=Math.max(pe.length,ae);for(const{name:pe,start:ee,end:N}of this.times)ce.push(`${pe.padEnd(ae)} ${N-ee}ms
`);return ce.join("")}}e.StatTimer=k;function M(ve,ce){try{const{protocol:ae}=ce?new URL(ve,ce):new URL(ve);return ae==="http:"||ae==="https:"}catch{return!1}}function D(ve,ce=!1){return new Promise((ae,pe)=>{const ee=document.createElement("script");ee.src=ve,ee.onload=function(N){ce&&ee.remove(),ae(N)},ee.onerror=function(){pe(new Error(`Cannot load script at: ${ee.src}`))},(document.head||document.documentElement).append(ee)})}function B(ve){console.log("Deprecated API usage: "+ve)}let U;class T{static toDateObject(ce){if(!ce||typeof ce!="string")return null;U||(U=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ae=U.exec(ce);if(!ae)return null;const pe=parseInt(ae[1],10);let ee=parseInt(ae[2],10);ee=ee>=1&&ee<=12?ee-1:0;let N=parseInt(ae[3],10);N=N>=1&&N<=31?N:1;let I=parseInt(ae[4],10);I=I>=0&&I<=23?I:0;let L=parseInt(ae[5],10);L=L>=0&&L<=59?L:0;let H=parseInt(ae[6],10);H=H>=0&&H<=59?H:0;const re=ae[7]||"Z";let oe=parseInt(ae[8],10);oe=oe>=0&&oe<=23?oe:0;let K=parseInt(ae[9],10)||0;return K=K>=0&&K<=59?K:0,re==="-"?(I+=oe,L+=K):re==="+"&&(I-=oe,L-=K),new Date(Date.UTC(pe,ee,N,I,L,H))}}e.PDFDateString=T;function $(ve,{scale:ce=1,rotation:ae=0}){const{width:pe,height:ee}=ve.attributes.style,N=[0,0,parseInt(pe),parseInt(ee)];return new C({viewBox:N,scale:ce,rotation:ae})}function G(ve){if(ve.startsWith("#")){const ce=parseInt(ve.slice(1),16);return[(ce&16711680)>>16,(ce&65280)>>8,ce&255]}return ve.startsWith("rgb(")?ve.slice(4,-1).split(",").map(ce=>parseInt(ce)):ve.startsWith("rgba(")?ve.slice(5,-1).split(",").map(ce=>parseInt(ce)).slice(0,3):((0,u.warn)(`Not a valid color format: "${ve}"`),[0,0,0])}function ue(ve){const ce=document.createElement("span");ce.style.visibility="hidden",document.body.append(ce);for(const ae of ve.keys()){ce.style.color=ae;const pe=window.getComputedStyle(ce).color;ve.set(ae,G(pe))}ce.remove()}function te(ve){const{a:ce,b:ae,c:pe,d:ee,e:N,f:I}=ve.getTransform();return[ce,ae,pe,ee,N,I]}function Se(ve){const{a:ce,b:ae,c:pe,d:ee,e:N,f:I}=ve.getTransform().invertSelf();return[ce,ae,pe,ee,N,I]}function he(ve,ce,ae=!1,pe=!0){if(ce instanceof C){const{pageWidth:ee,pageHeight:N}=ce.rawDims,{style:I}=ve,L=`calc(var(--scale-factor) * ${ee}px)`,H=`calc(var(--scale-factor) * ${N}px)`;!ae||ce.rotation%180===0?(I.width=L,I.height=H):(I.width=H,I.height=L)}pe&&ve.setAttribute("data-main-rotation",ce.rotation)}},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var l=a(1);class u{constructor(){this.constructor===u&&(0,l.unreachable)("Cannot initialize BaseCanvasFactory.")}create(g,y){if(g<=0||y<=0)throw new Error("Invalid canvas size");const b=this._createCanvas(g,y);return{canvas:b,context:b.getContext("2d")}}reset(g,y,b){if(!g.canvas)throw new Error("Canvas is not specified");if(y<=0||b<=0)throw new Error("Invalid canvas size");g.canvas.width=y,g.canvas.height=b}destroy(g){if(!g.canvas)throw new Error("Canvas is not specified");g.canvas.width=0,g.canvas.height=0,g.canvas=null,g.context=null}_createCanvas(g,y){(0,l.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=u;class c{constructor({baseUrl:g=null,isCompressed:y=!0}){this.constructor===c&&(0,l.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=g,this.isCompressed=y}async fetch({name:g}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!g)throw new Error("CMap name must be specified.");const y=this.baseUrl+g+(this.isCompressed?".bcmap":""),b=this.isCompressed?l.CMapCompressionType.BINARY:l.CMapCompressionType.NONE;return this._fetchData(y,b).catch(v=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${y}`)})}_fetchData(g,y){(0,l.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=c;class d{constructor({baseUrl:g=null}){this.constructor===d&&(0,l.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=g}async fetch({filename:g}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!g)throw new Error("Font filename must be specified.");const y=`${this.baseUrl}${g}`;return this._fetchData(y).catch(b=>{throw new Error(`Unable to load font data at: ${y}`)})}_fetchData(g){(0,l.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=d;class h{constructor(){this.constructor===h&&(0,l.unreachable)("Cannot initialize BaseSVGFactory.")}create(g,y,b=!1){if(g<=0||y<=0)throw new Error("Invalid SVG dimensions");const v=this._createSVG("svg:svg");return v.setAttribute("version","1.1"),b||(v.setAttribute("width",`${g}px`),v.setAttribute("height",`${y}px`)),v.setAttribute("preserveAspectRatio","none"),v.setAttribute("viewBox",`0 0 ${g} ${y}`),v}createElement(g){if(typeof g!="string")throw new Error("Invalid SVG element type");return this._createSVG(g)}_createSVG(g){(0,l.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=h},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var l=a(1);const u=3285377520,c=4294901760,d=65535;class h{constructor(g){this.h1=g?g&4294967295:u,this.h2=g?g&4294967295:u}update(g){let y,b;if(typeof g=="string"){y=new Uint8Array(g.length*2),b=0;for(let U=0,T=g.length;U<T;U++){const $=g.charCodeAt(U);$<=255?y[b++]=$:(y[b++]=$>>>8,y[b++]=$&255)}}else if((0,l.isArrayBuffer)(g))y=g.slice(),b=y.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const v=b>>2,C=b-v*4,S=new Uint32Array(y.buffer,0,v);let E=0,_=0,A=this.h1,R=this.h2;const k=3432918353,M=461845907,D=k&d,B=M&d;for(let U=0;U<v;U++)U&1?(E=S[U],E=E*k&c|E*D&d,E=E<<15|E>>>17,E=E*M&c|E*B&d,A^=E,A=A<<13|A>>>19,A=A*5+3864292196):(_=S[U],_=_*k&c|_*D&d,_=_<<15|_>>>17,_=_*M&c|_*B&d,R^=_,R=R<<13|R>>>19,R=R*5+3864292196);switch(E=0,C){case 3:E^=y[v*4+2]<<16;case 2:E^=y[v*4+1]<<8;case 1:E^=y[v*4],E=E*k&c|E*D&d,E=E<<15|E>>>17,E=E*M&c|E*B&d,v&1?A^=E:R^=E}this.h1=A,this.h2=R}hexdigest(){let g=this.h1,y=this.h2;return g^=y>>>1,g=g*3981806797&c|g*36045&d,y=y*4283543511&c|((y<<16|g>>>16)*2950163797&c)>>>16,g^=y>>>1,g=g*444984403&c|g*60499&d,y=y*3301882366&c|((y<<16|g>>>16)*3120437893&c)>>>16,g^=y>>>1,(g>>>0).toString(16).padStart(8,"0")+(y>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=h},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var l=a(1),u=a(10);class c{constructor({onUnsupportedFeature:m,ownerDocument:g=globalThis.document,styleElement:y=null}){this._onUnsupportedFeature=m,this._document=g,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(m){this.nativeFontFaces.push(m),this._document.fonts.add(m)}insertRule(m){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const g=this.styleElement.sheet;g.insertRule(m,g.cssRules.length)}clear(){for(const m of this.nativeFontFaces)this._document.fonts.delete(m);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(m){if(m.attached||m.missingFile)return;if(m.attached=!0,this.isFontLoadingAPISupported){const y=m.createNativeFontFace();if(y){this.addNativeFontFace(y);try{await y.loaded}catch(b){throw this._onUnsupportedFeature({featureId:l.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,l.warn)(`Failed to load font '${y.family}': '${b}'.`),m.disableFontFace=!0,b}}return}const g=m.createFontFaceRule();if(g){if(this.insertRule(g),this.isSyncFontLoadingSupported)return;await new Promise(y=>{const b=this._queueLoadingCallback(y);this._prepareFontLoadEvent(m,b)})}}get isFontLoadingAPISupported(){var g;const m=!!((g=this._document)!=null&&g.fonts);return(0,l.shadow)(this,"isFontLoadingAPISupported",m)}get isSyncFontLoadingSupported(){let m=!1;return(u.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(m=!0),(0,l.shadow)(this,"isSyncFontLoadingSupported",m)}_queueLoadingCallback(m){function g(){for((0,l.assert)(!b.done,"completeRequest() cannot be called twice."),b.done=!0;y.length>0&&y[0].done;){const v=y.shift();setTimeout(v.callback,0)}}const{loadingRequests:y}=this,b={done:!1,complete:g,callback:m};return y.push(b),b}get _loadTestFont(){const m=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,l.shadow)(this,"_loadTestFont",m)}_prepareFontLoadEvent(m,g){function y(ue,te){return ue.charCodeAt(te)<<24|ue.charCodeAt(te+1)<<16|ue.charCodeAt(te+2)<<8|ue.charCodeAt(te+3)&255}function b(ue,te,Se,he){const Te=ue.substring(0,te),ve=ue.substring(te+Se);return Te+he+ve}let v,C;const S=this._document.createElement("canvas");S.width=1,S.height=1;const E=S.getContext("2d");let _=0;function A(ue,te){if(++_>30){(0,l.warn)("Load test font never loaded."),te();return}if(E.font="30px "+ue,E.fillText(".",0,20),E.getImageData(0,0,1,1).data[3]>0){te();return}setTimeout(A.bind(null,ue,te))}const R=`lt${Date.now()}${this.loadTestFontId++}`;let k=this._loadTestFont;k=b(k,976,R.length,R);const D=16,B=1482184792;let U=y(k,D);for(v=0,C=R.length-3;v<C;v+=4)U=U-B+y(R,v)|0;v<R.length&&(U=U-B+y(R+"XXX",v)|0),k=b(k,D,4,(0,l.string32)(U));const T=`url(data:font/opentype;base64,${btoa(k)});`,$=`@font-face {font-family:"${R}";src:${T}}`;this.insertRule($);const G=this._document.createElement("div");G.style.visibility="hidden",G.style.width=G.style.height="10px",G.style.position="absolute",G.style.top=G.style.left="0px";for(const ue of[m.loadedName,R]){const te=this._document.createElement("span");te.textContent="Hi",te.style.fontFamily=ue,G.append(te)}this._document.body.append(G),A(R,()=>{G.remove(),g.complete()})}}e.FontLoader=c;class d{constructor(m,{isEvalSupported:g=!0,disableFontFace:y=!1,ignoreErrors:b=!1,onUnsupportedFeature:v,fontRegistry:C=null}){this.compiledGlyphs=Object.create(null);for(const S in m)this[S]=m[S];this.isEvalSupported=g!==!1,this.disableFontFace=y===!0,this.ignoreErrors=b===!0,this._onUnsupportedFeature=v,this.fontRegistry=C}createNativeFontFace(){var g;if(!this.data||this.disableFontFace)return null;let m;if(!this.cssFontInfo)m=new FontFace(this.loadedName,this.data,{});else{const y={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(y.style=`oblique ${this.cssFontInfo.italicAngle}deg`),m=new FontFace(this.cssFontInfo.fontFamily,this.data,y)}return(g=this.fontRegistry)==null||g.registerFont(this),m}createFontFaceRule(){var b;if(!this.data||this.disableFontFace)return null;const m=(0,l.bytesToString)(this.data),g=`url(data:${this.mimetype};base64,${btoa(m)});`;let y;if(!this.cssFontInfo)y=`@font-face {font-family:"${this.loadedName}";src:${g}}`;else{let v=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(v+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),y=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${v}src:${g}}`}return(b=this.fontRegistry)==null||b.registerFont(this,g),y}getPathGenerator(m,g){if(this.compiledGlyphs[g]!==void 0)return this.compiledGlyphs[g];let y;try{y=m.get(this.loadedName+"_path_"+g)}catch(b){if(!this.ignoreErrors)throw b;return this._onUnsupportedFeature({featureId:l.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,l.warn)(`getPathGenerator - ignoring character: "${b}".`),this.compiledGlyphs[g]=function(v,C){}}if(this.isEvalSupported&&l.FeatureTest.isEvalSupported){const b=[];for(const v of y){const C=v.args!==void 0?v.args.join(","):"";b.push("c.",v.cmd,"(",C,`);
`)}return this.compiledGlyphs[g]=new Function("c","size",b.join(""))}return this.compiledGlyphs[g]=function(b,v){for(const C of y)C.cmd==="scale"&&(C.args=[v,-v]),b[C.cmd].apply(b,C.args)}}}e.FontFaceObject=d},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=a},(t,e,a)=>{var ae,Ea;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var l=a(1),u=a(6),c=a(12),d=a(13);const h=16,m=100,g=4096,y=15,b=10,v=1e3,C=16;function S(N,I){if(N._removeMirroring)throw new Error("Context is already forwarding operations.");N.__originalSave=N.save,N.__originalRestore=N.restore,N.__originalRotate=N.rotate,N.__originalScale=N.scale,N.__originalTranslate=N.translate,N.__originalTransform=N.transform,N.__originalSetTransform=N.setTransform,N.__originalResetTransform=N.resetTransform,N.__originalClip=N.clip,N.__originalMoveTo=N.moveTo,N.__originalLineTo=N.lineTo,N.__originalBezierCurveTo=N.bezierCurveTo,N.__originalRect=N.rect,N.__originalClosePath=N.closePath,N.__originalBeginPath=N.beginPath,N._removeMirroring=()=>{N.save=N.__originalSave,N.restore=N.__originalRestore,N.rotate=N.__originalRotate,N.scale=N.__originalScale,N.translate=N.__originalTranslate,N.transform=N.__originalTransform,N.setTransform=N.__originalSetTransform,N.resetTransform=N.__originalResetTransform,N.clip=N.__originalClip,N.moveTo=N.__originalMoveTo,N.lineTo=N.__originalLineTo,N.bezierCurveTo=N.__originalBezierCurveTo,N.rect=N.__originalRect,N.closePath=N.__originalClosePath,N.beginPath=N.__originalBeginPath,delete N._removeMirroring},N.save=function(){I.save(),this.__originalSave()},N.restore=function(){I.restore(),this.__originalRestore()},N.translate=function(H,re){I.translate(H,re),this.__originalTranslate(H,re)},N.scale=function(H,re){I.scale(H,re),this.__originalScale(H,re)},N.transform=function(H,re,oe,K,le,ye){I.transform(H,re,oe,K,le,ye),this.__originalTransform(H,re,oe,K,le,ye)},N.setTransform=function(H,re,oe,K,le,ye){I.setTransform(H,re,oe,K,le,ye),this.__originalSetTransform(H,re,oe,K,le,ye)},N.resetTransform=function(){I.resetTransform(),this.__originalResetTransform()},N.rotate=function(H){I.rotate(H),this.__originalRotate(H)},N.clip=function(H){I.clip(H),this.__originalClip(H)},N.moveTo=function(L,H){I.moveTo(L,H),this.__originalMoveTo(L,H)},N.lineTo=function(L,H){I.lineTo(L,H),this.__originalLineTo(L,H)},N.bezierCurveTo=function(L,H,re,oe,K,le){I.bezierCurveTo(L,H,re,oe,K,le),this.__originalBezierCurveTo(L,H,re,oe,K,le)},N.rect=function(L,H,re,oe){I.rect(L,H,re,oe),this.__originalRect(L,H,re,oe)},N.closePath=function(){I.closePath(),this.__originalClosePath()},N.beginPath=function(){I.beginPath(),this.__originalBeginPath()}}class E{constructor(I){this.canvasFactory=I,this.cache=Object.create(null)}getCanvas(I,L,H){let re;return this.cache[I]!==void 0?(re=this.cache[I],this.canvasFactory.reset(re,L,H)):(re=this.canvasFactory.create(L,H),this.cache[I]=re),re}delete(I){delete this.cache[I]}clear(){for(const I in this.cache){const L=this.cache[I];this.canvasFactory.destroy(L),delete this.cache[I]}}}function _(N,I,L,H,re,oe,K,le,ye,Ce){const[xe,j,V,Q,se,q]=(0,u.getCurrentTransform)(N);if(j===0&&V===0){const Ee=K*xe+se,Pe=Math.round(Ee),fe=le*Q+q,W=Math.round(fe),Y=(K+ye)*xe+se,me=Math.abs(Math.round(Y)-Pe)||1,Re=(le+Ce)*Q+q,Oe=Math.abs(Math.round(Re)-W)||1;return N.setTransform(Math.sign(xe),0,0,Math.sign(Q),Pe,W),N.drawImage(I,L,H,re,oe,0,0,me,Oe),N.setTransform(xe,j,V,Q,se,q),[me,Oe]}if(xe===0&&Q===0){const Ee=le*V+se,Pe=Math.round(Ee),fe=K*j+q,W=Math.round(fe),Y=(le+Ce)*V+se,me=Math.abs(Math.round(Y)-Pe)||1,Re=(K+ye)*j+q,Oe=Math.abs(Math.round(Re)-W)||1;return N.setTransform(0,Math.sign(j),Math.sign(V),0,Pe,W),N.drawImage(I,L,H,re,oe,0,0,Oe,me),N.setTransform(xe,j,V,Q,se,q),[Oe,me]}N.drawImage(I,L,H,re,oe,K,le,ye,Ce);const de=Math.hypot(xe,j),be=Math.hypot(V,Q);return[de*ye,be*Ce]}function A(N){const{width:I,height:L}=N;if(I>v||L>v)return null;const H=1e3,re=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),oe=I+1;let K=new Uint8Array(oe*(L+1)),le,ye,Ce;const xe=I+7&-8;let j=new Uint8Array(xe*L),V=0;for(const be of N.data){let Ee=128;for(;Ee>0;)j[V++]=be&Ee?0:255,Ee>>=1}let Q=0;for(V=0,j[V]!==0&&(K[0]=1,++Q),ye=1;ye<I;ye++)j[V]!==j[V+1]&&(K[ye]=j[V]?2:1,++Q),V++;for(j[V]!==0&&(K[ye]=2,++Q),le=1;le<L;le++){V=le*xe,Ce=le*oe,j[V-xe]!==j[V]&&(K[Ce]=j[V]?1:8,++Q);let be=(j[V]?4:0)+(j[V-xe]?8:0);for(ye=1;ye<I;ye++)be=(be>>2)+(j[V+1]?4:0)+(j[V-xe+1]?8:0),re[be]&&(K[Ce+ye]=re[be],++Q),V++;if(j[V-xe]!==j[V]&&(K[Ce+ye]=j[V]?2:4,++Q),Q>H)return null}for(V=xe*(L-1),Ce=le*oe,j[V]!==0&&(K[Ce]=8,++Q),ye=1;ye<I;ye++)j[V]!==j[V+1]&&(K[Ce+ye]=j[V]?4:8,++Q),V++;if(j[V]!==0&&(K[Ce+ye]=4,++Q),Q>H)return null;const se=new Int32Array([0,oe,-1,0,-oe,0,0,0,1]),q=new Path2D;for(le=0;Q&&le<=L;le++){let be=le*oe;const Ee=be+I;for(;be<Ee&&!K[be];)be++;if(be===Ee)continue;q.moveTo(be%oe,le);const Pe=be;let fe=K[be];do{const W=se[fe];do be+=W;while(!K[be]);const Y=K[be];Y!==5&&Y!==10?(fe=Y,K[be]=0):(fe=Y&51*fe>>4,K[be]&=fe>>2|fe<<2),q.lineTo(be%oe,be/oe|0),K[be]||--Q}while(Pe!==be);--le}return j=null,K=null,function(be){be.save(),be.scale(1/I,-1/L),be.translate(0,-L),be.fill(q),be.beginPath(),be.restore()}}class R{constructor(I,L){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=l.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=l.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,I,L])}clone(){const I=Object.create(this);return I.clipBox=this.clipBox.slice(),I}setCurrentPoint(I,L){this.x=I,this.y=L}updatePathMinMax(I,L,H){[L,H]=l.Util.applyTransform([L,H],I),this.minX=Math.min(this.minX,L),this.minY=Math.min(this.minY,H),this.maxX=Math.max(this.maxX,L),this.maxY=Math.max(this.maxY,H)}updateRectMinMax(I,L){const H=l.Util.applyTransform(L,I),re=l.Util.applyTransform(L.slice(2),I);this.minX=Math.min(this.minX,H[0],re[0]),this.minY=Math.min(this.minY,H[1],re[1]),this.maxX=Math.max(this.maxX,H[0],re[0]),this.maxY=Math.max(this.maxY,H[1],re[1])}updateScalingPathMinMax(I,L){l.Util.scaleMinMax(I,L),this.minX=Math.min(this.minX,L[0]),this.maxX=Math.max(this.maxX,L[1]),this.minY=Math.min(this.minY,L[2]),this.maxY=Math.max(this.maxY,L[3])}updateCurvePathMinMax(I,L,H,re,oe,K,le,ye,Ce,xe){const j=l.Util.bezierBoundingBox(L,H,re,oe,K,le,ye,Ce);if(xe){xe[0]=Math.min(xe[0],j[0],j[2]),xe[1]=Math.max(xe[1],j[0],j[2]),xe[2]=Math.min(xe[2],j[1],j[3]),xe[3]=Math.max(xe[3],j[1],j[3]);return}this.updateRectMinMax(I,j)}getPathBoundingBox(I=c.PathType.FILL,L=null){const H=[this.minX,this.minY,this.maxX,this.maxY];if(I===c.PathType.STROKE){L||(0,l.unreachable)("Stroke bounding box must include transform.");const re=l.Util.singularValueDecompose2dScale(L),oe=re[0]*this.lineWidth/2,K=re[1]*this.lineWidth/2;H[0]-=oe,H[1]-=K,H[2]+=oe,H[3]+=K}return H}updateClipFromPath(){const I=l.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(I||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(I){this.clipBox=I,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(I=c.PathType.FILL,L=null){return l.Util.intersect(this.clipBox,this.getPathBoundingBox(I,L))}}function k(N,I,L=null){if(typeof ImageData<"u"&&I instanceof ImageData){N.putImageData(I,0,0);return}const H=I.height,re=I.width,oe=H%C,K=(H-oe)/C,le=oe===0?K:K+1,ye=N.createImageData(re,C);let Ce=0,xe;const j=I.data,V=ye.data;let Q,se,q,de,be,Ee,Pe,fe;if(L)switch(L.length){case 1:be=L[0],Ee=L[0],Pe=L[0],fe=L[0];break;case 4:be=L[0],Ee=L[1],Pe=L[2],fe=L[3];break}if(I.kind===l.ImageKind.GRAYSCALE_1BPP){const W=j.byteLength,Y=new Uint32Array(V.buffer,0,V.byteLength>>2),me=Y.length,Re=re+7>>3;let Oe=4294967295,Me=l.FeatureTest.isLittleEndian?4278190080:255;for(fe&&fe[0]===255&&fe[255]===0&&([Oe,Me]=[Me,Oe]),Q=0;Q<le;Q++){for(q=Q<K?C:oe,xe=0,se=0;se<q;se++){const Le=W-Ce;let qe=0;const Ye=Le>Re?re:Le*8-7,Ie=Ye&-8;let Ae=0,we=0;for(;qe<Ie;qe+=8)we=j[Ce++],Y[xe++]=we&128?Oe:Me,Y[xe++]=we&64?Oe:Me,Y[xe++]=we&32?Oe:Me,Y[xe++]=we&16?Oe:Me,Y[xe++]=we&8?Oe:Me,Y[xe++]=we&4?Oe:Me,Y[xe++]=we&2?Oe:Me,Y[xe++]=we&1?Oe:Me;for(;qe<Ye;qe++)Ae===0&&(we=j[Ce++],Ae=128),Y[xe++]=we&Ae?Oe:Me,Ae>>=1}for(;xe<me;)Y[xe++]=0;N.putImageData(ye,0,Q*C)}}else if(I.kind===l.ImageKind.RGBA_32BPP){const W=!!(be||Ee||Pe);for(se=0,de=re*C*4,Q=0;Q<K;Q++){if(V.set(j.subarray(Ce,Ce+de)),Ce+=de,W)for(let Y=0;Y<de;Y+=4)be&&(V[Y+0]=be[V[Y+0]]),Ee&&(V[Y+1]=Ee[V[Y+1]]),Pe&&(V[Y+2]=Pe[V[Y+2]]);N.putImageData(ye,0,se),se+=C}if(Q<le){if(de=re*oe*4,V.set(j.subarray(Ce,Ce+de)),W)for(let Y=0;Y<de;Y+=4)be&&(V[Y+0]=be[V[Y+0]]),Ee&&(V[Y+1]=Ee[V[Y+1]]),Pe&&(V[Y+2]=Pe[V[Y+2]]);N.putImageData(ye,0,se)}}else if(I.kind===l.ImageKind.RGB_24BPP){const W=!!(be||Ee||Pe);for(q=C,de=re*q,Q=0;Q<le;Q++){for(Q>=K&&(q=oe,de=re*q),xe=0,se=de;se--;)V[xe++]=j[Ce++],V[xe++]=j[Ce++],V[xe++]=j[Ce++],V[xe++]=255;if(W)for(let Y=0;Y<xe;Y+=4)be&&(V[Y+0]=be[V[Y+0]]),Ee&&(V[Y+1]=Ee[V[Y+1]]),Pe&&(V[Y+2]=Pe[V[Y+2]]);N.putImageData(ye,0,Q*C)}}else throw new Error(`bad image kind: ${I.kind}`)}function M(N,I){if(I.bitmap){N.drawImage(I.bitmap,0,0);return}const L=I.height,H=I.width,re=L%C,oe=(L-re)/C,K=re===0?oe:oe+1,le=N.createImageData(H,C);let ye=0;const Ce=I.data,xe=le.data;for(let j=0;j<K;j++){const V=j<oe?C:re;({srcPos:ye}=(0,d.applyMaskImageData)({src:Ce,srcPos:ye,dest:xe,width:H,height:V})),N.putImageData(le,0,j*C)}}function D(N,I){const L=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const H of L)N[H]!==void 0&&(I[H]=N[H]);N.setLineDash!==void 0&&(I.setLineDash(N.getLineDash()),I.lineDashOffset=N.lineDashOffset)}function B(N,I){N.strokeStyle=N.fillStyle=I||"#000000",N.fillRule="nonzero",N.globalAlpha=1,N.lineWidth=1,N.lineCap="butt",N.lineJoin="miter",N.miterLimit=10,N.globalCompositeOperation="source-over",N.font="10px sans-serif",N.setLineDash!==void 0&&(N.setLineDash([]),N.lineDashOffset=0)}function U(N,I,L,H){const re=N.length;for(let oe=3;oe<re;oe+=4){const K=N[oe];if(K===0)N[oe-3]=I,N[oe-2]=L,N[oe-1]=H;else if(K<255){const le=255-K;N[oe-3]=N[oe-3]*K+I*le>>8,N[oe-2]=N[oe-2]*K+L*le>>8,N[oe-1]=N[oe-1]*K+H*le>>8}}}function T(N,I,L){const H=N.length,re=1/255;for(let oe=3;oe<H;oe+=4){const K=L?L[N[oe]]:N[oe];I[oe]=I[oe]*K*re|0}}function $(N,I,L){const H=N.length;for(let re=3;re<H;re+=4){const oe=N[re-3]*77+N[re-2]*152+N[re-1]*28;I[re]=L?I[re]*L[oe>>8]>>8:I[re]*oe>>16}}function G(N,I,L,H,re,oe,K,le,ye,Ce,xe){const j=!!oe,V=j?oe[0]:0,Q=j?oe[1]:0,se=j?oe[2]:0;let q;re==="Luminosity"?q=$:q=T;const be=Math.min(H,Math.ceil(1048576/L));for(let Ee=0;Ee<H;Ee+=be){const Pe=Math.min(be,H-Ee),fe=N.getImageData(le-Ce,Ee+(ye-xe),L,Pe),W=I.getImageData(le,Ee+ye,L,Pe);j&&U(fe.data,V,Q,se),q(fe.data,W.data,K),I.putImageData(W,le,Ee+ye)}}function ue(N,I,L,H){const re=H[0],oe=H[1],K=H[2]-re,le=H[3]-oe;K===0||le===0||(G(I.context,L,K,le,I.subtype,I.backdrop,I.transferMap,re,oe,I.offsetX,I.offsetY),N.save(),N.globalAlpha=1,N.globalCompositeOperation="source-over",N.setTransform(1,0,0,1,0,0),N.drawImage(L.canvas,0,0),N.restore())}function te(N,I){const L=l.Util.singularValueDecompose2dScale(N);L[0]=Math.fround(L[0]),L[1]=Math.fround(L[1]);const H=Math.fround((globalThis.devicePixelRatio||1)*u.PixelsPerInch.PDF_TO_CSS_UNITS);return I!==void 0?I:L[0]<=H||L[1]<=H}const Se=["butt","round","square"],he=["miter","round","bevel"],Te={},ve={},ee=class ee{constructor(I,L,H,re,{optionalContentConfig:oe,markedContentStack:K=null},le,ye){ze(this,ae);this.ctx=I,this.current=new R(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=L,this.objs=H,this.canvasFactory=re,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=K||[],this.optionalContentConfig=oe,this.cachedCanvases=new E(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=le,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(ye==null?void 0:ye.background)||null,this.foregroundColor=(ye==null?void 0:ye.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(I,L=null){return typeof I=="string"?I.startsWith("g_")?this.commonObjs.get(I):this.objs.get(I):L}beginDrawing({transform:I,viewport:L,transparency:H=!1,background:re=null}){const oe=this.ctx.canvas.width,K=this.ctx.canvas.height,le=re||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const ye=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Ce=this.backgroundColor=this.ctx.fillStyle;let xe=!0,j=le;if(this.ctx.fillStyle=le,j=this.ctx.fillStyle,xe=typeof j=="string"&&/^#[0-9A-Fa-f]{6}$/.test(j),ye==="#000000"&&Ce==="#ffffff"||ye===Ce||!xe)this.foregroundColor=this.backgroundColor=null;else{const[V,Q,se]=(0,u.getRGB)(j),q=be=>(be/=255,be<=.03928?be/12.92:((be+.055)/1.055)**2.4),de=Math.round(.2126*q(V)+.7152*q(Q)+.0722*q(se));this.selectColor=(be,Ee,Pe)=>{const fe=.2126*q(be)+.7152*q(Ee)+.0722*q(Pe);return Math.round(fe)===de?Ce:ye}}}if(this.ctx.fillStyle=this.backgroundColor||le,this.ctx.fillRect(0,0,oe,K),this.ctx.restore(),H){const ye=this.cachedCanvases.getCanvas("transparent",oe,K);this.compositeCtx=this.ctx,this.transparentCanvas=ye.canvas,this.ctx=ye.context,this.ctx.save(),this.ctx.transform(...(0,u.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),B(this.ctx,this.foregroundColor),I&&(this.ctx.transform(...I),this.outputScaleX=I[0],this.outputScaleY=I[0]),this.ctx.transform(...L.transform),this.viewportScale=L.scale,this.baseTransform=(0,u.getCurrentTransform)(this.ctx)}executeOperatorList(I,L,H,re){const oe=I.argsArray,K=I.fnArray;let le=L||0;const ye=oe.length;if(ye===le)return le;const Ce=ye-le>b&&typeof H=="function",xe=Ce?Date.now()+y:0;let j=0;const V=this.commonObjs,Q=this.objs;let se;for(;;){if(re!==void 0&&le===re.nextBreakPoint)return re.breakIt(le,H),le;if(se=K[le],se!==l.OPS.dependency)this[se].apply(this,oe[le]);else for(const q of oe[le]){const de=q.startsWith("g_")?V:Q;if(!de.has(q))return de.get(q,H),le}if(le++,le===ye)return le;if(Ce&&++j>b){if(Date.now()>xe)return H(),le;j=0}}}endDrawing(){$e(this,ae,Ea).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const I of this._cachedBitmapsMap.values()){for(const L of I.values())typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement&&(L.width=L.height=0);I.clear()}this._cachedBitmapsMap.clear()}_scaleImage(I,L){const H=I.width,re=I.height;let oe=Math.max(Math.hypot(L[0],L[1]),1),K=Math.max(Math.hypot(L[2],L[3]),1),le=H,ye=re,Ce="prescale1",xe,j;for(;oe>2&&le>1||K>2&&ye>1;){let V=le,Q=ye;oe>2&&le>1&&(V=Math.ceil(le/2),oe/=le/V),K>2&&ye>1&&(Q=Math.ceil(ye/2),K/=ye/Q),xe=this.cachedCanvases.getCanvas(Ce,V,Q),j=xe.context,j.clearRect(0,0,V,Q),j.drawImage(I,0,0,le,ye,0,0,V,Q),I=xe.canvas,le=V,ye=Q,Ce=Ce==="prescale1"?"prescale2":"prescale1"}return{img:I,paintWidth:le,paintHeight:ye}}_createMaskCanvas(I){const L=this.ctx,{width:H,height:re}=I,oe=this.current.fillColor,K=this.current.patternFill,le=(0,u.getCurrentTransform)(L);let ye,Ce,xe,j;if((I.bitmap||I.data)&&I.count>1){const me=I.bitmap||I.data.buffer;Ce=JSON.stringify(K?le:[le.slice(0,4),oe]),ye=this._cachedBitmapsMap.get(me),ye||(ye=new Map,this._cachedBitmapsMap.set(me,ye));const Re=ye.get(Ce);if(Re&&!K){const Oe=Math.round(Math.min(le[0],le[2])+le[4]),Me=Math.round(Math.min(le[1],le[3])+le[5]);return{canvas:Re,offsetX:Oe,offsetY:Me}}xe=Re}xe||(j=this.cachedCanvases.getCanvas("maskCanvas",H,re),M(j.context,I));let V=l.Util.transform(le,[1/H,0,0,-1/re,0,0]);V=l.Util.transform(V,[1,0,0,1,0,-re]);const Q=l.Util.applyTransform([0,0],V),se=l.Util.applyTransform([H,re],V),q=l.Util.normalizeRect([Q[0],Q[1],se[0],se[1]]),de=Math.round(q[2]-q[0])||1,be=Math.round(q[3]-q[1])||1,Ee=this.cachedCanvases.getCanvas("fillCanvas",de,be),Pe=Ee.context,fe=Math.min(Q[0],se[0]),W=Math.min(Q[1],se[1]);Pe.translate(-fe,-W),Pe.transform(...V),xe||(xe=this._scaleImage(j.canvas,(0,u.getCurrentTransformInverse)(Pe)),xe=xe.img,ye&&K&&ye.set(Ce,xe)),Pe.imageSmoothingEnabled=te((0,u.getCurrentTransform)(Pe),I.interpolate),_(Pe,xe,0,0,xe.width,xe.height,0,0,H,re),Pe.globalCompositeOperation="source-in";const Y=l.Util.transform((0,u.getCurrentTransformInverse)(Pe),[1,0,0,1,-fe,-W]);return Pe.fillStyle=K?oe.getPattern(L,this,Y,c.PathType.FILL):oe,Pe.fillRect(0,0,H,re),ye&&!K&&(this.cachedCanvases.delete("fillCanvas"),ye.set(Ce,Ee.canvas)),{canvas:Ee.canvas,offsetX:Math.round(fe),offsetY:Math.round(W)}}setLineWidth(I){I!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=I,this.ctx.lineWidth=I}setLineCap(I){this.ctx.lineCap=Se[I]}setLineJoin(I){this.ctx.lineJoin=he[I]}setMiterLimit(I){this.ctx.miterLimit=I}setDash(I,L){const H=this.ctx;H.setLineDash!==void 0&&(H.setLineDash(I),H.lineDashOffset=L)}setRenderingIntent(I){}setFlatness(I){}setGState(I){for(const[L,H]of I)switch(L){case"LW":this.setLineWidth(H);break;case"LC":this.setLineCap(H);break;case"LJ":this.setLineJoin(H);break;case"ML":this.setMiterLimit(H);break;case"D":this.setDash(H[0],H[1]);break;case"RI":this.setRenderingIntent(H);break;case"FL":this.setFlatness(H);break;case"Font":this.setFont(H[0],H[1]);break;case"CA":this.current.strokeAlpha=H;break;case"ca":this.current.fillAlpha=H,this.ctx.globalAlpha=H;break;case"BM":this.ctx.globalCompositeOperation=H;break;case"SMask":this.current.activeSMask=H?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=H}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const I=this.inSMaskMode;this.current.activeSMask&&!I?this.beginSMaskMode():!this.current.activeSMask&&I&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const I=this.ctx.canvas.width,L=this.ctx.canvas.height,H="smaskGroupAt"+this.groupLevel,re=this.cachedCanvases.getCanvas(H,I,L);this.suspendedCtx=this.ctx,this.ctx=re.context;const oe=this.ctx;oe.setTransform(...(0,u.getCurrentTransform)(this.suspendedCtx)),D(this.suspendedCtx,oe),S(oe,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),D(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(I){if(!this.current.activeSMask)return;I?(I[0]=Math.floor(I[0]),I[1]=Math.floor(I[1]),I[2]=Math.ceil(I[2]),I[3]=Math.ceil(I[3])):I=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const L=this.current.activeSMask,H=this.suspendedCtx;ue(H,L,this.ctx,I),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(D(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const I=this.current;this.stateStack.push(I),this.current=I.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),D(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(I,L,H,re,oe,K){this.ctx.transform(I,L,H,re,oe,K),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(I,L,H){const re=this.ctx,oe=this.current;let K=oe.x,le=oe.y,ye,Ce;const xe=(0,u.getCurrentTransform)(re),j=xe[0]===0&&xe[3]===0||xe[1]===0&&xe[2]===0,V=j?H.slice(0):null;for(let Q=0,se=0,q=I.length;Q<q;Q++)switch(I[Q]|0){case l.OPS.rectangle:K=L[se++],le=L[se++];const de=L[se++],be=L[se++],Ee=K+de,Pe=le+be;re.moveTo(K,le),de===0||be===0?re.lineTo(Ee,Pe):(re.lineTo(Ee,le),re.lineTo(Ee,Pe),re.lineTo(K,Pe)),j||oe.updateRectMinMax(xe,[K,le,Ee,Pe]),re.closePath();break;case l.OPS.moveTo:K=L[se++],le=L[se++],re.moveTo(K,le),j||oe.updatePathMinMax(xe,K,le);break;case l.OPS.lineTo:K=L[se++],le=L[se++],re.lineTo(K,le),j||oe.updatePathMinMax(xe,K,le);break;case l.OPS.curveTo:ye=K,Ce=le,K=L[se+4],le=L[se+5],re.bezierCurveTo(L[se],L[se+1],L[se+2],L[se+3],K,le),oe.updateCurvePathMinMax(xe,ye,Ce,L[se],L[se+1],L[se+2],L[se+3],K,le,V),se+=6;break;case l.OPS.curveTo2:ye=K,Ce=le,re.bezierCurveTo(K,le,L[se],L[se+1],L[se+2],L[se+3]),oe.updateCurvePathMinMax(xe,ye,Ce,K,le,L[se],L[se+1],L[se+2],L[se+3],V),K=L[se+2],le=L[se+3],se+=4;break;case l.OPS.curveTo3:ye=K,Ce=le,K=L[se+2],le=L[se+3],re.bezierCurveTo(L[se],L[se+1],K,le,K,le),oe.updateCurvePathMinMax(xe,ye,Ce,L[se],L[se+1],K,le,K,le,V),se+=4;break;case l.OPS.closePath:re.closePath();break}j&&oe.updateScalingPathMinMax(xe,V),oe.setCurrentPoint(K,le)}closePath(){this.ctx.closePath()}stroke(I=!0){const L=this.ctx,H=this.current.strokeColor;L.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof H=="object"&&(H!=null&&H.getPattern)?(L.save(),L.strokeStyle=H.getPattern(L,this,(0,u.getCurrentTransformInverse)(L),c.PathType.STROKE),this.rescaleAndStroke(!1),L.restore()):this.rescaleAndStroke(!0)),I&&this.consumePath(this.current.getClippedPathBoundingBox()),L.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(I=!0){const L=this.ctx,H=this.current.fillColor,re=this.current.patternFill;let oe=!1;re&&(L.save(),L.fillStyle=H.getPattern(L,this,(0,u.getCurrentTransformInverse)(L),c.PathType.FILL),oe=!0);const K=this.current.getClippedPathBoundingBox();this.contentVisible&&K!==null&&(this.pendingEOFill?(L.fill("evenodd"),this.pendingEOFill=!1):L.fill()),oe&&L.restore(),I&&this.consumePath(K)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Te}eoClip(){this.pendingClip=ve}beginText(){this.current.textMatrix=l.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const I=this.pendingTextPaths,L=this.ctx;if(I===void 0){L.beginPath();return}L.save(),L.beginPath();for(const H of I)L.setTransform(...H.transform),L.translate(H.x,H.y),H.addToPath(L,H.fontSize);L.restore(),L.clip(),L.beginPath(),delete this.pendingTextPaths}setCharSpacing(I){this.current.charSpacing=I}setWordSpacing(I){this.current.wordSpacing=I}setHScale(I){this.current.textHScale=I/100}setLeading(I){this.current.leading=-I}setFont(I,L){const H=this.commonObjs.get(I),re=this.current;if(!H)throw new Error(`Can't find font for ${I}`);if(re.fontMatrix=H.fontMatrix||l.FONT_IDENTITY_MATRIX,(re.fontMatrix[0]===0||re.fontMatrix[3]===0)&&(0,l.warn)("Invalid font matrix for font "+I),L<0?(L=-L,re.fontDirection=-1):re.fontDirection=1,this.current.font=H,this.current.fontSize=L,H.isType3Font)return;const oe=H.loadedName||"sans-serif";let K="normal";H.black?K="900":H.bold&&(K="bold");const le=H.italic?"italic":"normal",ye=`"${oe}", ${H.fallbackName}`;let Ce=L;L<h?Ce=h:L>m&&(Ce=m),this.current.fontSizeScale=L/Ce,this.ctx.font=`${le} ${K} ${Ce}px ${ye}`}setTextRenderingMode(I){this.current.textRenderingMode=I}setTextRise(I){this.current.textRise=I}moveText(I,L){this.current.x=this.current.lineX+=I,this.current.y=this.current.lineY+=L}setLeadingMoveText(I,L){this.setLeading(-L),this.moveText(I,L)}setTextMatrix(I,L,H,re,oe,K){this.current.textMatrix=[I,L,H,re,oe,K],this.current.textMatrixScale=Math.hypot(I,L),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(I,L,H,re){const oe=this.ctx,K=this.current,le=K.font,ye=K.textRenderingMode,Ce=K.fontSize/K.fontSizeScale,xe=ye&l.TextRenderingMode.FILL_STROKE_MASK,j=!!(ye&l.TextRenderingMode.ADD_TO_PATH_FLAG),V=K.patternFill&&!le.missingFile;let Q;(le.disableFontFace||j||V)&&(Q=le.getPathGenerator(this.commonObjs,I)),le.disableFontFace||V?(oe.save(),oe.translate(L,H),oe.beginPath(),Q(oe,Ce),re&&oe.setTransform(...re),(xe===l.TextRenderingMode.FILL||xe===l.TextRenderingMode.FILL_STROKE)&&oe.fill(),(xe===l.TextRenderingMode.STROKE||xe===l.TextRenderingMode.FILL_STROKE)&&oe.stroke(),oe.restore()):((xe===l.TextRenderingMode.FILL||xe===l.TextRenderingMode.FILL_STROKE)&&oe.fillText(I,L,H),(xe===l.TextRenderingMode.STROKE||xe===l.TextRenderingMode.FILL_STROKE)&&oe.strokeText(I,L,H)),j&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,u.getCurrentTransform)(oe),x:L,y:H,fontSize:Ce,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:I}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);I.scale(1.5,1),I.fillText("I",0,10);const L=I.getImageData(0,0,10,10).data;let H=!1;for(let re=3;re<L.length;re+=4)if(L[re]>0&&L[re]<255){H=!0;break}return(0,l.shadow)(this,"isFontSubpixelAAEnabled",H)}showText(I){const L=this.current,H=L.font;if(H.isType3Font)return this.showType3Text(I);const re=L.fontSize;if(re===0)return;const oe=this.ctx,K=L.fontSizeScale,le=L.charSpacing,ye=L.wordSpacing,Ce=L.fontDirection,xe=L.textHScale*Ce,j=I.length,V=H.vertical,Q=V?1:-1,se=H.defaultVMetrics,q=re*L.fontMatrix[0],de=L.textRenderingMode===l.TextRenderingMode.FILL&&!H.disableFontFace&&!L.patternFill;oe.save(),oe.transform(...L.textMatrix),oe.translate(L.x,L.y+L.textRise),Ce>0?oe.scale(xe,-1):oe.scale(xe,1);let be;if(L.patternFill){oe.save();const Y=L.fillColor.getPattern(oe,this,(0,u.getCurrentTransformInverse)(oe),c.PathType.FILL);be=(0,u.getCurrentTransform)(oe),oe.restore(),oe.fillStyle=Y}let Ee=L.lineWidth;const Pe=L.textMatrixScale;if(Pe===0||Ee===0){const Y=L.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;(Y===l.TextRenderingMode.STROKE||Y===l.TextRenderingMode.FILL_STROKE)&&(Ee=this.getSinglePixelWidth())}else Ee/=Pe;if(K!==1&&(oe.scale(K,K),Ee/=K),oe.lineWidth=Ee,H.isInvalidPDFjsFont){const Y=[];let me=0;for(const Re of I)Y.push(Re.unicode),me+=Re.width;oe.fillText(Y.join(""),0,0),L.x+=me*q*xe,oe.restore(),this.compose();return}let fe=0,W;for(W=0;W<j;++W){const Y=I[W];if(typeof Y=="number"){fe+=Q*Y*re/1e3;continue}let me=!1;const Re=(Y.isSpace?ye:0)+le,Oe=Y.fontChar,Me=Y.accent;let Le,qe,Ye=Y.width;if(V){const Ae=Y.vmetric||se,we=-(Y.vmetric?Ae[1]:Ye*.5)*q,He=Ae[2]*q;Ye=Ae?-Ae[0]:Ye,Le=we/K,qe=(fe+He)/K}else Le=fe/K,qe=0;if(H.remeasure&&Ye>0){const Ae=oe.measureText(Oe).width*1e3/re*K;if(Ye<Ae&&this.isFontSubpixelAAEnabled){const we=Ye/Ae;me=!0,oe.save(),oe.scale(we,1),Le/=we}else Ye!==Ae&&(Le+=(Ye-Ae)/2e3*re/K)}if(this.contentVisible&&(Y.isInFont||H.missingFile)){if(de&&!Me)oe.fillText(Oe,Le,qe);else if(this.paintChar(Oe,Le,qe,be),Me){const Ae=Le+re*Me.offset.x/K,we=qe-re*Me.offset.y/K;this.paintChar(Me.fontChar,Ae,we,be)}}let Ie;V?Ie=Ye*q-Re*Ce:Ie=Ye*q+Re*Ce,fe+=Ie,me&&oe.restore()}V?L.y-=fe:L.x+=fe*xe,oe.restore(),this.compose()}showType3Text(I){const L=this.ctx,H=this.current,re=H.font,oe=H.fontSize,K=H.fontDirection,le=re.vertical?1:-1,ye=H.charSpacing,Ce=H.wordSpacing,xe=H.textHScale*K,j=H.fontMatrix||l.FONT_IDENTITY_MATRIX,V=I.length,Q=H.textRenderingMode===l.TextRenderingMode.INVISIBLE;let se,q,de,be;if(!(Q||oe===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,L.save(),L.transform(...H.textMatrix),L.translate(H.x,H.y),L.scale(xe,K),se=0;se<V;++se){if(q=I[se],typeof q=="number"){be=le*q*oe/1e3,this.ctx.translate(be,0),H.x+=be*xe;continue}const Ee=(q.isSpace?Ce:0)+ye,Pe=re.charProcOperatorList[q.operatorListId];if(!Pe){(0,l.warn)(`Type3 character "${q.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=q,this.save(),L.scale(oe,oe),L.transform(...j),this.executeOperatorList(Pe),this.restore()),de=l.Util.applyTransform([q.width,0],j)[0]*oe+Ee,L.translate(de,0),H.x+=de*xe}L.restore(),this.processingType3=null}}setCharWidth(I,L){}setCharWidthAndBounds(I,L,H,re,oe,K){this.ctx.rect(H,re,oe-H,K-re),this.ctx.clip(),this.endPath()}getColorN_Pattern(I){let L;if(I[0]==="TilingPattern"){const H=I[1],re=this.baseTransform||(0,u.getCurrentTransform)(this.ctx),oe={createCanvasGraphics:K=>new ee(K,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};L=new c.TilingPattern(I,H,this.ctx,oe,re)}else L=this._getPattern(I[1],I[2]);return L}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(I,L,H){var oe;const re=((oe=this.selectColor)==null?void 0:oe.call(this,I,L,H))||l.Util.makeHexColor(I,L,H);this.ctx.strokeStyle=re,this.current.strokeColor=re}setFillRGBColor(I,L,H){var oe;const re=((oe=this.selectColor)==null?void 0:oe.call(this,I,L,H))||l.Util.makeHexColor(I,L,H);this.ctx.fillStyle=re,this.current.fillColor=re,this.current.patternFill=!1}_getPattern(I,L=null){let H;return this.cachedPatterns.has(I)?H=this.cachedPatterns.get(I):(H=(0,c.getShadingPattern)(this.objs.get(I)),this.cachedPatterns.set(I,H)),L&&(H.matrix=L),H}shadingFill(I){if(!this.contentVisible)return;const L=this.ctx;this.save();const H=this._getPattern(I);L.fillStyle=H.getPattern(L,this,(0,u.getCurrentTransformInverse)(L),c.PathType.SHADING);const re=(0,u.getCurrentTransformInverse)(L);if(re){const oe=L.canvas,K=oe.width,le=oe.height,ye=l.Util.applyTransform([0,0],re),Ce=l.Util.applyTransform([0,le],re),xe=l.Util.applyTransform([K,0],re),j=l.Util.applyTransform([K,le],re),V=Math.min(ye[0],Ce[0],xe[0],j[0]),Q=Math.min(ye[1],Ce[1],xe[1],j[1]),se=Math.max(ye[0],Ce[0],xe[0],j[0]),q=Math.max(ye[1],Ce[1],xe[1],j[1]);this.ctx.fillRect(V,Q,se-V,q-Q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,l.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,l.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(I,L){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(I)&&I.length===6&&this.transform(...I),this.baseTransform=(0,u.getCurrentTransform)(this.ctx),L)){const H=L[2]-L[0],re=L[3]-L[1];this.ctx.rect(L[0],L[1],H,re),this.current.updateRectMinMax((0,u.getCurrentTransform)(this.ctx),L),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(I){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const L=this.ctx;I.isolated||(0,l.info)("TODO: Support non-isolated groups."),I.knockout&&(0,l.warn)("Knockout groups not supported.");const H=(0,u.getCurrentTransform)(L);if(I.matrix&&L.transform(...I.matrix),!I.bbox)throw new Error("Bounding box is required.");let re=l.Util.getAxialAlignedBoundingBox(I.bbox,(0,u.getCurrentTransform)(L));const oe=[0,0,L.canvas.width,L.canvas.height];re=l.Util.intersect(re,oe)||[0,0,0,0];const K=Math.floor(re[0]),le=Math.floor(re[1]);let ye=Math.max(Math.ceil(re[2])-K,1),Ce=Math.max(Math.ceil(re[3])-le,1),xe=1,j=1;ye>g&&(xe=ye/g,ye=g),Ce>g&&(j=Ce/g,Ce=g),this.current.startNewPathAndClipBox([0,0,ye,Ce]);let V="groupAt"+this.groupLevel;I.smask&&(V+="_smask_"+this.smaskCounter++%2);const Q=this.cachedCanvases.getCanvas(V,ye,Ce),se=Q.context;se.scale(1/xe,1/j),se.translate(-K,-le),se.transform(...H),I.smask?this.smaskStack.push({canvas:Q.canvas,context:se,offsetX:K,offsetY:le,scaleX:xe,scaleY:j,subtype:I.smask.subtype,backdrop:I.smask.backdrop,transferMap:I.smask.transferMap||null,startTransformInverse:null}):(L.setTransform(1,0,0,1,0,0),L.translate(K,le),L.scale(xe,j),L.save()),D(L,se),this.ctx=se,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(L),this.groupLevel++}endGroup(I){if(!this.contentVisible)return;this.groupLevel--;const L=this.ctx,H=this.groupStack.pop();if(this.ctx=H,this.ctx.imageSmoothingEnabled=!1,I.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const re=(0,u.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...re);const oe=l.Util.getAxialAlignedBoundingBox([0,0,L.canvas.width,L.canvas.height],re);this.ctx.drawImage(L.canvas,0,0),this.ctx.restore(),this.compose(oe)}}beginAnnotation(I,L,H,re,oe){if($e(this,ae,Ea).call(this),B(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(L)&&L.length===4){const K=L[2]-L[0],le=L[3]-L[1];if(oe&&this.annotationCanvasMap){H=H.slice(),H[4]-=L[0],H[5]-=L[1],L=L.slice(),L[0]=L[1]=0,L[2]=K,L[3]=le;const[ye,Ce]=l.Util.singularValueDecompose2dScale((0,u.getCurrentTransform)(this.ctx)),{viewportScale:xe}=this,j=Math.ceil(K*this.outputScaleX*xe),V=Math.ceil(le*this.outputScaleY*xe);this.annotationCanvas=this.canvasFactory.create(j,V);const{canvas:Q,context:se}=this.annotationCanvas;this.annotationCanvasMap.set(I,Q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=se,this.ctx.setTransform(ye,0,0,-Ce,0,le*Ce),B(this.ctx,this.foregroundColor)}else B(this.ctx,this.foregroundColor),this.ctx.rect(L[0],L[1],K,le),this.ctx.clip(),this.endPath()}this.current=new R(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...H),this.transform(...re)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(I){if(!this.contentVisible)return;const L=I.count;I=this.getObject(I.data,I),I.count=L;const H=this.ctx,re=this.processingType3;if(re&&(re.compiled===void 0&&(re.compiled=A(I)),re.compiled)){re.compiled(H);return}const oe=this._createMaskCanvas(I),K=oe.canvas;H.save(),H.setTransform(1,0,0,1,0,0),H.drawImage(K,oe.offsetX,oe.offsetY),H.restore(),this.compose()}paintImageMaskXObjectRepeat(I,L,H=0,re=0,oe,K){if(!this.contentVisible)return;I=this.getObject(I.data,I);const le=this.ctx;le.save();const ye=(0,u.getCurrentTransform)(le);le.transform(L,H,re,oe,0,0);const Ce=this._createMaskCanvas(I);le.setTransform(1,0,0,1,Ce.offsetX-ye[4],Ce.offsetY-ye[5]);for(let xe=0,j=K.length;xe<j;xe+=2){const V=l.Util.transform(ye,[L,H,re,oe,K[xe],K[xe+1]]),[Q,se]=l.Util.applyTransform([0,0],V);le.drawImage(Ce.canvas,Q,se)}le.restore(),this.compose()}paintImageMaskXObjectGroup(I){if(!this.contentVisible)return;const L=this.ctx,H=this.current.fillColor,re=this.current.patternFill;for(const oe of I){const{data:K,width:le,height:ye,transform:Ce}=oe,xe=this.cachedCanvases.getCanvas("maskCanvas",le,ye),j=xe.context;j.save();const V=this.getObject(K,oe);M(j,V),j.globalCompositeOperation="source-in",j.fillStyle=re?H.getPattern(j,this,(0,u.getCurrentTransformInverse)(L),c.PathType.FILL):H,j.fillRect(0,0,le,ye),j.restore(),L.save(),L.transform(...Ce),L.scale(1,-1),_(L,xe.canvas,0,0,le,ye,0,-1,1,1),L.restore()}this.compose()}paintImageXObject(I){if(!this.contentVisible)return;const L=this.getObject(I);if(!L){(0,l.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(L)}paintImageXObjectRepeat(I,L,H,re){if(!this.contentVisible)return;const oe=this.getObject(I);if(!oe){(0,l.warn)("Dependent image isn't ready yet");return}const K=oe.width,le=oe.height,ye=[];for(let Ce=0,xe=re.length;Ce<xe;Ce+=2)ye.push({transform:[L,0,0,H,re[Ce],re[Ce+1]],x:0,y:0,w:K,h:le});this.paintInlineImageXObjectGroup(oe,ye)}paintInlineImageXObject(I){if(!this.contentVisible)return;const L=I.width,H=I.height,re=this.ctx;this.save(),re.scale(1/L,-1/H);let oe;if(typeof HTMLElement=="function"&&I instanceof HTMLElement||!I.data)oe=I;else{const le=this.cachedCanvases.getCanvas("inlineImage",L,H),ye=le.context;k(ye,I,this.current.transferMaps),oe=le.canvas}const K=this._scaleImage(oe,(0,u.getCurrentTransformInverse)(re));re.imageSmoothingEnabled=te((0,u.getCurrentTransform)(re),I.interpolate),_(re,K.img,0,0,K.paintWidth,K.paintHeight,0,-H,L,H),this.compose(),this.restore()}paintInlineImageXObjectGroup(I,L){if(!this.contentVisible)return;const H=this.ctx,re=I.width,oe=I.height,K=this.cachedCanvases.getCanvas("inlineImage",re,oe),le=K.context;k(le,I,this.current.transferMaps);for(const ye of L)H.save(),H.transform(...ye.transform),H.scale(1,-1),_(H,K.canvas,ye.x,ye.y,ye.w,ye.h,0,-1,1,1),H.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(I){}markPointProps(I,L){}beginMarkedContent(I){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(I,L){I==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(L)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(I){const L=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(I);const H=this.ctx;this.pendingClip&&(L||(this.pendingClip===ve?H.clip("evenodd"):H.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),H.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const I=(0,u.getCurrentTransform)(this.ctx);if(I[1]===0&&I[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(I[0]),Math.abs(I[3]));else{const L=Math.abs(I[0]*I[3]-I[2]*I[1]),H=Math.hypot(I[0],I[2]),re=Math.hypot(I[1],I[3]);this._cachedGetSinglePixelWidth=Math.max(H,re)/L}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:I}=this.current,L=(0,u.getCurrentTransform)(this.ctx);let H,re;if(L[1]===0&&L[2]===0){const oe=Math.abs(L[0]),K=Math.abs(L[3]);if(I===0)H=1/oe,re=1/K;else{const le=oe*I,ye=K*I;H=le<1?1/le:1,re=ye<1?1/ye:1}}else{const oe=Math.abs(L[0]*L[3]-L[2]*L[1]),K=Math.hypot(L[0],L[1]),le=Math.hypot(L[2],L[3]);if(I===0)H=le/oe,re=K/oe;else{const ye=I*oe;H=le>ye?le/ye:1,re=K>ye?K/ye:1}}this._cachedScaleForStroking=[H,re]}return this._cachedScaleForStroking}rescaleAndStroke(I){const{ctx:L}=this,{lineWidth:H}=this.current,[re,oe]=this.getScaleForStroking();if(L.lineWidth=H||1,re===1&&oe===1){L.stroke();return}let K,le,ye;I&&(K=(0,u.getCurrentTransform)(L),le=L.getLineDash().slice(),ye=L.lineDashOffset),L.scale(re,oe);const Ce=Math.max(re,oe);L.setLineDash(L.getLineDash().map(xe=>xe/Ce)),L.lineDashOffset/=Ce,L.stroke(),I&&(L.setTransform(...K),L.setLineDash(le),L.lineDashOffset=ye)}isContentVisible(){for(let I=this.markedContentStack.length-1;I>=0;I--)if(!this.markedContentStack[I].visible)return!1;return!0}};ae=new WeakSet,Ea=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let ce=ee;e.CanvasGraphics=ce;for(const N in l.OPS)ce.prototype[N]!==void 0&&(ce.prototype[l.OPS[N]]=ce.prototype[N])},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=C;var l=a(1),u=a(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=c;function d(_,A){if(!A)return;const R=A[2]-A[0],k=A[3]-A[1],M=new Path2D;M.rect(A[0],A[1],R,k),_.clip(M)}class h{constructor(){this.constructor===h&&(0,l.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,l.unreachable)("Abstract method `getPattern` called.")}}class m extends h{constructor(A){super(),this._type=A[1],this._bbox=A[2],this._colorStops=A[3],this._p0=A[4],this._p1=A[5],this._r0=A[6],this._r1=A[7],this.matrix=null}_createGradient(A){let R;this._type==="axial"?R=A.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(R=A.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const k of this._colorStops)R.addColorStop(k[0],k[1]);return R}getPattern(A,R,k,M){let D;if(M===c.STROKE||M===c.FILL){const B=R.current.getClippedPathBoundingBox(M,(0,u.getCurrentTransform)(A))||[0,0,0,0],U=Math.ceil(B[2]-B[0])||1,T=Math.ceil(B[3]-B[1])||1,$=R.cachedCanvases.getCanvas("pattern",U,T,!0),G=$.context;G.clearRect(0,0,G.canvas.width,G.canvas.height),G.beginPath(),G.rect(0,0,G.canvas.width,G.canvas.height),G.translate(-B[0],-B[1]),k=l.Util.transform(k,[1,0,0,1,B[0],B[1]]),G.transform(...R.baseTransform),this.matrix&&G.transform(...this.matrix),d(G,this._bbox),G.fillStyle=this._createGradient(G),G.fill(),D=A.createPattern($.canvas,"no-repeat");const ue=new DOMMatrix(k);D.setTransform(ue)}else d(A,this._bbox),D=this._createGradient(A);return D}}function g(_,A,R,k,M,D,B,U){const T=A.coords,$=A.colors,G=_.data,ue=_.width*4;let te;T[R+1]>T[k+1]&&(te=R,R=k,k=te,te=D,D=B,B=te),T[k+1]>T[M+1]&&(te=k,k=M,M=te,te=B,B=U,U=te),T[R+1]>T[k+1]&&(te=R,R=k,k=te,te=D,D=B,B=te);const Se=(T[R]+A.offsetX)*A.scaleX,he=(T[R+1]+A.offsetY)*A.scaleY,Te=(T[k]+A.offsetX)*A.scaleX,ve=(T[k+1]+A.offsetY)*A.scaleY,ce=(T[M]+A.offsetX)*A.scaleX,ae=(T[M+1]+A.offsetY)*A.scaleY;if(he>=ae)return;const pe=$[D],ee=$[D+1],N=$[D+2],I=$[B],L=$[B+1],H=$[B+2],re=$[U],oe=$[U+1],K=$[U+2],le=Math.round(he),ye=Math.round(ae);let Ce,xe,j,V,Q,se,q,de;for(let be=le;be<=ye;be++){if(be<ve){let Y;be<he?Y=0:Y=(he-be)/(he-ve),Ce=Se-(Se-Te)*Y,xe=pe-(pe-I)*Y,j=ee-(ee-L)*Y,V=N-(N-H)*Y}else{let Y;be>ae?Y=1:ve===ae?Y=0:Y=(ve-be)/(ve-ae),Ce=Te-(Te-ce)*Y,xe=I-(I-re)*Y,j=L-(L-oe)*Y,V=H-(H-K)*Y}let Ee;be<he?Ee=0:be>ae?Ee=1:Ee=(he-be)/(he-ae),Q=Se-(Se-ce)*Ee,se=pe-(pe-re)*Ee,q=ee-(ee-oe)*Ee,de=N-(N-K)*Ee;const Pe=Math.round(Math.min(Ce,Q)),fe=Math.round(Math.max(Ce,Q));let W=ue*be+Pe*4;for(let Y=Pe;Y<=fe;Y++)Ee=(Ce-Y)/(Ce-Q),Ee<0?Ee=0:Ee>1&&(Ee=1),G[W++]=xe-(xe-se)*Ee|0,G[W++]=j-(j-q)*Ee|0,G[W++]=V-(V-de)*Ee|0,G[W++]=255}}function y(_,A,R){const k=A.coords,M=A.colors;let D,B;switch(A.type){case"lattice":const U=A.verticesPerRow,T=Math.floor(k.length/U)-1,$=U-1;for(D=0;D<T;D++){let G=D*U;for(let ue=0;ue<$;ue++,G++)g(_,R,k[G],k[G+1],k[G+U],M[G],M[G+1],M[G+U]),g(_,R,k[G+U+1],k[G+1],k[G+U],M[G+U+1],M[G+1],M[G+U])}break;case"triangles":for(D=0,B=k.length;D<B;D+=3)g(_,R,k[D],k[D+1],k[D+2],M[D],M[D+1],M[D+2]);break;default:throw new Error("illegal figure")}}class b extends h{constructor(A){super(),this._coords=A[2],this._colors=A[3],this._figures=A[4],this._bounds=A[5],this._bbox=A[7],this._background=A[8],this.matrix=null}_createMeshCanvas(A,R,k){const U=Math.floor(this._bounds[0]),T=Math.floor(this._bounds[1]),$=Math.ceil(this._bounds[2])-U,G=Math.ceil(this._bounds[3])-T,ue=Math.min(Math.ceil(Math.abs($*A[0]*1.1)),3e3),te=Math.min(Math.ceil(Math.abs(G*A[1]*1.1)),3e3),Se=$/ue,he=G/te,Te={coords:this._coords,colors:this._colors,offsetX:-U,offsetY:-T,scaleX:1/Se,scaleY:1/he},ve=ue+2*2,ce=te+2*2,ae=k.getCanvas("mesh",ve,ce,!1),pe=ae.context,ee=pe.createImageData(ue,te);if(R){const I=ee.data;for(let L=0,H=I.length;L<H;L+=4)I[L]=R[0],I[L+1]=R[1],I[L+2]=R[2],I[L+3]=255}for(const I of this._figures)y(ee,I,Te);return pe.putImageData(ee,2,2),{canvas:ae.canvas,offsetX:U-2*Se,offsetY:T-2*he,scaleX:Se,scaleY:he}}getPattern(A,R,k,M){d(A,this._bbox);let D;if(M===c.SHADING)D=l.Util.singularValueDecompose2dScale((0,u.getCurrentTransform)(A));else if(D=l.Util.singularValueDecompose2dScale(R.baseTransform),this.matrix){const U=l.Util.singularValueDecompose2dScale(this.matrix);D=[D[0]*U[0],D[1]*U[1]]}const B=this._createMeshCanvas(D,M===c.SHADING?null:this._background,R.cachedCanvases);return M!==c.SHADING&&(A.setTransform(...R.baseTransform),this.matrix&&A.transform(...this.matrix)),A.translate(B.offsetX,B.offsetY),A.scale(B.scaleX,B.scaleY),A.createPattern(B.canvas,"no-repeat")}}class v extends h{getPattern(){return"hotpink"}}function C(_){switch(_[0]){case"RadialAxial":return new m(_);case"Mesh":return new b(_);case"Dummy":return new v}throw new Error(`Unknown IR type: ${_[0]}`)}const S={COLORED:1,UNCOLORED:2};class E{static get MAX_PATTERN_SIZE(){return(0,l.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(A,R,k,M,D){this.operatorList=A[2],this.matrix=A[3]||[1,0,0,1,0,0],this.bbox=A[4],this.xstep=A[5],this.ystep=A[6],this.paintType=A[7],this.tilingType=A[8],this.color=R,this.ctx=k,this.canvasGraphicsFactory=M,this.baseTransform=D}createPatternCanvas(A){const R=this.operatorList,k=this.bbox,M=this.xstep,D=this.ystep,B=this.paintType,U=this.tilingType,T=this.color,$=this.canvasGraphicsFactory;(0,l.info)("TilingType: "+U);const G=k[0],ue=k[1],te=k[2],Se=k[3],he=l.Util.singularValueDecompose2dScale(this.matrix),Te=l.Util.singularValueDecompose2dScale(this.baseTransform),ve=[he[0]*Te[0],he[1]*Te[1]],ce=this.getSizeAndScale(M,this.ctx.canvas.width,ve[0]),ae=this.getSizeAndScale(D,this.ctx.canvas.height,ve[1]),pe=A.cachedCanvases.getCanvas("pattern",ce.size,ae.size,!0),ee=pe.context,N=$.createCanvasGraphics(ee);N.groupLevel=A.groupLevel,this.setFillAndStrokeStyleToContext(N,B,T);let I=G,L=ue,H=te,re=Se;return G<0&&(I=0,H+=Math.abs(G)),ue<0&&(L=0,re+=Math.abs(ue)),ee.translate(-(ce.scale*I),-(ae.scale*L)),N.transform(ce.scale,0,0,ae.scale,0,0),ee.save(),this.clipBbox(N,I,L,H,re),N.baseTransform=(0,u.getCurrentTransform)(N.ctx),N.executeOperatorList(R),N.endDrawing(),{canvas:pe.canvas,scaleX:ce.scale,scaleY:ae.scale,offsetX:I,offsetY:L}}getSizeAndScale(A,R,k){A=Math.abs(A);const M=Math.max(E.MAX_PATTERN_SIZE,R);let D=Math.ceil(A*k);return D>=M?D=M:k=D/A,{scale:k,size:D}}clipBbox(A,R,k,M,D){const B=M-R,U=D-k;A.ctx.rect(R,k,B,U),A.current.updateRectMinMax((0,u.getCurrentTransform)(A.ctx),[R,k,M,D]),A.clip(),A.endPath()}setFillAndStrokeStyleToContext(A,R,k){const M=A.ctx,D=A.current;switch(R){case S.COLORED:const B=this.ctx;M.fillStyle=B.fillStyle,M.strokeStyle=B.strokeStyle,D.fillColor=B.fillStyle,D.strokeColor=B.strokeStyle;break;case S.UNCOLORED:const U=l.Util.makeHexColor(k[0],k[1],k[2]);M.fillStyle=U,M.strokeStyle=U,D.fillColor=U,D.strokeColor=U;break;default:throw new l.FormatError(`Unsupported paint type: ${R}`)}}getPattern(A,R,k,M){let D=k;M!==c.SHADING&&(D=l.Util.transform(D,R.baseTransform),this.matrix&&(D=l.Util.transform(D,this.matrix)));const B=this.createPatternCanvas(R);let U=new DOMMatrix(D);U=U.translate(B.offsetX,B.offsetY),U=U.scale(1/B.scaleX,1/B.scaleY);const T=A.createPattern(B.canvas,"repeat");return T.setTransform(U),T}}e.TilingPattern=E},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=u;var l=a(1);function u({src:c,srcPos:d=0,dest:h,destPos:m=0,width:g,height:y,inverseDecode:b=!1}){const v=l.FeatureTest.isLittleEndian?4278190080:255,[C,S]=b?[0,v]:[v,0],E=g>>3,_=g&7,A=c.length;h=new Uint32Array(h.buffer);for(let R=0;R<y;R++){for(const M=d+E;d<M;d++){const D=d<A?c[d]:255;h[m++]=D&128?S:C,h[m++]=D&64?S:C,h[m++]=D&32?S:C,h[m++]=D&16?S:C,h[m++]=D&8?S:C,h[m++]=D&4?S:C,h[m++]=D&2?S:C,h[m++]=D&1?S:C}if(_===0)continue;const k=d<A?c[d++]:255;for(let M=0;M<_;M++)h[m++]=k&1<<7-M?S:C}return{srcPos:d,destPos:m}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const a=Object.create(null);e.GlobalWorkerOptions=a,a.workerPort=null,a.workerSrc=""},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var l=a(1);const u={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(m){switch(m instanceof Error||typeof m=="object"&&m!==null||(0,l.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),m.name){case"AbortException":return new l.AbortException(m.message);case"MissingPDFException":return new l.MissingPDFException(m.message);case"PasswordException":return new l.PasswordException(m.message,m.code);case"UnexpectedResponseException":return new l.UnexpectedResponseException(m.message,m.status);case"UnknownErrorException":return new l.UnknownErrorException(m.message,m.details);default:return new l.UnknownErrorException(m.message,m.toString())}}class h{constructor(g,y,b){this.sourceName=g,this.targetName=y,this.comObj=b,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=v=>{const C=v.data;if(C.targetName!==this.sourceName)return;if(C.stream){this._processStreamMessage(C);return}if(C.callback){const E=C.callbackId,_=this.callbackCapabilities[E];if(!_)throw new Error(`Cannot resolve callback ${E}`);if(delete this.callbackCapabilities[E],C.callback===u.DATA)_.resolve(C.data);else if(C.callback===u.ERROR)_.reject(d(C.reason));else throw new Error("Unexpected callback case");return}const S=this.actionHandler[C.action];if(!S)throw new Error(`Unknown action from worker: ${C.action}`);if(C.callbackId){const E=this.sourceName,_=C.sourceName;new Promise(function(A){A(S(C.data))}).then(function(A){b.postMessage({sourceName:E,targetName:_,callback:u.DATA,callbackId:C.callbackId,data:A})},function(A){b.postMessage({sourceName:E,targetName:_,callback:u.ERROR,callbackId:C.callbackId,reason:d(A)})});return}if(C.streamId){this._createStreamSink(C);return}S(C.data)},b.addEventListener("message",this._onComObjOnMessage)}on(g,y){const b=this.actionHandler;if(b[g])throw new Error(`There is already an actionName called "${g}"`);b[g]=y}send(g,y,b){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:g,data:y},b)}sendWithPromise(g,y,b){const v=this.callbackId++,C=(0,l.createPromiseCapability)();this.callbackCapabilities[v]=C;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:g,callbackId:v,data:y},b)}catch(S){C.reject(S)}return C.promise}sendWithStream(g,y,b,v){const C=this.streamId++,S=this.sourceName,E=this.targetName,_=this.comObj;return new ReadableStream({start:A=>{const R=(0,l.createPromiseCapability)();return this.streamControllers[C]={controller:A,startCall:R,pullCall:null,cancelCall:null,isClosed:!1},_.postMessage({sourceName:S,targetName:E,action:g,streamId:C,data:y,desiredSize:A.desiredSize},v),R.promise},pull:A=>{const R=(0,l.createPromiseCapability)();return this.streamControllers[C].pullCall=R,_.postMessage({sourceName:S,targetName:E,stream:c.PULL,streamId:C,desiredSize:A.desiredSize}),R.promise},cancel:A=>{(0,l.assert)(A instanceof Error,"cancel must have a valid reason");const R=(0,l.createPromiseCapability)();return this.streamControllers[C].cancelCall=R,this.streamControllers[C].isClosed=!0,_.postMessage({sourceName:S,targetName:E,stream:c.CANCEL,streamId:C,reason:d(A)}),R.promise}},b)}_createStreamSink(g){const y=g.streamId,b=this.sourceName,v=g.sourceName,C=this.comObj,S=this,E=this.actionHandler[g.action],_={enqueue(A,R=1,k){if(this.isCancelled)return;const M=this.desiredSize;this.desiredSize-=R,M>0&&this.desiredSize<=0&&(this.sinkCapability=(0,l.createPromiseCapability)(),this.ready=this.sinkCapability.promise),C.postMessage({sourceName:b,targetName:v,stream:c.ENQUEUE,streamId:y,chunk:A},k)},close(){this.isCancelled||(this.isCancelled=!0,C.postMessage({sourceName:b,targetName:v,stream:c.CLOSE,streamId:y}),delete S.streamSinks[y])},error(A){(0,l.assert)(A instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,C.postMessage({sourceName:b,targetName:v,stream:c.ERROR,streamId:y,reason:d(A)}))},sinkCapability:(0,l.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:g.desiredSize,ready:null};_.sinkCapability.resolve(),_.ready=_.sinkCapability.promise,this.streamSinks[y]=_,new Promise(function(A){A(E(g.data,_))}).then(function(){C.postMessage({sourceName:b,targetName:v,stream:c.START_COMPLETE,streamId:y,success:!0})},function(A){C.postMessage({sourceName:b,targetName:v,stream:c.START_COMPLETE,streamId:y,reason:d(A)})})}_processStreamMessage(g){const y=g.streamId,b=this.sourceName,v=g.sourceName,C=this.comObj,S=this.streamControllers[y],E=this.streamSinks[y];switch(g.stream){case c.START_COMPLETE:g.success?S.startCall.resolve():S.startCall.reject(d(g.reason));break;case c.PULL_COMPLETE:g.success?S.pullCall.resolve():S.pullCall.reject(d(g.reason));break;case c.PULL:if(!E){C.postMessage({sourceName:b,targetName:v,stream:c.PULL_COMPLETE,streamId:y,success:!0});break}E.desiredSize<=0&&g.desiredSize>0&&E.sinkCapability.resolve(),E.desiredSize=g.desiredSize,new Promise(function(_){_(E.onPull&&E.onPull())}).then(function(){C.postMessage({sourceName:b,targetName:v,stream:c.PULL_COMPLETE,streamId:y,success:!0})},function(_){C.postMessage({sourceName:b,targetName:v,stream:c.PULL_COMPLETE,streamId:y,reason:d(_)})});break;case c.ENQUEUE:if((0,l.assert)(S,"enqueue should have stream controller"),S.isClosed)break;S.controller.enqueue(g.chunk);break;case c.CLOSE:if((0,l.assert)(S,"close should have stream controller"),S.isClosed)break;S.isClosed=!0,S.controller.close(),this._deleteStreamController(S,y);break;case c.ERROR:(0,l.assert)(S,"error should have stream controller"),S.controller.error(d(g.reason)),this._deleteStreamController(S,y);break;case c.CANCEL_COMPLETE:g.success?S.cancelCall.resolve():S.cancelCall.reject(d(g.reason)),this._deleteStreamController(S,y);break;case c.CANCEL:if(!E)break;new Promise(function(_){_(E.onCancel&&E.onCancel(d(g.reason)))}).then(function(){C.postMessage({sourceName:b,targetName:v,stream:c.CANCEL_COMPLETE,streamId:y,success:!0})},function(_){C.postMessage({sourceName:b,targetName:v,stream:c.CANCEL_COMPLETE,streamId:y,reason:d(_)})}),E.sinkCapability.reject(d(g.reason)),E.isCancelled=!0,delete this.streamSinks[y];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(g,y){await Promise.allSettled([g.startCall&&g.startCall.promise,g.pullCall&&g.pullCall.promise,g.cancelCall&&g.cancelCall.promise]),delete this.streamControllers[y]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=h},(t,e,a)=>{var c,d;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var l=a(1);class u{constructor({parsedData:m,rawData:g}){ze(this,c);ze(this,d);We(this,c,m),We(this,d,g)}getRaw(){return ne(this,d)}get(m){return ne(this,c).get(m)??null}getAll(){return(0,l.objectFromMap)(ne(this,c))}has(m){return ne(this,c).has(m)}}c=new WeakMap,d=new WeakMap,e.Metadata=u},(t,e,a)=>{var m,g,y,b,v,C,va;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var l=a(1),u=a(8);const c=Symbol("INTERNAL");class d{constructor(_,A){ze(this,m,!0);this.name=_,this.intent=A}get visible(){return ne(this,m)}_setVisible(_,A){_!==c&&(0,l.unreachable)("Internal method `_setVisible` called."),We(this,m,A)}}m=new WeakMap;class h{constructor(_){ze(this,C);ze(this,g,null);ze(this,y,new Map);ze(this,b,null);ze(this,v,null);if(this.name=null,this.creator=null,_!==null){this.name=_.name,this.creator=_.creator,We(this,v,_.order);for(const A of _.groups)ne(this,y).set(A.id,new d(A.name,A.intent));if(_.baseState==="OFF")for(const A of ne(this,y).values())A._setVisible(c,!1);for(const A of _.on)ne(this,y).get(A)._setVisible(c,!0);for(const A of _.off)ne(this,y).get(A)._setVisible(c,!1);We(this,b,this.getHash())}}isVisible(_){if(ne(this,y).size===0)return!0;if(!_)return(0,l.warn)("Optional content group not defined."),!0;if(_.type==="OCG")return ne(this,y).has(_.id)?ne(this,y).get(_.id).visible:((0,l.warn)(`Optional content group not found: ${_.id}`),!0);if(_.type==="OCMD"){if(_.expression)return $e(this,C,va).call(this,_.expression);if(!_.policy||_.policy==="AnyOn"){for(const A of _.ids){if(!ne(this,y).has(A))return(0,l.warn)(`Optional content group not found: ${A}`),!0;if(ne(this,y).get(A).visible)return!0}return!1}else if(_.policy==="AllOn"){for(const A of _.ids){if(!ne(this,y).has(A))return(0,l.warn)(`Optional content group not found: ${A}`),!0;if(!ne(this,y).get(A).visible)return!1}return!0}else if(_.policy==="AnyOff"){for(const A of _.ids){if(!ne(this,y).has(A))return(0,l.warn)(`Optional content group not found: ${A}`),!0;if(!ne(this,y).get(A).visible)return!0}return!1}else if(_.policy==="AllOff"){for(const A of _.ids){if(!ne(this,y).has(A))return(0,l.warn)(`Optional content group not found: ${A}`),!0;if(ne(this,y).get(A).visible)return!1}return!0}return(0,l.warn)(`Unknown optional content policy ${_.policy}.`),!0}return(0,l.warn)(`Unknown group type ${_.type}.`),!0}setVisibility(_,A=!0){if(!ne(this,y).has(_)){(0,l.warn)(`Optional content group not found: ${_}`);return}ne(this,y).get(_)._setVisible(c,!!A),We(this,g,null)}get hasInitialVisibility(){return this.getHash()===ne(this,b)}getOrder(){return ne(this,y).size?ne(this,v)?ne(this,v).slice():[...ne(this,y).keys()]:null}getGroups(){return ne(this,y).size>0?(0,l.objectFromMap)(ne(this,y)):null}getGroup(_){return ne(this,y).get(_)||null}getHash(){if(ne(this,g)!==null)return ne(this,g);const _=new u.MurmurHash3_64;for(const[A,R]of ne(this,y))_.update(`${A}:${R.visible}`);return We(this,g,_.hexdigest())}}g=new WeakMap,y=new WeakMap,b=new WeakMap,v=new WeakMap,C=new WeakSet,va=function(_){const A=_.length;if(A<2)return!0;const R=_[0];for(let k=1;k<A;k++){const M=_[k];let D;if(Array.isArray(M))D=$e(this,C,va).call(this,M);else if(ne(this,y).has(M))D=ne(this,y).get(M).visible;else return(0,l.warn)(`Optional content group not found: ${M}`),!0;switch(R){case"And":if(!D)return!1;break;case"Or":if(D)return!0;break;case"Not":return!D;default:return!0}}return R==="And"},e.OptionalContentConfig=h},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var l=a(1),u=a(6);class c{constructor({length:g,initialData:y,progressiveDone:b=!1,contentDispositionFilename:v=null,disableRange:C=!1,disableStream:S=!1},E){if((0,l.assert)(E,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=b,this._contentDispositionFilename=v,(y==null?void 0:y.length)>0){const _=y instanceof Uint8Array&&y.byteLength===y.buffer.byteLength?y.buffer:new Uint8Array(y).buffer;this._queuedChunks.push(_)}this._pdfDataRangeTransport=E,this._isStreamingSupported=!S,this._isRangeSupported=!C,this._contentLength=g,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((_,A)=>{this._onReceiveData({begin:_,chunk:A})}),this._pdfDataRangeTransport.addProgressListener((_,A)=>{this._onProgress({loaded:_,total:A})}),this._pdfDataRangeTransport.addProgressiveReadListener(_=>{this._onReceiveData({chunk:_})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:g,chunk:y}){const b=y instanceof Uint8Array&&y.byteLength===y.buffer.byteLength?y.buffer:new Uint8Array(y).buffer;if(g===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{const v=this._rangeReaders.some(function(C){return C._begin!==g?!1:(C._enqueue(b),!0)});(0,l.assert)(v,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var g;return((g=this._fullRequestReader)==null?void 0:g._loaded)??0}_onProgress(g){var y,b,v,C;g.total===void 0?(b=(y=this._rangeReaders[0])==null?void 0:y.onProgress)==null||b.call(y,{loaded:g.loaded}):(C=(v=this._fullRequestReader)==null?void 0:v.onProgress)==null||C.call(v,{loaded:g.loaded,total:g.total})}_onProgressiveDone(){var g;(g=this._fullRequestReader)==null||g.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(g){const y=this._rangeReaders.indexOf(g);y>=0&&this._rangeReaders.splice(y,1)}getFullReader(){(0,l.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const g=this._queuedChunks;return this._queuedChunks=null,new d(this,g,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(g,y){if(y<=this._progressiveDataLength)return null;const b=new h(this,g,y);return this._pdfDataRangeTransport.requestDataRange(g,y),this._rangeReaders.push(b),b}cancelAllRequests(g){var y;(y=this._fullRequestReader)==null||y.cancel(g);for(const b of this._rangeReaders.slice(0))b.cancel(g);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=c;class d{constructor(g,y,b=!1,v=null){this._stream=g,this._done=b||!1,this._filename=(0,u.isPdfFile)(v)?v:null,this._queuedChunks=y||[],this._loaded=0;for(const C of this._queuedChunks)this._loaded+=C.byteLength;this._requests=[],this._headersReady=Promise.resolve(),g._fullRequestReader=this,this.onProgress=null}_enqueue(g){this._done||(this._requests.length>0?this._requests.shift().resolve({value:g,done:!1}):this._queuedChunks.push(g),this._loaded+=g.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const g=(0,l.createPromiseCapability)();return this._requests.push(g),g.promise}cancel(g){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(g,y,b){this._stream=g,this._begin=y,this._end=b,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(g){if(!this._done){if(this._requests.length===0)this._queuedChunk=g;else{this._requests.shift().resolve({value:g,done:!1});for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const y=this._queuedChunk;return this._queuedChunk=null,{value:y,done:!1}}if(this._done)return{value:void 0,done:!0};const g=(0,l.createPromiseCapability)();return this._requests.push(g),g.promise}cancel(g){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class a{static textContent(u){const c=[],d={items:c,styles:Object.create(null)};function h(m){var b;if(!m)return;let g=null;const y=m.name;if(y==="#text")g=m.value;else if(a.shouldBuildText(y))(b=m==null?void 0:m.attributes)!=null&&b.textContent?g=m.attributes.textContent:m.value&&(g=m.value);else return;if(g!==null&&c.push({str:g}),!!m.children)for(const v of m.children)h(v)}return h(u),d}static shouldBuildText(u){return!(u==="textarea"||u==="input"||u==="option"||u==="select")}}e.XfaText=a},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var l=a(7);const u=function(m){return new Promise((g,y)=>{require$$5.readFile(m,(v,C)=>{if(v||!C){y(new Error(v));return}g(new Uint8Array(C))})})};class c extends l.BaseCanvasFactory{_createCanvas(g,y){return require$$5.createCanvas(g,y)}}e.NodeCanvasFactory=c;class d extends l.BaseCMapReaderFactory{_fetchData(g,y){return u(g).then(b=>({cMapData:b,compressionType:y}))}}e.NodeCMapReaderFactory=d;class h extends l.BaseStandardFontDataFactory{_fetchData(g){return u(g)}}e.NodeStandardFontDataFactory=h},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var l=a(1),u=a(22);const c=require$$5,d=require$$5,h=require$$5,m=require$$5,g=/^file:\/\/\/[a-zA-Z]:\//;function y(k){const M=m.parse(k);return M.protocol==="file:"||M.host?M:/^[a-z]:[/\\]/i.test(k)?m.parse(`file:///${k}`):(M.host||(M.protocol="file:"),M)}class b{constructor(M){this.source=M,this.url=y(M.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&M.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var M;return((M=this._fullRequestReader)==null?void 0:M._loaded)??0}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new A(this):new E(this),this._fullRequestReader}getRangeReader(M,D){if(D<=this._progressiveDataLength)return null;const B=this.isFsUrl?new R(this,M,D):new _(this,M,D);return this._rangeRequestReaders.push(B),B}cancelAllRequests(M){var D;(D=this._fullRequestReader)==null||D.cancel(M);for(const B of this._rangeRequestReaders.slice(0))B.cancel(M)}}e.PDFNodeStream=b;class v{constructor(M){this._url=M.url,this._done=!1,this._storedError=null,this.onProgress=null;const D=M.source;this._contentLength=D.length,this._loaded=0,this._filename=null,this._disableRange=D.disableRange||!1,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!D.disableStream,this._isRangeSupported=!D.disableRange,this._readableStream=null,this._readCapability=(0,l.createPromiseCapability)(),this._headersCapability=(0,l.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var B;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const M=this._readableStream.read();return M===null?(this._readCapability=(0,l.createPromiseCapability)(),this.read()):(this._loaded+=M.length,(B=this.onProgress)==null||B.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(M).buffer,done:!1})}cancel(M){if(!this._readableStream){this._error(M);return}this._readableStream.destroy(M)}_error(M){this._storedError=M,this._readCapability.resolve()}_setReadableStream(M){this._readableStream=M,M.on("readable",()=>{this._readCapability.resolve()}),M.on("end",()=>{M.destroy(),this._done=!0,this._readCapability.resolve()}),M.on("error",D=>{this._error(D)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new l.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class C{constructor(M){this._url=M.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,l.createPromiseCapability)();const D=M.source;this._isStreamingSupported=!D.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var B;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const M=this._readableStream.read();return M===null?(this._readCapability=(0,l.createPromiseCapability)(),this.read()):(this._loaded+=M.length,(B=this.onProgress)==null||B.call(this,{loaded:this._loaded}),{value:new Uint8Array(M).buffer,done:!1})}cancel(M){if(!this._readableStream){this._error(M);return}this._readableStream.destroy(M)}_error(M){this._storedError=M,this._readCapability.resolve()}_setReadableStream(M){this._readableStream=M,M.on("readable",()=>{this._readCapability.resolve()}),M.on("end",()=>{M.destroy(),this._done=!0,this._readCapability.resolve()}),M.on("error",D=>{this._error(D)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function S(k,M){return{protocol:k.protocol,auth:k.auth,host:k.hostname,port:k.port,path:k.path,method:"GET",headers:M}}class E extends v{constructor(M){super(M);const D=B=>{if(B.statusCode===404){const G=new l.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=G,this._headersCapability.reject(G);return}this._headersCapability.resolve(),this._setReadableStream(B);const U=G=>this._readableStream.headers[G.toLowerCase()],{allowRangeRequests:T,suggestedLength:$}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:M.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=T,this._contentLength=$||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(U)};this._request=null,this._url.protocol==="http:"?this._request=d.request(S(this._url,M.httpHeaders),D):this._request=h.request(S(this._url,M.httpHeaders),D),this._request.on("error",B=>{this._storedError=B,this._headersCapability.reject(B)}),this._request.end()}}class _ extends C{constructor(M,D,B){super(M),this._httpHeaders={};for(const T in M.httpHeaders){const $=M.httpHeaders[T];$!==void 0&&(this._httpHeaders[T]=$)}this._httpHeaders.Range=`bytes=${D}-${B-1}`;const U=T=>{if(T.statusCode===404){const $=new l.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=$;return}this._setReadableStream(T)};this._request=null,this._url.protocol==="http:"?this._request=d.request(S(this._url,this._httpHeaders),U):this._request=h.request(S(this._url,this._httpHeaders),U),this._request.on("error",T=>{this._storedError=T}),this._request.end()}}class A extends v{constructor(M){super(M);let D=decodeURIComponent(this._url.path);g.test(this._url.href)&&(D=D.replace(/^\//,"")),c.lstat(D,(B,U)=>{if(B){B.code==="ENOENT"&&(B=new l.MissingPDFException(`Missing PDF "${D}".`)),this._storedError=B,this._headersCapability.reject(B);return}this._contentLength=U.size,this._setReadableStream(c.createReadStream(D)),this._headersCapability.resolve()})}}class R extends C{constructor(M,D,B){super(M);let U=decodeURIComponent(this._url.path);g.test(this._url.href)&&(U=U.replace(/^\//,"")),this._setReadableStream(c.createReadStream(U,{start:D,end:B-1}))}}},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=m,e.extractFilenameFromHeader=h,e.validateRangeRequestCapabilities=d,e.validateResponseStatus=g;var l=a(1),u=a(23),c=a(6);function d({getResponseHeader:y,isHttp:b,rangeChunkSize:v,disableRange:C}){const S={allowRangeRequests:!1,suggestedLength:void 0},E=parseInt(y("Content-Length"),10);return!Number.isInteger(E)||(S.suggestedLength=E,E<=2*v)||C||!b||y("Accept-Ranges")!=="bytes"||(y("Content-Encoding")||"identity")!=="identity"||(S.allowRangeRequests=!0),S}function h(y){const b=y("Content-Disposition");if(b){let v=(0,u.getFilenameFromContentDispositionHeader)(b);if(v.includes("%"))try{v=decodeURIComponent(v)}catch{}if((0,c.isPdfFile)(v))return v}return null}function m(y,b){return y===404||y===0&&b.startsWith("file:")?new l.MissingPDFException('Missing PDF "'+b+'".'):new l.UnexpectedResponseException(`Unexpected server response (${y}) while retrieving PDF "${b}".`,y)}function g(y){return y===200||y===206}},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=u;var l=a(1);function u(c){let d=!0,h=m("filename\\*","i").exec(c);if(h){h=h[1];let E=v(h);return E=unescape(E),E=C(E),E=S(E),y(E)}if(h=b(c),h){const E=S(h);return y(E)}if(h=m("filename","i").exec(c),h){h=h[1];let E=v(h);return E=S(E),y(E)}function m(E,_){return new RegExp("(?:^|;)\\s*"+E+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_)}function g(E,_){if(E){if(!/^[\x00-\xFF]+$/.test(_))return _;try{const A=new TextDecoder(E,{fatal:!0}),R=(0,l.stringToBytes)(_);_=A.decode(R),d=!1}catch{}}return _}function y(E){return d&&/[\x80-\xff]/.test(E)&&(E=g("utf-8",E),d&&(E=g("iso-8859-1",E))),E}function b(E){const _=[];let A;const R=m("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(A=R.exec(E))!==null;){let[,M,D,B]=A;if(M=parseInt(M,10),M in _){if(M===0)break;continue}_[M]=[D,B]}const k=[];for(let M=0;M<_.length&&M in _;++M){let[D,B]=_[M];B=v(B),D&&(B=unescape(B),M===0&&(B=C(B))),k.push(B)}return k.join("")}function v(E){if(E.startsWith('"')){const _=E.slice(1).split('\\"');for(let A=0;A<_.length;++A){const R=_[A].indexOf('"');R!==-1&&(_[A]=_[A].slice(0,R),_.length=A+1),_[A]=_[A].replace(/\\(.)/g,"$1")}E=_.join('"')}return E}function C(E){const _=E.indexOf("'");if(_===-1)return E;const A=E.slice(0,_),k=E.slice(_+1).replace(/^[^']*'/,"");return g(A,k)}function S(E){return!E.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(E)?E:E.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,A,R,k){if(R==="q"||R==="Q")return k=k.replace(/_/g," "),k=k.replace(/=([0-9a-fA-F]{2})/g,function(M,D){return String.fromCharCode(parseInt(D,16))}),g(A,k);try{k=atob(k)}catch{}return g(A,k)})}return""}},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var l=a(1),u=a(22);const c=200,d=206;function h(v){const C=v.response;return typeof C!="string"?C:(0,l.stringToBytes)(C).buffer}class m{constructor(C,S={}){this.url=C,this.isHttp=/^https?:/i.test(C),this.httpHeaders=this.isHttp&&S.httpHeaders||Object.create(null),this.withCredentials=S.withCredentials||!1,this.getXhr=S.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(C,S,E){const _={begin:C,end:S};for(const A in E)_[A]=E[A];return this.request(_)}requestFull(C){return this.request(C)}request(C){const S=this.getXhr(),E=this.currXhrId++,_=this.pendingRequests[E]={xhr:S};S.open("GET",this.url),S.withCredentials=this.withCredentials;for(const A in this.httpHeaders){const R=this.httpHeaders[A];R!==void 0&&S.setRequestHeader(A,R)}return this.isHttp&&"begin"in C&&"end"in C?(S.setRequestHeader("Range",`bytes=${C.begin}-${C.end-1}`),_.expectedStatus=d):_.expectedStatus=c,S.responseType="arraybuffer",C.onError&&(S.onerror=function(A){C.onError(S.status)}),S.onreadystatechange=this.onStateChange.bind(this,E),S.onprogress=this.onProgress.bind(this,E),_.onHeadersReceived=C.onHeadersReceived,_.onDone=C.onDone,_.onError=C.onError,_.onProgress=C.onProgress,S.send(null),E}onProgress(C,S){var _;const E=this.pendingRequests[C];E&&((_=E.onProgress)==null||_.call(E,S))}onStateChange(C,S){var M,D,B;const E=this.pendingRequests[C];if(!E)return;const _=E.xhr;if(_.readyState>=2&&E.onHeadersReceived&&(E.onHeadersReceived(),delete E.onHeadersReceived),_.readyState!==4||!(C in this.pendingRequests))return;if(delete this.pendingRequests[C],_.status===0&&this.isHttp){(M=E.onError)==null||M.call(E,_.status);return}const A=_.status||c;if(!(A===c&&E.expectedStatus===d)&&A!==E.expectedStatus){(D=E.onError)==null||D.call(E,_.status);return}const k=h(_);if(A===d){const U=_.getResponseHeader("Content-Range"),T=/bytes (\d+)-(\d+)\/(\d+)/.exec(U);E.onDone({begin:parseInt(T[1],10),chunk:k})}else k?E.onDone({begin:0,chunk:k}):(B=E.onError)==null||B.call(E,_.status)}getRequestXhr(C){return this.pendingRequests[C].xhr}isPendingRequest(C){return C in this.pendingRequests}abortRequest(C){const S=this.pendingRequests[C].xhr;delete this.pendingRequests[C],S.abort()}}class g{constructor(C){this._source=C,this._manager=new m(C.url,{httpHeaders:C.httpHeaders,withCredentials:C.withCredentials}),this._rangeChunkSize=C.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(C){const S=this._rangeRequestReaders.indexOf(C);S>=0&&this._rangeRequestReaders.splice(S,1)}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new y(this._manager,this._source),this._fullRequestReader}getRangeReader(C,S){const E=new b(this._manager,C,S);return E.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(E),E}cancelAllRequests(C){var S;(S=this._fullRequestReader)==null||S.cancel(C);for(const E of this._rangeRequestReaders.slice(0))E.cancel(C)}}e.PDFNetworkStream=g;class y{constructor(C,S){this._manager=C;const E={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._fullRequestId=C.requestFull(E),this._headersReceivedCapability=(0,l.createPromiseCapability)(),this._disableRange=S.disableRange||!1,this._contentLength=S.length,this._rangeChunkSize=S.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const C=this._fullRequestId,S=this._manager.getRequestXhr(C),E=R=>S.getResponseHeader(R),{allowRangeRequests:_,suggestedLength:A}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:E,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});_&&(this._isRangeSupported=!0),this._contentLength=A||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(E),this._isRangeSupported&&this._manager.abortRequest(C),this._headersReceivedCapability.resolve()}_onDone(C){if(C&&(this._requests.length>0?this._requests.shift().resolve({value:C.chunk,done:!1}):this._cachedChunks.push(C.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(C){this._storedError=(0,u.createResponseStatusError)(C,this._url),this._headersReceivedCapability.reject(this._storedError);for(const S of this._requests)S.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(C){var S;(S=this.onProgress)==null||S.call(this,{loaded:C.loaded,total:C.lengthComputable?C.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const C=(0,l.createPromiseCapability)();return this._requests.push(C),C.promise}cancel(C){this._done=!0,this._headersReceivedCapability.reject(C);for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class b{constructor(C,S,E){this._manager=C;const _={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=C.url,this._requestId=C.requestRange(S,E,_),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var C;(C=this.onClosed)==null||C.call(this,this)}_onDone(C){const S=C.chunk;this._requests.length>0?this._requests.shift().resolve({value:S,done:!1}):this._queuedChunk=S,this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(C){this._storedError=(0,u.createResponseStatusError)(C,this._url);for(const S of this._requests)S.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(C){var S;this.isStreamingSupported||(S=this.onProgress)==null||S.call(this,{loaded:C.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const S=this._queuedChunk;return this._queuedChunk=null,{value:S,done:!1}}if(this._done)return{value:void 0,done:!0};const C=(0,l.createPromiseCapability)();return this._requests.push(C),C.promise}cancel(C){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var l=a(1),u=a(22);function c(b,v,C){return{method:"GET",headers:b,signal:C.signal,mode:"cors",credentials:v?"include":"same-origin",redirect:"follow"}}function d(b){const v=new Headers;for(const C in b){const S=b[C];S!==void 0&&v.append(C,S)}return v}function h(b){return b instanceof Uint8Array?b.buffer:b instanceof ArrayBuffer?b:((0,l.warn)(`getArrayBuffer - unexpected data format: ${b}`),new Uint8Array(b).buffer)}class m{constructor(v){this.source=v,this.isHttp=/^https?:/i.test(v.url),this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var v;return((v=this._fullRequestReader)==null?void 0:v._loaded)??0}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g(this),this._fullRequestReader}getRangeReader(v,C){if(C<=this._progressiveDataLength)return null;const S=new y(this,v,C);return this._rangeRequestReaders.push(S),S}cancelAllRequests(v){var C;(C=this._fullRequestReader)==null||C.cancel(v);for(const S of this._rangeRequestReaders.slice(0))S.cancel(v)}}e.PDFFetchStream=m;class g{constructor(v){this._stream=v,this._reader=null,this._loaded=0,this._filename=null;const C=v.source;this._withCredentials=C.withCredentials||!1,this._contentLength=C.length,this._headersCapability=(0,l.createPromiseCapability)(),this._disableRange=C.disableRange||!1,this._rangeChunkSize=C.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!C.disableStream,this._isRangeSupported=!C.disableRange,this._headers=d(this._stream.httpHeaders);const S=C.url;fetch(S,c(this._headers,this._withCredentials,this._abortController)).then(E=>{if(!(0,u.validateResponseStatus)(E.status))throw(0,u.createResponseStatusError)(E.status,S);this._reader=E.body.getReader(),this._headersCapability.resolve();const _=k=>E.headers.get(k),{allowRangeRequests:A,suggestedLength:R}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=R||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(_),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new l.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var S;await this._headersCapability.promise;const{value:v,done:C}=await this._reader.read();return C?{value:v,done:C}:(this._loaded+=v.byteLength,(S=this.onProgress)==null||S.call(this,{loaded:this._loaded,total:this._contentLength}),{value:h(v),done:!1})}cancel(v){var C;(C=this._reader)==null||C.cancel(v),this._abortController.abort()}}class y{constructor(v,C,S){this._stream=v,this._reader=null,this._loaded=0;const E=v.source;this._withCredentials=E.withCredentials||!1,this._readCapability=(0,l.createPromiseCapability)(),this._isStreamingSupported=!E.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${C}-${S-1}`);const _=E.url;fetch(_,c(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,u.validateResponseStatus)(A.status))throw(0,u.createResponseStatusError)(A.status,_);this._readCapability.resolve(),this._reader=A.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var S;await this._readCapability.promise;const{value:v,done:C}=await this._reader.read();return C?{value:v,done:C}:(this._loaded+=v.byteLength,(S=this.onProgress)==null||S.call(this,{loaded:this._loaded}),{value:h(v),done:!1})}cancel(v){var C;(C=this._reader)==null||C.cancel(v),this._abortController.abort()}}},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=E,e.updateTextLayer=_;var l=a(1),u=a(6);const c=1e5,d=30,h=.8,m=new Map;function g(A,R){let k;if(R&&l.FeatureTest.isOffscreenCanvasSupported)k=new OffscreenCanvas(A,A).getContext("2d",{alpha:!1});else{const M=document.createElement("canvas");M.width=M.height=A,k=M.getContext("2d",{alpha:!1})}return k}function y(A,R){const k=m.get(A);if(k)return k;const M=g(d,R);M.font=`${d}px ${A}`;const D=M.measureText("");let B=D.fontBoundingBoxAscent,U=Math.abs(D.fontBoundingBoxDescent);if(B){const $=B/(B+U);return m.set(A,$),M.canvas.width=M.canvas.height=0,$}M.strokeStyle="red",M.clearRect(0,0,d,d),M.strokeText("g",0,0);let T=M.getImageData(0,0,d,d).data;U=0;for(let $=T.length-1-3;$>=0;$-=4)if(T[$]>0){U=Math.ceil($/4/d);break}M.clearRect(0,0,d,d),M.strokeText("A",0,d),T=M.getImageData(0,0,d,d).data,B=0;for(let $=0,G=T.length;$<G;$+=4)if(T[$]>0){B=d-Math.floor($/4/d);break}if(M.canvas.width=M.canvas.height=0,B){const $=B/(B+U);return m.set(A,$),$}return m.set(A,h),h}function b(A,R,k){const M=document.createElement("span"),D={angle:0,canvasWidth:0,hasText:R.str!=="",hasEOL:R.hasEOL,fontSize:0};A._textDivs.push(M);const B=l.Util.transform(A._transform,R.transform);let U=Math.atan2(B[1],B[0]);const T=k[R.fontName];T.vertical&&(U+=Math.PI/2);const $=Math.hypot(B[2],B[3]),G=$*y(T.fontFamily,A._isOffscreenCanvasSupported);let ue,te;U===0?(ue=B[4],te=B[5]-G):(ue=B[4]+G*Math.sin(U),te=B[5]-G*Math.cos(U));const Se="calc(var(--scale-factor)*",he=M.style;A._container===A._rootContainer?(he.left=`${(100*ue/A._pageWidth).toFixed(2)}%`,he.top=`${(100*te/A._pageHeight).toFixed(2)}%`):(he.left=`${Se}${ue.toFixed(2)}px)`,he.top=`${Se}${te.toFixed(2)}px)`),he.fontSize=`${Se}${$.toFixed(2)}px)`,he.fontFamily=T.fontFamily,D.fontSize=$,M.setAttribute("role","presentation"),M.textContent=R.str,M.dir=R.dir,A._fontInspectorEnabled&&(M.dataset.fontName=R.fontName),U!==0&&(D.angle=U*(180/Math.PI));let Te=!1;if(R.str.length>1)Te=!0;else if(R.str!==" "&&R.transform[0]!==R.transform[3]){const ve=Math.abs(R.transform[0]),ce=Math.abs(R.transform[3]);ve!==ce&&Math.max(ve,ce)/Math.min(ve,ce)>1.5&&(Te=!0)}Te&&(D.canvasWidth=T.vertical?R.height:R.width),A._textDivProperties.set(M,D),A._isReadableStream&&A._layoutText(M)}function v(A){const{div:R,scale:k,properties:M,ctx:D,prevFontSize:B,prevFontFamily:U}=A,{style:T}=R;let $="";if(M.canvasWidth!==0&&M.hasText){const{fontFamily:G}=T,{canvasWidth:ue,fontSize:te}=M;(B!==te||U!==G)&&(D.font=`${te*k}px ${G}`,A.prevFontSize=te,A.prevFontFamily=G);const{width:Se}=D.measureText(R.textContent);Se>0&&($=`scaleX(${ue*k/Se})`)}M.angle!==0&&($=`rotate(${M.angle}deg) ${$}`),$.length>0&&(T.transform=$)}function C(A){if(A._canceled)return;const R=A._textDivs,k=A._capability;if(R.length>c){k.resolve();return}if(!A._isReadableStream)for(const D of R)A._layoutText(D);k.resolve()}class S{constructor({textContentSource:R,container:k,viewport:M,textDivs:D,textDivProperties:B,textContentItemsStr:U,isOffscreenCanvasSupported:T}){var Se;this._textContentSource=R,this._isReadableStream=R instanceof ReadableStream,this._container=this._rootContainer=k,this._textDivs=D||[],this._textContentItemsStr=U||[],this._isOffscreenCanvasSupported=T,this._fontInspectorEnabled=!!((Se=globalThis.FontInspector)!=null&&Se.enabled),this._reader=null,this._textDivProperties=B||new WeakMap,this._canceled=!1,this._capability=(0,l.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:M.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:g(0,T)};const{pageWidth:$,pageHeight:G,pageX:ue,pageY:te}=M.rawDims;this._transform=[1,0,0,-1,-ue,te+G],this._pageWidth=$,this._pageHeight=G,(0,u.setLayerDimensions)(k,M),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new l.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new l.AbortException("TextLayer task cancelled."))}_processItems(R,k){for(const M of R){if(M.str===void 0){if(M.type==="beginMarkedContentProps"||M.type==="beginMarkedContent"){const D=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),M.id!==null&&this._container.setAttribute("id",`${M.id}`),D.append(this._container)}else M.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(M.str),b(this,M,k)}}_layoutText(R){const k=this._layoutTextParams.properties=this._textDivProperties.get(R);if(this._layoutTextParams.div=R,v(this._layoutTextParams),k.hasText&&this._container.append(R),k.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),this._container.append(M)}}_render(){const R=(0,l.createPromiseCapability)();let k=Object.create(null);if(this._isReadableStream){const M=()=>{this._reader.read().then(({value:D,done:B})=>{if(B){R.resolve();return}Object.assign(k,D.styles),this._processItems(D.items,k),M()},R.reject)};this._reader=this._textContentSource.getReader(),M()}else if(this._textContentSource){const{items:M,styles:D}=this._textContentSource;this._processItems(M,D),R.resolve()}else throw new Error('No "textContentSource" parameter specified.');R.promise.then(()=>{k=null,C(this)},this._capability.reject)}}e.TextLayerRenderTask=S;function E(A){!A.textContentSource&&(A.textContent||A.textContentStream)&&((0,u.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),A.textContentSource=A.textContent||A.textContentStream);const R=new S(A);return R._render(),R}function _({container:A,viewport:R,textDivs:k,textDivProperties:M,isOffscreenCanvasSupported:D,mustRotate:B=!0,mustRescale:U=!0}){if(B&&(0,u.setLayerDimensions)(A,{rotation:R.rotation}),U){const T=g(0,D),G={prevFontSize:null,prevFontFamily:null,div:null,scale:R.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:T};for(const ue of k)G.properties=M.get(ue),G.div=ue,v(G)}}},(t,e,a)=>{var g,y,b,v,C,S,E,_,A,Sa,_c,Ca,wa;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var l=a(1),u=a(5),c=a(28),d=a(29),h=a(6);const B=class B{constructor(T){ze(this,A);ze(this,g);ze(this,y,!1);ze(this,b,this.pointerup.bind(this));ze(this,v,this.pointerdown.bind(this));ze(this,C,new Map);ze(this,S,!1);ze(this,E,!1);ze(this,_);B._initialized||(B._initialized=!0,c.FreeTextEditor.initialize(T.l10n),d.InkEditor.initialize(T.l10n)),T.uiManager.registerEditorTypes([c.FreeTextEditor,d.InkEditor]),We(this,_,T.uiManager),this.pageIndex=T.pageIndex,this.div=T.div,We(this,g,T.accessibilityManager),ne(this,_).addLayer(this)}get isEmpty(){return ne(this,C).size===0}updateToolbar(T){ne(this,_).updateToolbar(T)}updateMode(T=ne(this,_).getMode()){$e(this,A,wa).call(this),T===l.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ne(this,_).unselectAll(),T!==l.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",T===l.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",T===l.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(T){if(!T&&ne(this,_).getMode()!==l.AnnotationEditorType.INK)return;if(!T){for(const G of ne(this,C).values())if(G.isEmpty()){G.setInBackground();return}}$e(this,A,Ca).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(T){ne(this,_).setEditingState(T)}addCommands(T){ne(this,_).addCommands(T)}enable(){this.div.style.pointerEvents="auto";for(const T of ne(this,C).values())T.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const T of ne(this,C).values())T.disableEditing();$e(this,A,wa).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(T){ne(this,_).getActive()!==T&&ne(this,_).setActiveEditor(T)}enableClick(){this.div.addEventListener("pointerdown",ne(this,v)),this.div.addEventListener("pointerup",ne(this,b))}disableClick(){this.div.removeEventListener("pointerdown",ne(this,v)),this.div.removeEventListener("pointerup",ne(this,b))}attach(T){ne(this,C).set(T.id,T)}detach(T){var $;ne(this,C).delete(T.id),($=ne(this,g))==null||$.removePointerInTextLayer(T.contentDiv)}remove(T){ne(this,_).removeEditor(T),this.detach(T),T.div.style.display="none",setTimeout(()=>{T.div.style.display="",T.div.remove(),T.isAttachedToDOM=!1,document.activeElement===document.body&&ne(this,_).focusMainContainer()},0),ne(this,E)||this.addInkEditorIfNeeded(!1)}add(T){if($e(this,A,Sa).call(this,T),ne(this,_).addEditor(T),this.attach(T),!T.isAttachedToDOM){const $=T.render();this.div.append($),T.isAttachedToDOM=!0}this.moveEditorInDOM(T),T.onceAdded(),ne(this,_).addToAnnotationStorage(T)}moveEditorInDOM(T){var $;($=ne(this,g))==null||$.moveElementInDOM(this.div,T.div,T.contentDiv,!0)}addOrRebuild(T){T.needsToBeRebuilt()?T.rebuild():this.add(T)}addANewEditor(T){const $=()=>{this.addOrRebuild(T)},G=()=>{T.remove()};this.addCommands({cmd:$,undo:G,mustExec:!0})}addUndoableEditor(T){const $=()=>{this.addOrRebuild(T)},G=()=>{T.remove()};this.addCommands({cmd:$,undo:G,mustExec:!1})}getNextId(){return ne(this,_).getId()}deserialize(T){switch(T.annotationType){case l.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(T,this,ne(this,_));case l.AnnotationEditorType.INK:return d.InkEditor.deserialize(T,this,ne(this,_))}return null}setSelected(T){ne(this,_).setSelected(T)}toggleSelected(T){ne(this,_).toggleSelected(T)}isSelected(T){return ne(this,_).isSelected(T)}unselect(T){ne(this,_).unselect(T)}pointerup(T){const{isMac:$}=l.FeatureTest.platform;if(!(T.button!==0||T.ctrlKey&&$)&&T.target===this.div&&ne(this,S)){if(We(this,S,!1),!ne(this,y)){We(this,y,!0);return}$e(this,A,Ca).call(this,T)}}pointerdown(T){const{isMac:$}=l.FeatureTest.platform;if(T.button!==0||T.ctrlKey&&$||T.target!==this.div)return;We(this,S,!0);const G=ne(this,_).getActive();We(this,y,!G||G.isEmpty())}drop(T){const $=T.dataTransfer.getData("text/plain"),G=ne(this,_).getEditor($);if(!G)return;T.preventDefault(),T.dataTransfer.dropEffect="move",$e(this,A,Sa).call(this,G);const ue=this.div.getBoundingClientRect(),te=T.clientX-ue.x,Se=T.clientY-ue.y;G.translate(te-G.startX,Se-G.startY),this.moveEditorInDOM(G),G.div.focus()}dragover(T){T.preventDefault()}destroy(){var T,$;((T=ne(this,_).getActive())==null?void 0:T.parent)===this&&ne(this,_).setActiveEditor(null);for(const G of ne(this,C).values())($=ne(this,g))==null||$.removePointerInTextLayer(G.contentDiv),G.setParent(null),G.isAttachedToDOM=!1,G.div.remove();this.div=null,ne(this,C).clear(),ne(this,_).removeLayer(this)}render({viewport:T}){this.viewport=T,(0,h.setLayerDimensions)(this.div,T),(0,u.bindEvents)(this,this.div,["dragover","drop"]);for(const $ of ne(this,_).getEditors(this.pageIndex))this.add($);this.updateMode()}update({viewport:T}){ne(this,_).commitOrRemove(),this.viewport=T,(0,h.setLayerDimensions)(this.div,{rotation:T.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:T,pageHeight:$}=this.viewport.rawDims;return[T,$]}};g=new WeakMap,y=new WeakMap,b=new WeakMap,v=new WeakMap,C=new WeakMap,S=new WeakMap,E=new WeakMap,_=new WeakMap,A=new WeakSet,Sa=function(T){var $;T.parent!==this&&(this.attach(T),($=T.parent)==null||$.detach(T),T.setParent(this),T.div&&T.isAttachedToDOM&&(T.div.remove(),this.div.append(T.div)))},_c=function(T){switch(ne(this,_).getMode()){case l.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(T);case l.AnnotationEditorType.INK:return new d.InkEditor(T)}return null},Ca=function(T){const $=this.getNextId(),G=$e(this,A,_c).call(this,{parent:this,id:$,x:T.offsetX,y:T.offsetY,uiManager:ne(this,_)});return G&&this.add(G),G},wa=function(){We(this,E,!0);for(const T of ne(this,C).values())T.isEmpty()&&T.remove();We(this,E,!1)},dt(B,"_initialized",!1);let m=B;e.AnnotationEditorLayer=m},(t,e,a)=>{var h,m,g,y,b,v,C,S,E,_,wc,kc,Ac,ka;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var l=a(1),u=a(5),c=a(4);const D=class D extends c.AnnotationEditor{constructor(T){super({...T,name:"freeTextEditor"});ze(this,_);ze(this,h,this.editorDivBlur.bind(this));ze(this,m,this.editorDivFocus.bind(this));ze(this,g,this.editorDivInput.bind(this));ze(this,y,this.editorDivKeydown.bind(this));ze(this,b);ze(this,v,"");ze(this,C,`${this.id}-editor`);ze(this,S,!1);ze(this,E);We(this,b,T.color||D._defaultColor||c.AnnotationEditor._defaultLineColor),We(this,E,T.fontSize||D._defaultFontSize)}static initialize(T){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(G=>[G,T.get(G)]));const $=getComputedStyle(document.documentElement);this._internalPadding=parseFloat($.getPropertyValue("--freetext-padding"))}static updateDefaultParams(T,$){switch(T){case l.AnnotationEditorParamsType.FREETEXT_SIZE:D._defaultFontSize=$;break;case l.AnnotationEditorParamsType.FREETEXT_COLOR:D._defaultColor=$;break}}updateParams(T,$){switch(T){case l.AnnotationEditorParamsType.FREETEXT_SIZE:$e(this,_,wc).call(this,$);break;case l.AnnotationEditorParamsType.FREETEXT_COLOR:$e(this,_,kc).call(this,$);break}}static get defaultPropertiesToUpdate(){return[[l.AnnotationEditorParamsType.FREETEXT_SIZE,D._defaultFontSize],[l.AnnotationEditorParamsType.FREETEXT_COLOR,D._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[l.AnnotationEditorParamsType.FREETEXT_SIZE,ne(this,E)],[l.AnnotationEditorParamsType.FREETEXT_COLOR,ne(this,b)]]}getInitialTranslation(){const T=this.parentScale;return[-D._internalPadding*T,-(D._internalPadding+ne(this,E))*T]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(l.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ne(this,y)),this.editorDiv.addEventListener("focus",ne(this,m)),this.editorDiv.addEventListener("blur",ne(this,h)),this.editorDiv.addEventListener("input",ne(this,g)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ne(this,C)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",ne(this,y)),this.editorDiv.removeEventListener("focus",ne(this,m)),this.editorDiv.removeEventListener("blur",ne(this,h)),this.editorDiv.removeEventListener("input",ne(this,g)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(T){super.focusin(T),T.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),ne(this,S)||(We(this,S,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),We(this,v,$e(this,_,Ac).call(this).trimEnd()),$e(this,_,ka).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(T){this.enableEditMode(),this.editorDiv.focus()}keydown(T){T.target===this.div&&T.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(T){D._keyboardManager.exec(this,T)}editorDivFocus(T){this.isEditing=!0}editorDivBlur(T){this.isEditing=!1}editorDivInput(T){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let T,$;this.width&&(T=this.x,$=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ne(this,C)),this.enableEditing(),D._l10nPromise.get("editor_free_text2_aria_label").then(ue=>{var te;return(te=this.editorDiv)==null?void 0:te.setAttribute("aria-label",ue)}),D._l10nPromise.get("free_text2_default_content").then(ue=>{var te;return(te=this.editorDiv)==null?void 0:te.setAttribute("default-content",ue)}),this.editorDiv.contentEditable=!0;const{style:G}=this.editorDiv;if(G.fontSize=`calc(${ne(this,E)}px * var(--scale-factor))`,G.color=ne(this,b),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,u.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ue,te]=this.parentDimensions;this.setAt(T*ue,$*te,this.width*ue,this.height*te);for(const Se of ne(this,v).split(`
`)){const he=document.createElement("div");he.append(Se?document.createTextNode(Se):document.createElement("br")),this.editorDiv.append(he)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(T,$,G){const ue=super.deserialize(T,$,G);return We(ue,E,T.fontSize),We(ue,b,l.Util.makeHexColor(...T.color)),We(ue,v,T.value),ue}serialize(){if(this.isEmpty())return null;const T=D._internalPadding*this.parentScale,$=this.getRect(T,T),G=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ne(this,b));return{annotationType:l.AnnotationEditorType.FREETEXT,color:G,fontSize:ne(this,E),value:ne(this,v),pageIndex:this.pageIndex,rect:$,rotation:this.rotation}}};h=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,b=new WeakMap,v=new WeakMap,C=new WeakMap,S=new WeakMap,E=new WeakMap,_=new WeakSet,wc=function(T){const $=ue=>{this.editorDiv.style.fontSize=`calc(${ue}px * var(--scale-factor))`,this.translate(0,-(ue-ne(this,E))*this.parentScale),We(this,E,ue),$e(this,_,ka).call(this)},G=ne(this,E);this.addCommands({cmd:()=>{$(T)},undo:()=>{$(G)},mustExec:!0,type:l.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},kc=function(T){const $=ne(this,b);this.addCommands({cmd:()=>{We(this,b,this.editorDiv.style.color=T)},undo:()=>{We(this,b,this.editorDiv.style.color=$)},mustExec:!0,type:l.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ac=function(){const T=this.editorDiv.getElementsByTagName("div");if(T.length===0)return this.editorDiv.innerText;const $=[];for(const G of T)$.push(G.innerText.replace(/\r\n?|\n/,""));return $.join(`
`)},ka=function(){const[T,$]=this.parentDimensions;let G;if(this.isAttachedToDOM)G=this.div.getBoundingClientRect();else{const{currentLayer:ue,div:te}=this,Se=te.style.display;te.style.display="hidden",ue.div.append(this.div),G=te.getBoundingClientRect(),te.remove(),te.style.display=Se}this.width=G.width/T,this.height=G.height/$},dt(D,"_freeTextDefaultContent",""),dt(D,"_l10nPromise"),dt(D,"_internalPadding",0),dt(D,"_defaultColor",null),dt(D,"_defaultFontSize",10),dt(D,"_keyboardManager",new u.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],D.prototype.commitOrRemove]])),dt(D,"_type","freetext");let d=D;e.FreeTextEditor=d},(t,e,a)=>{var y,b,v,C,S,E,_,A,R,k,M,D,B,U,T,Tc,Rc,Mc,Pc,Aa,Oc,Nc,Dc,xn,Ta,Ai,Ti,Dr,Ra,Ri,H,Ma,Ic,Fc,Lc,Pa,Mi,Ir,Oa;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return c.fitCurve}});var l=a(1),u=a(4),c=a(30),d=a(5);const h=16,m=100,V=class V extends u.AnnotationEditor{constructor(q){super({...q,name:"inkEditor"});ze(this,T);ze(this,y,0);ze(this,b,0);ze(this,v,0);ze(this,C,this.canvasPointermove.bind(this));ze(this,S,this.canvasPointerleave.bind(this));ze(this,E,this.canvasPointerup.bind(this));ze(this,_,this.canvasPointerdown.bind(this));ze(this,A,!1);ze(this,R,!1);ze(this,k,null);ze(this,M,null);ze(this,D,0);ze(this,B,0);ze(this,U,null);this.color=q.color||null,this.thickness=q.thickness||null,this.opacity=q.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(q){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(de=>[de,q.get(de)]))}static updateDefaultParams(q,de){switch(q){case l.AnnotationEditorParamsType.INK_THICKNESS:V._defaultThickness=de;break;case l.AnnotationEditorParamsType.INK_COLOR:V._defaultColor=de;break;case l.AnnotationEditorParamsType.INK_OPACITY:V._defaultOpacity=de/100;break}}updateParams(q,de){switch(q){case l.AnnotationEditorParamsType.INK_THICKNESS:$e(this,T,Tc).call(this,de);break;case l.AnnotationEditorParamsType.INK_COLOR:$e(this,T,Rc).call(this,de);break;case l.AnnotationEditorParamsType.INK_OPACITY:$e(this,T,Mc).call(this,de);break}}static get defaultPropertiesToUpdate(){return[[l.AnnotationEditorParamsType.INK_THICKNESS,V._defaultThickness],[l.AnnotationEditorParamsType.INK_COLOR,V._defaultColor||u.AnnotationEditor._defaultLineColor],[l.AnnotationEditorParamsType.INK_OPACITY,Math.round(V._defaultOpacity*100)]]}get propertiesToUpdate(){return[[l.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||V._defaultThickness],[l.AnnotationEditorParamsType.INK_COLOR,this.color||V._defaultColor||u.AnnotationEditor._defaultLineColor],[l.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??V._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||($e(this,T,Ai).call(this),$e(this,T,Ti).call(this)),this.isAttachedToDOM||(this.parent.add(this),$e(this,T,Dr).call(this)),$e(this,T,Ir).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ne(this,M).disconnect(),We(this,M,null),super.remove())}setParent(q){!this.parent&&q?this._uiManager.removeShouldRescale(this):this.parent&&q===null&&this._uiManager.addShouldRescale(this),super.setParent(q)}onScaleChanging(){const[q,de]=this.parentDimensions,be=this.width*q,Ee=this.height*de;this.setDimensions(be,Ee)}enableEditMode(){ne(this,A)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",ne(this,_)),this.canvas.addEventListener("pointerup",ne(this,E)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ne(this,_)),this.canvas.removeEventListener("pointerup",ne(this,E)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ne(this,A)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),We(this,A,!0),this.div.classList.add("disabled"),$e(this,T,Ir).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(q){super.focusin(q),this.enableEditMode()}canvasPointerdown(q){q.button!==0||!this.isInEditMode()||ne(this,A)||(this.setInForeground(),q.type!=="mouse"&&this.div.focus(),q.stopPropagation(),this.canvas.addEventListener("pointerleave",ne(this,S)),this.canvas.addEventListener("pointermove",ne(this,C)),$e(this,T,Oc).call(this,q.offsetX,q.offsetY))}canvasPointermove(q){q.stopPropagation(),$e(this,T,Nc).call(this,q.offsetX,q.offsetY)}canvasPointerup(q){q.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(q.stopPropagation(),$e(this,T,Ta).call(this,q),this.setInBackground())}canvasPointerleave(q){$e(this,T,Ta).call(this,q),this.setInBackground()}render(){if(this.div)return this.div;let q,de;this.width&&(q=this.x,de=this.y),super.render(),V._l10nPromise.get("editor_ink2_aria_label").then(W=>{var Y;return(Y=this.div)==null?void 0:Y.setAttribute("aria-label",W)});const[be,Ee,Pe,fe]=$e(this,T,Pc).call(this);if(this.setAt(be,Ee,0,0),this.setDims(Pe,fe),$e(this,T,Ai).call(this),this.width){const[W,Y]=this.parentDimensions;this.setAt(q*W,de*Y,this.width*W,this.height*Y),We(this,R,!0),$e(this,T,Dr).call(this),this.setDims(this.width*W,this.height*Y),$e(this,T,xn).call(this),$e(this,T,Oa).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return $e(this,T,Ti).call(this),this.div}setDimensions(q,de){const be=Math.round(q),Ee=Math.round(de);if(ne(this,D)===be&&ne(this,B)===Ee)return;We(this,D,be),We(this,B,Ee),this.canvas.style.visibility="hidden",ne(this,y)&&Math.abs(ne(this,y)-q/de)>.01&&(de=Math.ceil(q/ne(this,y)),this.setDims(q,de));const[Pe,fe]=this.parentDimensions;this.width=q/Pe,this.height=de/fe,ne(this,A)&&$e(this,T,Ra).call(this,q,de),$e(this,T,Dr).call(this),$e(this,T,xn).call(this),this.canvas.style.visibility="visible"}static deserialize(q,de,be){var Me,Le;const Ee=super.deserialize(q,de,be);Ee.thickness=q.thickness,Ee.color=l.Util.makeHexColor(...q.color),Ee.opacity=q.opacity;const[Pe,fe]=Ee.pageDimensions,W=Ee.width*Pe,Y=Ee.height*fe,me=Ee.parentScale,Re=q.thickness/2;We(Ee,y,W/Y),We(Ee,A,!0),We(Ee,D,Math.round(W)),We(Ee,B,Math.round(Y));for(const{bezier:qe}of q.paths){const Ye=[];Ee.paths.push(Ye);let Ie=me*(qe[0]-Re),Ae=me*(Y-qe[1]-Re);for(let He=2,nt=qe.length;He<nt;He+=6){const it=me*(qe[He]-Re),at=me*(Y-qe[He+1]-Re),_t=me*(qe[He+2]-Re),Dt=me*(Y-qe[He+3]-Re),Lt=me*(qe[He+4]-Re),ft=me*(Y-qe[He+5]-Re);Ye.push([[Ie,Ae],[it,at],[_t,Dt],[Lt,ft]]),Ie=Lt,Ae=ft}const we=$e(this,H,Ma).call(this,Ye);Ee.bezierPath2D.push(we)}const Oe=$e(Me=Ee,T,Pa).call(Me);return We(Ee,v,Math.max(h,Oe[2]-Oe[0])),We(Ee,b,Math.max(h,Oe[3]-Oe[1])),$e(Le=Ee,T,Ra).call(Le,W,Y),Ee}serialize(){if(this.isEmpty())return null;const q=this.getRect(0,0),de=this.rotation%180===0?q[3]-q[1]:q[2]-q[0],be=u.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:l.AnnotationEditorType.INK,color:be,thickness:this.thickness,opacity:this.opacity,paths:$e(this,T,Ic).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,de),pageIndex:this.pageIndex,rect:q,rotation:this.rotation}}};y=new WeakMap,b=new WeakMap,v=new WeakMap,C=new WeakMap,S=new WeakMap,E=new WeakMap,_=new WeakMap,A=new WeakMap,R=new WeakMap,k=new WeakMap,M=new WeakMap,D=new WeakMap,B=new WeakMap,U=new WeakMap,T=new WeakSet,Tc=function(q){const de=this.thickness;this.addCommands({cmd:()=>{this.thickness=q,$e(this,T,Ir).call(this)},undo:()=>{this.thickness=de,$e(this,T,Ir).call(this)},mustExec:!0,type:l.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Rc=function(q){const de=this.color;this.addCommands({cmd:()=>{this.color=q,$e(this,T,xn).call(this)},undo:()=>{this.color=de,$e(this,T,xn).call(this)},mustExec:!0,type:l.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Mc=function(q){q/=100;const de=this.opacity;this.addCommands({cmd:()=>{this.opacity=q,$e(this,T,xn).call(this)},undo:()=>{this.opacity=de,$e(this,T,xn).call(this)},mustExec:!0,type:l.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Pc=function(){const{parentRotation:q,parentDimensions:[de,be]}=this;switch(q){case 90:return[0,be,be,de];case 180:return[de,be,de,be];case 270:return[de,0,be,de];default:return[0,0,de,be]}},Aa=function(){const{ctx:q,color:de,opacity:be,thickness:Ee,parentScale:Pe,scaleFactor:fe}=this;q.lineWidth=Ee*Pe/fe,q.lineCap="round",q.lineJoin="round",q.miterLimit=10,q.strokeStyle=`${de}${(0,d.opacityToHex)(be)}`},Oc=function(q,de){this.isEditing=!0,ne(this,R)||(We(this,R,!0),$e(this,T,Dr).call(this),this.thickness||(this.thickness=V._defaultThickness),this.color||(this.color=V._defaultColor||u.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=V._defaultOpacity)),this.currentPath.push([q,de]),We(this,k,null),$e(this,T,Aa).call(this),this.ctx.beginPath(),this.ctx.moveTo(q,de),We(this,U,()=>{ne(this,U)&&(ne(this,k)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):$e(this,T,xn).call(this),this.ctx.lineTo(...ne(this,k)),We(this,k,null),this.ctx.stroke()),window.requestAnimationFrame(ne(this,U)))}),window.requestAnimationFrame(ne(this,U))},Nc=function(q,de){const[be,Ee]=this.currentPath.at(-1);q===be&&de===Ee||(this.currentPath.push([q,de]),We(this,k,[q,de]))},Dc=function(q,de){var me;this.ctx.closePath(),We(this,U,null),q=Math.min(Math.max(q,0),this.canvas.width),de=Math.min(Math.max(de,0),this.canvas.height);const[be,Ee]=this.currentPath.at(-1);(q!==be||de!==Ee)&&this.currentPath.push([q,de]);let Pe;if(this.currentPath.length!==1)Pe=(0,c.fitCurve)(this.currentPath,30,null);else{const Re=[q,de];Pe=[[Re,Re.slice(),Re.slice(),Re]]}const fe=$e(me=V,H,Ma).call(me,Pe);this.currentPath.length=0;const W=()=>{this.paths.push(Pe),this.bezierPath2D.push(fe),this.rebuild()},Y=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||($e(this,T,Ai).call(this),$e(this,T,Ti).call(this)),$e(this,T,Ir).call(this))};this.addCommands({cmd:W,undo:Y,mustExec:!0})},xn=function(){if(this.isEmpty()){$e(this,T,Ri).call(this);return}$e(this,T,Aa).call(this);const{canvas:q,ctx:de}=this;de.setTransform(1,0,0,1,0,0),de.clearRect(0,0,q.width,q.height),$e(this,T,Ri).call(this);for(const be of this.bezierPath2D)de.stroke(be)},Ta=function(q){$e(this,T,Dc).call(this,q.offsetX,q.offsetY),this.canvas.removeEventListener("pointerleave",ne(this,S)),this.canvas.removeEventListener("pointermove",ne(this,C)),this.addToAnnotationStorage()},Ai=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",V._l10nPromise.get("editor_ink_canvas_aria_label").then(q=>{var de;return(de=this.canvas)==null?void 0:de.setAttribute("aria-label",q)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ti=function(){let q=null;We(this,M,new ResizeObserver(de=>{const be=de[0].contentRect;be.width&&be.height&&(q!==null&&clearTimeout(q),q=setTimeout(()=>{this.fixDims(),q=null},m),this.setDimensions(be.width,be.height))})),ne(this,M).observe(this.div)},Dr=function(){if(!ne(this,R))return;const[q,de]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*q),this.canvas.height=Math.ceil(this.height*de),$e(this,T,Ri).call(this)},Ra=function(q,de){const be=$e(this,T,Mi).call(this),Ee=(q-be)/ne(this,v),Pe=(de-be)/ne(this,b);this.scaleFactor=Math.min(Ee,Pe)},Ri=function(){const q=$e(this,T,Mi).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+q,this.translationY*this.scaleFactor+q)},H=new WeakSet,Ma=function(q){const de=new Path2D;for(let be=0,Ee=q.length;be<Ee;be++){const[Pe,fe,W,Y]=q[be];be===0&&de.moveTo(...Pe),de.bezierCurveTo(fe[0],fe[1],W[0],W[1],Y[0],Y[1])}return de},Ic=function(q,de,be,Ee){const fe=[],W=this.thickness/2;let Y,me;for(const Re of this.paths){Y=[],me=[];for(let Oe=0,Me=Re.length;Oe<Me;Oe++){const[Le,qe,Ye,Ie]=Re[Oe],Ae=q*(Le[0]+de)+W,we=Ee-q*(Le[1]+be)-W,He=q*(qe[0]+de)+W,nt=Ee-q*(qe[1]+be)-W,it=q*(Ye[0]+de)+W,at=Ee-q*(Ye[1]+be)-W,_t=q*(Ie[0]+de)+W,Dt=Ee-q*(Ie[1]+be)-W;Oe===0&&(Y.push(Ae,we),me.push(Ae,we)),Y.push(He,nt,it,at,_t,Dt),$e(this,T,Fc).call(this,Ae,we,He,nt,it,at,_t,Dt,4,me)}fe.push({bezier:Y,points:me})}return fe},Fc=function(q,de,be,Ee,Pe,fe,W,Y,me,Re){if($e(this,T,Lc).call(this,q,de,be,Ee,Pe,fe,W,Y)){Re.push(W,Y);return}for(let Oe=1;Oe<me-1;Oe++){const Me=Oe/me,Le=1-Me;let qe=Me*q+Le*be,Ye=Me*de+Le*Ee,Ie=Me*be+Le*Pe,Ae=Me*Ee+Le*fe;const we=Me*Pe+Le*W,He=Me*fe+Le*Y;qe=Me*qe+Le*Ie,Ye=Me*Ye+Le*Ae,Ie=Me*Ie+Le*we,Ae=Me*Ae+Le*He,qe=Me*qe+Le*Ie,Ye=Me*Ye+Le*Ae,Re.push(qe,Ye)}Re.push(W,Y)},Lc=function(q,de,be,Ee,Pe,fe,W,Y){const Re=(3*be-2*q-W)**2,Oe=(3*Ee-2*de-Y)**2,Me=(3*Pe-q-2*W)**2,Le=(3*fe-de-2*Y)**2;return Math.max(Re,Me)+Math.max(Oe,Le)<=10},Pa=function(){let q=1/0,de=-1/0,be=1/0,Ee=-1/0;for(const Pe of this.paths)for(const[fe,W,Y,me]of Pe){const Re=l.Util.bezierBoundingBox(...fe,...W,...Y,...me);q=Math.min(q,Re[0]),be=Math.min(be,Re[1]),de=Math.max(de,Re[2]),Ee=Math.max(Ee,Re[3])}return[q,be,de,Ee]},Mi=function(){return ne(this,A)?Math.ceil(this.thickness*this.parentScale):0},Ir=function(q=!1){if(this.isEmpty())return;if(!ne(this,A)){$e(this,T,xn).call(this);return}const de=$e(this,T,Pa).call(this),be=$e(this,T,Mi).call(this);We(this,v,Math.max(h,de[2]-de[0])),We(this,b,Math.max(h,de[3]-de[1]));const Ee=Math.ceil(be+ne(this,v)*this.scaleFactor),Pe=Math.ceil(be+ne(this,b)*this.scaleFactor),[fe,W]=this.parentDimensions;this.width=Ee/fe,this.height=Pe/W,We(this,y,Ee/Pe),$e(this,T,Oa).call(this);const Y=this.translationX,me=this.translationY;this.translationX=-de[0],this.translationY=-de[1],$e(this,T,Dr).call(this),$e(this,T,xn).call(this),We(this,D,Ee),We(this,B,Pe),this.setDims(Ee,Pe);const Re=q?be/this.scaleFactor/2:0;this.translate(Y-this.translationX-Re,me-this.translationY-Re)},Oa=function(){const{style:q}=this.div;ne(this,y)>=1?(q.minHeight=`${h}px`,q.minWidth=`${Math.round(ne(this,y)*h)}px`):(q.minWidth=`${h}px`,q.minHeight=`${Math.round(h/ne(this,y))}px`)},ze(V,H),dt(V,"_defaultColor",null),dt(V,"_defaultOpacity",1),dt(V,"_defaultThickness",1),dt(V,"_l10nPromise"),dt(V,"_type","ink");let g=V;e.InkEditor=g},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const l=a(31);e.fitCurve=l},t=>{function e(S,E,_){if(!Array.isArray(S))throw new TypeError("First argument should be an array");if(S.forEach(M=>{if(!Array.isArray(M)||M.some(D=>typeof D!="number")||M.length!==S[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),S=S.filter((M,D)=>D===0||!M.every((B,U)=>B===S[D-1][U])),S.length<2)return[];const A=S.length,R=b(S[1],S[0]),k=b(S[A-2],S[A-1]);return a(S,R,k,E,_)}function a(S,E,_,A,R){var M,D,B,U,T,$,G,ue,te,Se,he,Te,ve;if(S.length===2)return Te=v.vectorLen(v.subtract(S[0],S[1]))/3,M=[S[0],v.addArrays(S[0],v.mulItems(E,Te)),v.addArrays(S[1],v.mulItems(_,Te)),S[1]],[M];if(D=h(S),[M,U,$]=l(S,D,D,E,_,R),U===0||U<A)return[M];if(U<A*A)for(B=D,T=U,G=$,ve=0;ve<20;ve++){if(B=c(M,S,B),[M,U,$]=l(S,D,B,E,_,R),U<A)return[M];if($===G){let ce=U/T;if(ce>.9999&&ce<1.0001)break}T=U,G=$}return he=[],ue=v.subtract(S[$-1],S[$+1]),ue.every(ce=>ce===0)&&(ue=v.subtract(S[$-1],S[$]),[ue[0],ue[1]]=[-ue[1],ue[0]]),te=v.normalize(ue),Se=v.mulItems(te,-1),he=he.concat(a(S.slice(0,$+1),E,te,A,R)),he=he.concat(a(S.slice($),Se,_,A,R)),he}function l(S,E,_,A,R,k){var M,D,B;return M=u(S,_,A,R),[D,B]=m(S,M,E),k&&k({bez:M,points:S,params:E,maxErr:D,maxPoint:B}),[M,D,B]}function u(S,E,_,A){var R,k,M,D,B,U,T,$,G,ue,te,Se,he,Te,ve,ce,ae,pe=S[0],ee=S[S.length-1];for(R=[pe,null,null,ee],k=v.zeros_Xx2x2(E.length),he=0,Te=E.length;he<Te;he++)ce=E[he],ae=1-ce,M=k[he],M[0]=v.mulItems(_,3*ce*(ae*ae)),M[1]=v.mulItems(A,3*ae*(ce*ce));for(D=[[0,0],[0,0]],B=[0,0],he=0,Te=S.length;he<Te;he++)ce=E[he],M=k[he],D[0][0]+=v.dot(M[0],M[0]),D[0][1]+=v.dot(M[0],M[1]),D[1][0]+=v.dot(M[0],M[1]),D[1][1]+=v.dot(M[1],M[1]),ve=v.subtract(S[he],C.q([pe,pe,ee,ee],ce)),B[0]+=v.dot(M[0],ve),B[1]+=v.dot(M[1],ve);return U=D[0][0]*D[1][1]-D[1][0]*D[0][1],T=D[0][0]*B[1]-D[1][0]*B[0],$=B[0]*D[1][1]-B[1]*D[0][1],G=U===0?0:$/U,ue=U===0?0:T/U,Se=v.vectorLen(v.subtract(pe,ee)),te=1e-6*Se,G<te||ue<te?(R[1]=v.addArrays(pe,v.mulItems(_,Se/3)),R[2]=v.addArrays(ee,v.mulItems(A,Se/3))):(R[1]=v.addArrays(pe,v.mulItems(_,G)),R[2]=v.addArrays(ee,v.mulItems(A,ue))),R}function c(S,E,_){return _.map((A,R)=>d(S,E[R],A))}function d(S,E,_){var A=v.subtract(C.q(S,_),E),R=C.qprime(S,_),k=v.mulMatrix(A,R),M=v.sum(v.squareItems(R))+2*v.mulMatrix(A,C.qprimeprime(S,_));return M===0?_:_-k/M}function h(S){var E=[],_,A,R;return S.forEach((k,M)=>{_=M?A+v.vectorLen(v.subtract(k,R)):0,E.push(_),A=_,R=k}),E=E.map(k=>k/A),E}function m(S,E,_){var A,R,k,M,D,B,U,T;R=0,k=Math.floor(S.length/2);const $=g(E,10);for(D=0,B=S.length;D<B;D++)U=S[D],T=y(E,_[D],$,10),M=v.subtract(C.q(E,T),U),A=M[0]*M[0]+M[1]*M[1],A>R&&(R=A,k=D);return[R,k]}var g=function(S,E){for(var _,A=[0],R=S[0],k=0,M=1;M<=E;M++)_=C.q(S,M/E),k+=v.vectorLen(v.subtract(_,R)),A.push(k),R=_;return A=A.map(D=>D/k),A};function y(S,E,_,A){if(E<0)return 0;if(E>1)return 1;for(var R,k,M,D,B,U=1;U<=A;U++)if(E<=_[U]){D=(U-1)/A,M=U/A,k=_[U-1],R=_[U],B=(E-k)/(R-k)*(M-D)+D;break}return B}function b(S,E){return v.normalize(v.subtract(S,E))}class v{static zeros_Xx2x2(E){for(var _=[];E--;)_.push([0,0]);return _}static mulItems(E,_){return E.map(A=>A*_)}static mulMatrix(E,_){return E.reduce((A,R,k)=>A+R*_[k],0)}static subtract(E,_){return E.map((A,R)=>A-_[R])}static addArrays(E,_){return E.map((A,R)=>A+_[R])}static addItems(E,_){return E.map(A=>A+_)}static sum(E){return E.reduce((_,A)=>_+A)}static dot(E,_){return v.mulMatrix(E,_)}static vectorLen(E){return Math.hypot(...E)}static divItems(E,_){return E.map(A=>A/_)}static squareItems(E){return E.map(_=>_*_)}static normalize(E){return this.divItems(E,this.vectorLen(E))}}class C{static q(E,_){var A=1-_,R=v.mulItems(E[0],A*A*A),k=v.mulItems(E[1],3*A*A*_),M=v.mulItems(E[2],3*A*_*_),D=v.mulItems(E[3],_*_*_);return v.addArrays(v.addArrays(R,k),v.addArrays(M,D))}static qprime(E,_){var A=1-_,R=v.mulItems(v.subtract(E[1],E[0]),3*A*A),k=v.mulItems(v.subtract(E[2],E[1]),6*A*_),M=v.mulItems(v.subtract(E[3],E[2]),3*_*_);return v.addArrays(v.addArrays(R,k),M)}static qprimeprime(E,_){return v.addArrays(v.mulItems(v.addArrays(v.subtract(E[2],v.mulItems(E[1],2)),E[0]),6*(1-_)),v.mulItems(v.addArrays(v.subtract(E[3],v.mulItems(E[2],2)),E[1]),6*_))}}t.exports=e,t.exports.fitCubic=a,t.exports.createTangent=b},(t,e,a)=>{var L,ur,$c,K,Na,Da;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var l=a(1),u=a(6),c=a(3),d=a(33),h=a(34);const m=1e3,g=9,y=new WeakSet;function b(xe){return{width:xe[2]-xe[0],height:xe[3]-xe[1]}}class v{static create(j){switch(j.data.annotationType){case l.AnnotationType.LINK:return new S(j);case l.AnnotationType.TEXT:return new E(j);case l.AnnotationType.WIDGET:switch(j.data.fieldType){case"Tx":return new A(j);case"Btn":return j.data.radioButton?new k(j):j.data.checkBox?new R(j):new M(j);case"Ch":return new D(j)}return new _(j);case l.AnnotationType.POPUP:return new B(j);case l.AnnotationType.FREETEXT:return new T(j);case l.AnnotationType.LINE:return new $(j);case l.AnnotationType.SQUARE:return new G(j);case l.AnnotationType.CIRCLE:return new ue(j);case l.AnnotationType.POLYLINE:return new te(j);case l.AnnotationType.CARET:return new he(j);case l.AnnotationType.INK:return new Te(j);case l.AnnotationType.POLYGON:return new Se(j);case l.AnnotationType.HIGHLIGHT:return new ve(j);case l.AnnotationType.UNDERLINE:return new ce(j);case l.AnnotationType.SQUIGGLY:return new ae(j);case l.AnnotationType.STRIKEOUT:return new pe(j);case l.AnnotationType.STAMP:return new ee(j);case l.AnnotationType.FILEATTACHMENT:return new N(j);default:return new C(j)}}}class C{constructor(j,{isRenderable:V=!1,ignoreBorder:Q=!1,createQuadrilaterals:se=!1}={}){this.isRenderable=V,this.data=j.data,this.layer=j.layer,this.page=j.page,this.viewport=j.viewport,this.linkService=j.linkService,this.downloadManager=j.downloadManager,this.imageResourcesPath=j.imageResourcesPath,this.renderForms=j.renderForms,this.svgFactory=j.svgFactory,this.annotationStorage=j.annotationStorage,this.enableScripting=j.enableScripting,this.hasJSActions=j.hasJSActions,this._fieldObjects=j.fieldObjects,V&&(this.container=this._createContainer(Q)),se&&(this.quadrilaterals=this._createQuadrilaterals(Q))}_createContainer(j=!1){const{data:V,page:Q,viewport:se}=this,q=document.createElement("section");q.setAttribute("data-annotation-id",V.id);const{pageWidth:de,pageHeight:be,pageX:Ee,pageY:Pe}=se.rawDims,{width:fe,height:W}=b(V.rect),Y=l.Util.normalizeRect([V.rect[0],Q.view[3]-V.rect[1]+Q.view[1],V.rect[2],Q.view[3]-V.rect[3]+Q.view[1]]);if(!j&&V.borderStyle.width>0){q.style.borderWidth=`${V.borderStyle.width}px`;const Re=V.borderStyle.horizontalCornerRadius,Oe=V.borderStyle.verticalCornerRadius;if(Re>0||Oe>0){const Le=`calc(${Re}px * var(--scale-factor)) / calc(${Oe}px * var(--scale-factor))`;q.style.borderRadius=Le}else if(this instanceof k){const Le=`calc(${fe}px * var(--scale-factor)) / calc(${W}px * var(--scale-factor))`;q.style.borderRadius=Le}switch(V.borderStyle.style){case l.AnnotationBorderStyleType.SOLID:q.style.borderStyle="solid";break;case l.AnnotationBorderStyleType.DASHED:q.style.borderStyle="dashed";break;case l.AnnotationBorderStyleType.BEVELED:(0,l.warn)("Unimplemented border style: beveled");break;case l.AnnotationBorderStyleType.INSET:(0,l.warn)("Unimplemented border style: inset");break;case l.AnnotationBorderStyleType.UNDERLINE:q.style.borderBottomStyle="solid";break}const Me=V.borderColor||null;Me?q.style.borderColor=l.Util.makeHexColor(Me[0]|0,Me[1]|0,Me[2]|0):q.style.borderWidth=0}q.style.left=`${100*(Y[0]-Ee)/de}%`,q.style.top=`${100*(Y[1]-Pe)/be}%`;const{rotation:me}=V;return V.hasOwnCanvas||me===0?(q.style.width=`${100*fe/de}%`,q.style.height=`${100*W/be}%`):this.setRotation(me,q),q}setRotation(j,V=this.container){const{pageWidth:Q,pageHeight:se}=this.viewport.rawDims,{width:q,height:de}=b(this.data.rect);let be,Ee;j%180===0?(be=100*q/Q,Ee=100*de/se):(be=100*de/Q,Ee=100*q/se),V.style.width=`${be}%`,V.style.height=`${Ee}%`,V.setAttribute("data-main-rotation",(360-j)%360)}get _commonActions(){const j=(V,Q,se)=>{const q=se.detail[V];se.target.style[Q]=d.ColorConverters[`${q[0]}_HTML`](q.slice(1))};return(0,l.shadow)(this,"_commonActions",{display:V=>{const Q=V.detail.display%2===1;this.container.style.visibility=Q?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Q,print:V.detail.display===0||V.detail.display===3})},print:V=>{this.annotationStorage.setValue(this.data.id,{print:V.detail.print})},hidden:V=>{this.container.style.visibility=V.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:V.detail.hidden})},focus:V=>{setTimeout(()=>V.target.focus({preventScroll:!1}),0)},userName:V=>{V.target.title=V.detail.userName},readonly:V=>{V.detail.readonly?V.target.setAttribute("readonly",""):V.target.removeAttribute("readonly")},required:V=>{this._setRequired(V.target,V.detail.required)},bgColor:V=>{j("bgColor","backgroundColor",V)},fillColor:V=>{j("fillColor","backgroundColor",V)},fgColor:V=>{j("fgColor","color",V)},textColor:V=>{j("textColor","color",V)},borderColor:V=>{j("borderColor","borderColor",V)},strokeColor:V=>{j("strokeColor","borderColor",V)},rotation:V=>{const Q=V.detail.rotation;this.setRotation(Q),this.annotationStorage.setValue(this.data.id,{rotation:Q})}})}_dispatchEventFromSandbox(j,V){const Q=this._commonActions;for(const se of Object.keys(V.detail)){const q=j[se]||Q[se];q==null||q(V)}}_setDefaultPropertiesFromJS(j){if(!this.enableScripting)return;const V=this.annotationStorage.getRawValue(this.data.id);if(!V)return;const Q=this._commonActions;for(const[se,q]of Object.entries(V)){const de=Q[se];if(de){const be={detail:{[se]:q},target:j};de(be),delete V[se]}}}_createQuadrilaterals(j=!1){if(!this.data.quadPoints)return null;const V=[],Q=this.data.rect;for(const se of this.data.quadPoints)this.data.rect=[se[2].x,se[2].y,se[1].x,se[1].y],V.push(this._createContainer(j));return this.data.rect=Q,V}_createPopup(j,V){let Q=this.container;this.quadrilaterals&&(j=j||this.quadrilaterals,Q=this.quadrilaterals[0]),j||(j=document.createElement("div"),j.className="popupTriggerArea",Q.append(j));const q=new U({container:Q,trigger:j,color:V.color,titleObj:V.titleObj,modificationDate:V.modificationDate,contentsObj:V.contentsObj,richText:V.richText,hideWrapper:!0}).render();q.style.left="100%",Q.append(q)}_renderQuadrilaterals(j){for(const V of this.quadrilaterals)V.className=j;return this.quadrilaterals}render(){(0,l.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(j,V=null){const Q=[];if(this._fieldObjects){const se=this._fieldObjects[j];if(se)for(const{page:q,id:de,exportValues:be}of se){if(q===-1||de===V)continue;const Ee=typeof be=="string"?be:null,Pe=document.querySelector(`[data-element-id="${de}"]`);if(Pe&&!y.has(Pe)){(0,l.warn)(`_getElementsByName - element not allowed: ${de}`);continue}Q.push({id:de,exportValue:Ee,domElement:Pe})}return Q}for(const se of document.getElementsByName(j)){const{exportValue:q}=se,de=se.getAttribute("data-element-id");de!==V&&y.has(se)&&Q.push({id:de,exportValue:q,domElement:se})}return Q}}class S extends C{constructor(V,Q=null){super(V,{isRenderable:!0,ignoreBorder:!!(Q!=null&&Q.ignoreBorder),createQuadrilaterals:!0});ze(this,L);this.isTooltipOnly=V.data.isTooltipOnly}render(){const{data:V,linkService:Q}=this,se=document.createElement("a");se.setAttribute("data-element-id",V.id);let q=!1;return V.url?(Q.addLinkAttributes(se,V.url,V.newWindow),q=!0):V.action?(this._bindNamedAction(se,V.action),q=!0):V.attachment?(this._bindAttachment(se,V.attachment),q=!0):V.setOCGState?($e(this,L,$c).call(this,se,V.setOCGState),q=!0):V.dest?(this._bindLink(se,V.dest),q=!0):(V.actions&&(V.actions.Action||V.actions["Mouse Up"]||V.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(se,V),q=!0),V.resetForm?(this._bindResetFormAction(se,V.resetForm),q=!0):this.isTooltipOnly&&!q&&(this._bindLink(se,""),q=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((de,be)=>{const Ee=be===0?se:se.cloneNode();return de.append(Ee),de}):(this.container.className="linkAnnotation",q&&this.container.append(se),this.container)}_bindLink(V,Q){V.href=this.linkService.getDestinationHash(Q),V.onclick=()=>(Q&&this.linkService.goToDestination(Q),!1),(Q||Q==="")&&$e(this,L,ur).call(this)}_bindNamedAction(V,Q){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>(this.linkService.executeNamedAction(Q),!1),$e(this,L,ur).call(this)}_bindAttachment(V,Q){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>{var se;return(se=this.downloadManager)==null||se.openOrDownloadData(this.container,Q.content,Q.filename),!1},$e(this,L,ur).call(this)}_bindJSAction(V,Q){V.href=this.linkService.getAnchorUrl("");const se=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const q of Object.keys(Q.actions)){const de=se.get(q);de&&(V[de]=()=>{var be;return(be=this.linkService.eventBus)==null||be.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q.id,name:q}}),!1})}V.onclick||(V.onclick=()=>!1),$e(this,L,ur).call(this)}_bindResetFormAction(V,Q){const se=V.onclick;if(se||(V.href=this.linkService.getAnchorUrl("")),$e(this,L,ur).call(this),!this._fieldObjects){(0,l.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),se||(V.onclick=()=>!1);return}V.onclick=()=>{var W;se==null||se();const{fields:q,refs:de,include:be}=Q,Ee=[];if(q.length!==0||de.length!==0){const Y=new Set(de);for(const me of q){const Re=this._fieldObjects[me]||[];for(const{id:Oe}of Re)Y.add(Oe)}for(const me of Object.values(this._fieldObjects))for(const Re of me)Y.has(Re.id)===be&&Ee.push(Re)}else for(const Y of Object.values(this._fieldObjects))Ee.push(...Y);const Pe=this.annotationStorage,fe=[];for(const Y of Ee){const{id:me}=Y;switch(fe.push(me),Y.type){case"text":{const Oe=Y.defaultValue||"";Pe.setValue(me,{value:Oe});break}case"checkbox":case"radiobutton":{const Oe=Y.defaultValue===Y.exportValues;Pe.setValue(me,{value:Oe});break}case"combobox":case"listbox":{const Oe=Y.defaultValue||"";Pe.setValue(me,{value:Oe});break}default:continue}const Re=document.querySelector(`[data-element-id="${me}"]`);if(Re){if(!y.has(Re)){(0,l.warn)(`_bindResetFormAction - element not allowed: ${me}`);continue}}else continue;Re.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((W=this.linkService.eventBus)==null||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:fe,name:"ResetForm"}})),!1}}}L=new WeakSet,ur=function(){this.container.setAttribute("data-internal-link","")},$c=function(V,Q){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>(this.linkService.executeSetOCGState(Q),!1),$e(this,L,ur).call(this)};class E extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V})}render(){this.container.className="textAnnotation";const j=document.createElement("img");return j.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",j.alt="[{{type}} Annotation]",j.dataset.l10nId="text_annotation_type",j.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(j,this.data),this.container.append(j),this.container}}class _ extends C{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(j){const{isWin:V,isMac:Q}=l.FeatureTest.platform;return V&&j.ctrlKey||Q&&j.metaKey}_setEventListener(j,V,Q,se){V.includes("mouse")?j.addEventListener(V,q=>{var de;(de=this.linkService.eventBus)==null||de.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Q,value:se(q),shift:q.shiftKey,modifier:this._getKeyModifier(q)}})}):j.addEventListener(V,q=>{var de;(de=this.linkService.eventBus)==null||de.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Q,value:se(q)}})})}_setEventListeners(j,V,Q){var se;for(const[q,de]of V)(de==="Action"||(se=this.data.actions)!=null&&se[de])&&this._setEventListener(j,q,de,Q)}_setBackgroundColor(j){const V=this.data.backgroundColor||null;j.style.backgroundColor=V===null?"transparent":l.Util.makeHexColor(V[0],V[1],V[2])}_setTextStyle(j){const V=["left","center","right"],{fontColor:Q}=this.data.defaultAppearanceData,se=this.data.defaultAppearanceData.fontSize||g,q=j.style;let de;const be=2,Ee=Pe=>Math.round(10*Pe)/10;if(this.data.multiLine){const Pe=Math.abs(this.data.rect[3]-this.data.rect[1]-be),fe=Math.round(Pe/(l.LINE_FACTOR*se))||1,W=Pe/fe;de=Math.min(se,Ee(W/l.LINE_FACTOR))}else{const Pe=Math.abs(this.data.rect[3]-this.data.rect[1]-be);de=Math.min(se,Ee(Pe/l.LINE_FACTOR))}q.fontSize=`calc(${de}px * var(--scale-factor))`,q.color=l.Util.makeHexColor(Q[0],Q[1],Q[2]),this.data.textAlignment!==null&&(q.textAlign=V[this.data.textAlignment])}_setRequired(j,V){V?j.setAttribute("required",!0):j.removeAttribute("required"),j.setAttribute("aria-required",V)}}class A extends _{constructor(j){const V=j.renderForms||!j.data.hasAppearance&&!!j.data.fieldValue;super(j,{isRenderable:V})}setPropertyOnSiblings(j,V,Q,se){const q=this.annotationStorage;for(const de of this._getElementsByName(j.name,j.id))de.domElement&&(de.domElement[V]=Q),q.setValue(de.id,{[se]:Q})}render(){var se;const j=this.annotationStorage,V=this.data.id;this.container.className="textWidgetAnnotation";let Q=null;if(this.renderForms){const q=j.getValue(V,{value:this.data.fieldValue});let de=q.formattedValue||q.value||"";const be=j.getValue(V,{charLimit:this.data.maxLen}).charLimit;be&&de.length>be&&(de=de.slice(0,be));const Ee={userValue:de,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(Q=document.createElement("textarea"),Q.textContent=de,this.data.doNotScroll&&(Q.style.overflowY="hidden")):(Q=document.createElement("input"),Q.type="text",Q.setAttribute("value",de),this.data.doNotScroll&&(Q.style.overflowX="hidden")),y.add(Q),Q.setAttribute("data-element-id",V),Q.disabled=this.data.readOnly,Q.name=this.data.fieldName,Q.tabIndex=m,this._setRequired(Q,this.data.required),be&&(Q.maxLength=be),Q.addEventListener("input",fe=>{j.setValue(V,{value:fe.target.value}),this.setPropertyOnSiblings(Q,"value",fe.target.value,"value")}),Q.addEventListener("resetform",fe=>{const W=this.data.defaultFieldValue??"";Q.value=Ee.userValue=W,Ee.formattedValue=null});let Pe=fe=>{const{formattedValue:W}=Ee;W!=null&&(fe.target.value=W),fe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Q.addEventListener("focus",W=>{const{target:Y}=W;Ee.userValue&&(Y.value=Ee.userValue),Ee.lastCommittedValue=Y.value,Ee.commitKey=1}),Q.addEventListener("updatefromsandbox",W=>{const Y={value(me){Ee.userValue=me.detail.value??"",j.setValue(V,{value:Ee.userValue.toString()}),me.target.value=Ee.userValue},formattedValue(me){const{formattedValue:Re}=me.detail;Ee.formattedValue=Re,Re!=null&&me.target!==document.activeElement&&(me.target.value=Re),j.setValue(V,{formattedValue:Re})},selRange(me){me.target.setSelectionRange(...me.detail.selRange)},charLimit:me=>{var Le;const{charLimit:Re}=me.detail,{target:Oe}=me;if(Re===0){Oe.removeAttribute("maxLength");return}Oe.setAttribute("maxLength",Re);let Me=Ee.userValue;!Me||Me.length<=Re||(Me=Me.slice(0,Re),Oe.value=Ee.userValue=Me,j.setValue(V,{value:Me}),(Le=this.linkService.eventBus)==null||Le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:Me,willCommit:!0,commitKey:1,selStart:Oe.selectionStart,selEnd:Oe.selectionEnd}}))}};this._dispatchEventFromSandbox(Y,W)}),Q.addEventListener("keydown",W=>{var Re;Ee.commitKey=1;let Y=-1;if(W.key==="Escape"?Y=0:W.key==="Enter"&&!this.data.multiLine?Y=2:W.key==="Tab"&&(Ee.commitKey=3),Y===-1)return;const{value:me}=W.target;Ee.lastCommittedValue!==me&&(Ee.lastCommittedValue=me,Ee.userValue=me,(Re=this.linkService.eventBus)==null||Re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:me,willCommit:!0,commitKey:Y,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}))});const fe=Pe;Pe=null,Q.addEventListener("blur",W=>{var me;if(!W.relatedTarget)return;const{value:Y}=W.target;Ee.userValue=Y,Ee.lastCommittedValue!==Y&&((me=this.linkService.eventBus)==null||me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:Y,willCommit:!0,commitKey:Ee.commitKey,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}})),fe(W)}),(se=this.data.actions)!=null&&se.Keystroke&&Q.addEventListener("beforeinput",W=>{var Ye;Ee.lastCommittedValue=null;const{data:Y,target:me}=W,{value:Re,selectionStart:Oe,selectionEnd:Me}=me;let Le=Oe,qe=Me;switch(W.inputType){case"deleteWordBackward":{const Ie=Re.substring(0,Oe).match(/\w*[^\w]*$/);Ie&&(Le-=Ie[0].length);break}case"deleteWordForward":{const Ie=Re.substring(Oe).match(/^[^\w]*\w*/);Ie&&(qe+=Ie[0].length);break}case"deleteContentBackward":Oe===Me&&(Le-=1);break;case"deleteContentForward":Oe===Me&&(qe+=1);break}W.preventDefault(),(Ye=this.linkService.eventBus)==null||Ye.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:Re,change:Y||"",willCommit:!1,selStart:Le,selEnd:qe}})}),this._setEventListeners(Q,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.value)}if(Pe&&Q.addEventListener("blur",Pe),this.data.comb){const W=(this.data.rect[2]-this.data.rect[0])/be;Q.classList.add("comb"),Q.style.letterSpacing=`calc(${W}px * var(--scale-factor) - 1ch)`}}else Q=document.createElement("div"),Q.textContent=this.data.fieldValue,Q.style.verticalAlign="middle",Q.style.display="table-cell";return this._setTextStyle(Q),this._setBackgroundColor(Q),this._setDefaultPropertiesFromJS(Q),this.container.append(Q),this.container}}class R extends _{constructor(j){super(j,{isRenderable:j.renderForms})}render(){const j=this.annotationStorage,V=this.data,Q=V.id;let se=j.getValue(Q,{value:V.exportValue===V.fieldValue}).value;typeof se=="string"&&(se=se!=="Off",j.setValue(Q,{value:se})),this.container.className="buttonWidgetAnnotation checkBox";const q=document.createElement("input");return y.add(q),q.setAttribute("data-element-id",Q),q.disabled=V.readOnly,this._setRequired(q,this.data.required),q.type="checkbox",q.name=V.fieldName,se&&q.setAttribute("checked",!0),q.setAttribute("exportValue",V.exportValue),q.tabIndex=m,q.addEventListener("change",de=>{const{name:be,checked:Ee}=de.target;for(const Pe of this._getElementsByName(be,Q)){const fe=Ee&&Pe.exportValue===V.exportValue;Pe.domElement&&(Pe.domElement.checked=fe),j.setValue(Pe.id,{value:fe})}j.setValue(Q,{value:Ee})}),q.addEventListener("resetform",de=>{const be=V.defaultFieldValue||"Off";de.target.checked=be===V.exportValue}),this.enableScripting&&this.hasJSActions&&(q.addEventListener("updatefromsandbox",de=>{const be={value(Ee){Ee.target.checked=Ee.detail.value!=="Off",j.setValue(Q,{value:Ee.target.checked})}};this._dispatchEventFromSandbox(be,de)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],de=>de.target.checked)),this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class k extends _{constructor(j){super(j,{isRenderable:j.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const j=this.annotationStorage,V=this.data,Q=V.id;let se=j.getValue(Q,{value:V.fieldValue===V.buttonValue}).value;typeof se=="string"&&(se=se!==V.buttonValue,j.setValue(Q,{value:se}));const q=document.createElement("input");if(y.add(q),q.setAttribute("data-element-id",Q),q.disabled=V.readOnly,this._setRequired(q,this.data.required),q.type="radio",q.name=V.fieldName,se&&q.setAttribute("checked",!0),q.tabIndex=m,q.addEventListener("change",de=>{const{name:be,checked:Ee}=de.target;for(const Pe of this._getElementsByName(be,Q))j.setValue(Pe.id,{value:!1});j.setValue(Q,{value:Ee})}),q.addEventListener("resetform",de=>{const be=V.defaultFieldValue;de.target.checked=be!=null&&be===V.buttonValue}),this.enableScripting&&this.hasJSActions){const de=V.buttonValue;q.addEventListener("updatefromsandbox",be=>{const Ee={value:Pe=>{const fe=de===Pe.detail.value;for(const W of this._getElementsByName(Pe.target.name)){const Y=fe&&W.id===Q;W.domElement&&(W.domElement.checked=Y),j.setValue(W.id,{value:Y})}}};this._dispatchEventFromSandbox(Ee,be)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],be=>be.target.checked)}return this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class M extends S{constructor(j){super(j,{ignoreBorder:j.data.hasAppearance})}render(){const j=super.render();j.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(j.title=this.data.alternativeText);const V=j.lastChild;return this.enableScripting&&this.hasJSActions&&V&&(this._setDefaultPropertiesFromJS(V),V.addEventListener("updatefromsandbox",Q=>{this._dispatchEventFromSandbox({},Q)})),j}}class D extends _{constructor(j){super(j,{isRenderable:j.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const j=this.annotationStorage,V=this.data.id,Q=j.getValue(V,{value:this.data.fieldValue}),se=document.createElement("select");y.add(se),se.setAttribute("data-element-id",V),se.disabled=this.data.readOnly,this._setRequired(se,this.data.required),se.name=this.data.fieldName,se.tabIndex=m;let q=this.data.combo&&this.data.options.length>0;this.data.combo||(se.size=this.data.options.length,this.data.multiSelect&&(se.multiple=!0)),se.addEventListener("resetform",fe=>{const W=this.data.defaultFieldValue;for(const Y of se.options)Y.selected=Y.value===W});for(const fe of this.data.options){const W=document.createElement("option");W.textContent=fe.displayValue,W.value=fe.exportValue,Q.value.includes(fe.exportValue)&&(W.setAttribute("selected",!0),q=!1),se.append(W)}let de=null;if(q){const fe=document.createElement("option");fe.value=" ",fe.setAttribute("hidden",!0),fe.setAttribute("selected",!0),se.prepend(fe),de=()=>{fe.remove(),se.removeEventListener("input",de),de=null},se.addEventListener("input",de)}const be=fe=>{const W=fe?"value":"textContent",{options:Y,multiple:me}=se;return me?Array.prototype.filter.call(Y,Re=>Re.selected).map(Re=>Re[W]):Y.selectedIndex===-1?null:Y[Y.selectedIndex][W]};let Ee=be(!1);const Pe=fe=>{const W=fe.target.options;return Array.prototype.map.call(W,Y=>({displayValue:Y.textContent,exportValue:Y.value}))};return this.enableScripting&&this.hasJSActions?(se.addEventListener("updatefromsandbox",fe=>{const W={value(Y){de==null||de();const me=Y.detail.value,Re=new Set(Array.isArray(me)?me:[me]);for(const Oe of se.options)Oe.selected=Re.has(Oe.value);j.setValue(V,{value:be(!0)}),Ee=be(!1)},multipleSelection(Y){se.multiple=!0},remove(Y){const me=se.options,Re=Y.detail.remove;me[Re].selected=!1,se.remove(Re),me.length>0&&Array.prototype.findIndex.call(me,Me=>Me.selected)===-1&&(me[0].selected=!0),j.setValue(V,{value:be(!0),items:Pe(Y)}),Ee=be(!1)},clear(Y){for(;se.length!==0;)se.remove(0);j.setValue(V,{value:null,items:[]}),Ee=be(!1)},insert(Y){const{index:me,displayValue:Re,exportValue:Oe}=Y.detail.insert,Me=se.children[me],Le=document.createElement("option");Le.textContent=Re,Le.value=Oe,Me?Me.before(Le):se.append(Le),j.setValue(V,{value:be(!0),items:Pe(Y)}),Ee=be(!1)},items(Y){const{items:me}=Y.detail;for(;se.length!==0;)se.remove(0);for(const Re of me){const{displayValue:Oe,exportValue:Me}=Re,Le=document.createElement("option");Le.textContent=Oe,Le.value=Me,se.append(Le)}se.options.length>0&&(se.options[0].selected=!0),j.setValue(V,{value:be(!0),items:Pe(Y)}),Ee=be(!1)},indices(Y){const me=new Set(Y.detail.indices);for(const Re of Y.target.options)Re.selected=me.has(Re.index);j.setValue(V,{value:be(!0)}),Ee=be(!1)},editable(Y){Y.target.disabled=!Y.detail.editable}};this._dispatchEventFromSandbox(W,fe)}),se.addEventListener("input",fe=>{var Y;const W=be(!0);j.setValue(V,{value:W}),fe.preventDefault(),(Y=this.linkService.eventBus)==null||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:Ee,changeEx:W,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(se,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],fe=>fe.target.value)):se.addEventListener("input",function(fe){j.setValue(V,{value:be(!0)})}),this.data.combo&&this._setTextStyle(se),this._setBackgroundColor(se),this._setDefaultPropertiesFromJS(se),this.container.append(se),this.container}}const oe=class oe extends C{constructor(j){var se,q,de;const{data:V}=j,Q=!oe.IGNORE_TYPES.has(V.parentType)&&!!((se=V.titleObj)!=null&&se.str||(q=V.contentsObj)!=null&&q.str||(de=V.richText)!=null&&de.str);super(j,{isRenderable:Q})}render(){this.container.className="popupAnnotation";const j=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(j.length===0)return this.container;const V=new U({container:this.container,trigger:Array.from(j),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Q=this.page,se=l.Util.normalizeRect([this.data.parentRect[0],Q.view[3]-this.data.parentRect[1]+Q.view[1],this.data.parentRect[2],Q.view[3]-this.data.parentRect[3]+Q.view[1]]),q=se[0]+this.data.parentRect[2]-this.data.parentRect[0],de=se[1],{pageWidth:be,pageHeight:Ee,pageX:Pe,pageY:fe}=this.viewport.rawDims;return this.container.style.left=`${100*(q-Pe)/be}%`,this.container.style.top=`${100*(de-fe)/Ee}%`,this.container.append(V.render()),this.container}};dt(oe,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let B=oe;class U{constructor(j){this.container=j.container,this.trigger=j.trigger,this.color=j.color,this.titleObj=j.titleObj,this.modificationDate=j.modificationDate,this.contentsObj=j.contentsObj,this.richText=j.richText,this.hideWrapper=j.hideWrapper||!1,this.pinned=!1}render(){var be,Ee;const V=document.createElement("div");V.className="popupWrapper",this.hideElement=this.hideWrapper?V:this.container,this.hideElement.hidden=!0;const Q=document.createElement("div");Q.className="popup";const se=this.color;if(se){const Pe=.7*(255-se[0])+se[0],fe=.7*(255-se[1])+se[1],W=.7*(255-se[2])+se[2];Q.style.backgroundColor=l.Util.makeHexColor(Pe|0,fe|0,W|0)}const q=document.createElement("h1");q.dir=this.titleObj.dir,q.textContent=this.titleObj.str,Q.append(q);const de=u.PDFDateString.toDateObject(this.modificationDate);if(de){const Pe=document.createElement("span");Pe.className="popupDate",Pe.textContent="{{date}}, {{time}}",Pe.dataset.l10nId="annotation_date_string",Pe.dataset.l10nArgs=JSON.stringify({date:de.toLocaleDateString(),time:de.toLocaleTimeString()}),Q.append(Pe)}if((be=this.richText)!=null&&be.str&&(!((Ee=this.contentsObj)!=null&&Ee.str)||this.contentsObj.str===this.richText.str))h.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Q}),Q.lastChild.className="richText popupContent";else{const Pe=this._formatContents(this.contentsObj);Q.append(Pe)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Pe of this.trigger)Pe.addEventListener("click",this._toggle.bind(this)),Pe.addEventListener("mouseover",this._show.bind(this,!1)),Pe.addEventListener("mouseout",this._hide.bind(this,!1));return Q.addEventListener("click",this._hide.bind(this,!0)),V.append(Q),V}_formatContents({str:j,dir:V}){const Q=document.createElement("p");Q.className="popupContent",Q.dir=V;const se=j.split(/(?:\r\n?|\n)/);for(let q=0,de=se.length;q<de;++q){const be=se[q];Q.append(document.createTextNode(be)),q<de-1&&Q.append(document.createElement("br"))}return Q}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(j=!1){j&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(j=!0){j&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class T extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0}),this.textContent=j.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const j=document.createElement("div");j.className="annotationTextContent",j.setAttribute("role","comment");for(const V of this.textContent){const Q=document.createElement("span");Q.textContent=V,j.append(Q)}this.container.append(j)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class $ extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const j=this.data,{width:V,height:Q}=b(j.rect),se=this.svgFactory.create(V,Q,!0),q=this.svgFactory.createElement("svg:line");return q.setAttribute("x1",j.rect[2]-j.lineCoordinates[0]),q.setAttribute("y1",j.rect[3]-j.lineCoordinates[1]),q.setAttribute("x2",j.rect[2]-j.lineCoordinates[2]),q.setAttribute("y2",j.rect[3]-j.lineCoordinates[3]),q.setAttribute("stroke-width",j.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),se.append(q),this.container.append(se),this._createPopup(q,j),this.container}}class G extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const j=this.data,{width:V,height:Q}=b(j.rect),se=this.svgFactory.create(V,Q,!0),q=j.borderStyle.width,de=this.svgFactory.createElement("svg:rect");return de.setAttribute("x",q/2),de.setAttribute("y",q/2),de.setAttribute("width",V-q),de.setAttribute("height",Q-q),de.setAttribute("stroke-width",q||1),de.setAttribute("stroke","transparent"),de.setAttribute("fill","transparent"),se.append(de),this.container.append(se),this._createPopup(de,j),this.container}}class ue extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const j=this.data,{width:V,height:Q}=b(j.rect),se=this.svgFactory.create(V,Q,!0),q=j.borderStyle.width,de=this.svgFactory.createElement("svg:ellipse");return de.setAttribute("cx",V/2),de.setAttribute("cy",Q/2),de.setAttribute("rx",V/2-q/2),de.setAttribute("ry",Q/2-q/2),de.setAttribute("stroke-width",q||1),de.setAttribute("stroke","transparent"),de.setAttribute("fill","transparent"),se.append(de),this.container.append(se),this._createPopup(de,j),this.container}}class te extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const j=this.data,{width:V,height:Q}=b(j.rect),se=this.svgFactory.create(V,Q,!0);let q=[];for(const be of j.vertices){const Ee=be.x-j.rect[0],Pe=j.rect[3]-be.y;q.push(Ee+","+Pe)}q=q.join(" ");const de=this.svgFactory.createElement(this.svgElementName);return de.setAttribute("points",q),de.setAttribute("stroke-width",j.borderStyle.width||1),de.setAttribute("stroke","transparent"),de.setAttribute("fill","transparent"),se.append(de),this.container.append(se),this._createPopup(de,j),this.container}}class Se extends te{constructor(j){super(j),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class he extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Te extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const j=this.data,{width:V,height:Q}=b(j.rect),se=this.svgFactory.create(V,Q,!0);for(const q of j.inkLists){let de=[];for(const Ee of q){const Pe=Ee.x-j.rect[0],fe=j.rect[3]-Ee.y;de.push(`${Pe},${fe}`)}de=de.join(" ");const be=this.svgFactory.createElement(this.svgElementName);be.setAttribute("points",de),be.setAttribute("stroke-width",j.borderStyle.width||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),this._createPopup(be,j),se.append(be)}return this.container.append(se),this.container}}class ve extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ce extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ae extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class pe extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ee extends C{constructor(j){var Q,se,q;const V=!!(j.data.hasPopup||(Q=j.data.titleObj)!=null&&Q.str||(se=j.data.contentsObj)!=null&&se.str||(q=j.data.richText)!=null&&q.str);super(j,{isRenderable:V,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class N extends C{constructor(j){var se;super(j,{isRenderable:!0});const{filename:V,content:Q}=this.data.file;this.filename=(0,u.getFilenameFromUrl)(V,!0),this.content=Q,(se=this.linkService.eventBus)==null||se.dispatch("fileattachmentannotation",{source:this,filename:V,content:Q})}render(){var V,Q;this.container.className="fileAttachmentAnnotation";let j;return this.data.hasAppearance?j=document.createElement("div"):(j=document.createElement("img"),j.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),j.className="popupTriggerArea",j.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((V=this.data.titleObj)!=null&&V.str||(Q=this.data.contentsObj)!=null&&Q.str||this.data.richText)&&this._createPopup(j,this.data),this.container.append(j),this.container}_download(){var j;(j=this.downloadManager)==null||j.openOrDownloadData(this.container,this.content,this.filename)}}const Ce=class Ce{static render(j){var Ee,Pe;const{annotations:V,div:Q,viewport:se,accessibilityManager:q}=j;(0,u.setLayerDimensions)(Q,se);const de={data:null,layer:Q,page:j.page,viewport:se,linkService:j.linkService,downloadManager:j.downloadManager,imageResourcesPath:j.imageResourcesPath||"",renderForms:j.renderForms!==!1,svgFactory:new u.DOMSVGFactory,annotationStorage:j.annotationStorage||new c.AnnotationStorage,enableScripting:j.enableScripting===!0,hasJSActions:j.hasJSActions,fieldObjects:j.fieldObjects};let be=0;for(const fe of V){if(fe.annotationType!==l.AnnotationType.POPUP){const{width:me,height:Re}=b(fe.rect);if(me<=0||Re<=0)continue}de.data=fe;const W=v.create(de);if(!W.isRenderable)continue;const Y=W.render();if(fe.hidden&&(Y.style.visibility="hidden"),Array.isArray(Y))for(const me of Y)me.style.zIndex=be++,$e(Ee=Ce,K,Na).call(Ee,me,fe.id,Q,q);else Y.style.zIndex=be++,W instanceof B?Q.prepend(Y):$e(Pe=Ce,K,Na).call(Pe,Y,fe.id,Q,q)}$e(this,K,Da).call(this,Q,j.annotationCanvasMap)}static update(j){const{annotationCanvasMap:V,div:Q,viewport:se}=j;(0,u.setLayerDimensions)(Q,{rotation:se.rotation}),$e(this,K,Da).call(this,Q,V),Q.hidden=!1}};K=new WeakSet,Na=function(j,V,Q,se){const q=j.firstChild||j;q.id=`${u.AnnotationPrefix}${V}`,Q.append(j),se==null||se.moveElementInDOM(Q,j,q,!1)},Da=function(j,V){if(V){for(const[Q,se]of V){const q=j.querySelector(`[data-annotation-id="${Q}"]`);if(!q)continue;const{firstChild:de}=q;de?de.nodeName==="CANVAS"?de.replaceWith(se):de.before(se):q.append(se)}V.clear()}},ze(Ce,K);let I=Ce;e.AnnotationLayer=I},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function a(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}class l{static CMYK_G([c,d,h,m]){return["G",1-Math.min(1,.3*c+.59*h+.11*d+m)]}static G_CMYK([c]){return["CMYK",0,0,0,1-c]}static G_RGB([c]){return["RGB",c,c,c]}static G_HTML([c]){const d=a(c);return`#${d}${d}${d}`}static RGB_G([c,d,h]){return["G",.3*c+.59*d+.11*h]}static RGB_HTML([c,d,h]){const m=a(c),g=a(d),y=a(h);return`#${m}${g}${y}`}static T_HTML(){return"#00000000"}static CMYK_RGB([c,d,h,m]){return["RGB",1-Math.min(1,c+m),1-Math.min(1,h+m),1-Math.min(1,d+m)]}static CMYK_HTML(c){const d=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(d)}static RGB_CMYK([c,d,h]){const m=1-c,g=1-d,y=1-h,b=Math.min(m,g,y);return["CMYK",m,g,y,b]}}e.ColorConverters=l},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var l=a(19);class u{static setupStorage(d,h,m,g,y){const b=g.getValue(h,{value:null});switch(m.name){case"textarea":if(b.value!==null&&(d.textContent=b.value),y==="print")break;d.addEventListener("input",v=>{g.setValue(h,{value:v.target.value})});break;case"input":if(m.attributes.type==="radio"||m.attributes.type==="checkbox"){if(b.value===m.attributes.xfaOn?d.setAttribute("checked",!0):b.value===m.attributes.xfaOff&&d.removeAttribute("checked"),y==="print")break;d.addEventListener("change",v=>{g.setValue(h,{value:v.target.checked?v.target.getAttribute("xfaOn"):v.target.getAttribute("xfaOff")})})}else{if(b.value!==null&&d.setAttribute("value",b.value),y==="print")break;d.addEventListener("input",v=>{g.setValue(h,{value:v.target.value})})}break;case"select":if(b.value!==null)for(const v of m.children)v.attributes.value===b.value&&(v.attributes.selected=!0);d.addEventListener("input",v=>{const C=v.target.options,S=C.selectedIndex===-1?"":C[C.selectedIndex].value;g.setValue(h,{value:S})});break}}static setAttributes({html:d,element:h,storage:m=null,intent:g,linkService:y}){const{attributes:b}=h,v=d instanceof HTMLAnchorElement;b.type==="radio"&&(b.name=`${b.name}-${g}`);for(const[C,S]of Object.entries(b))if(S!=null)switch(C){case"class":S.length&&d.setAttribute(C,S.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",S);break;case"style":Object.assign(d.style,S);break;case"textContent":d.textContent=S;break;default:(!v||C!=="href"&&C!=="newWindow")&&d.setAttribute(C,S)}v&&y.addLinkAttributes(d,b.href,b.newWindow),m&&b.dataId&&this.setupStorage(d,b.dataId,h,m)}static render(d){var E;const h=d.annotationStorage,m=d.linkService,g=d.xfaHtml,y=d.intent||"display",b=document.createElement(g.name);g.attributes&&this.setAttributes({html:b,element:g,intent:y,linkService:m});const v=[[g,-1,b]],C=d.div;if(C.append(b),d.viewport){const _=`matrix(${d.viewport.transform.join(",")})`;C.style.transform=_}y!=="richText"&&C.setAttribute("class","xfaLayer xfaFont");const S=[];for(;v.length>0;){const[_,A,R]=v.at(-1);if(A+1===_.children.length){v.pop();continue}const k=_.children[++v.at(-1)[1]];if(k===null)continue;const{name:M}=k;if(M==="#text"){const B=document.createTextNode(k.value);S.push(B),R.append(B);continue}let D;if((E=k==null?void 0:k.attributes)!=null&&E.xmlns?D=document.createElementNS(k.attributes.xmlns,M):D=document.createElement(M),R.append(D),k.attributes&&this.setAttributes({html:D,element:k,storage:h,intent:y,linkService:m}),k.children&&k.children.length>0)v.push([k,-1,D]);else if(k.value){const B=document.createTextNode(k.value);l.XfaText.shouldBuildText(M)&&S.push(B),D.append(B)}}for(const _ of C.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:S}}static update(d){const h=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=h,d.div.hidden=!1}}e.XfaLayer=u},(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var l=a(6),u=a(1),c=a(10);let d=class{constructor(){(0,u.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=d;{let R=function(T){let $=[];const G=[];for(const ue of T){if(ue.fn==="save"){$.push({fnId:92,fn:"group",items:[]}),G.push($),$=$.at(-1).items;continue}ue.fn==="restore"?$=G.pop():$.push(ue)}return $},k=function(T){if(Number.isInteger(T))return T.toString();const $=T.toFixed(10);let G=$.length-1;if($[G]!=="0")return $;do G--;while($[G]==="0");return $.substring(0,$[G]==="."?G:G+1)},M=function(T){if(T[4]===0&&T[5]===0){if(T[1]===0&&T[2]===0)return T[0]===1&&T[3]===1?"":`scale(${k(T[0])} ${k(T[3])})`;if(T[0]===T[3]&&T[1]===-T[2]){const $=Math.acos(T[0])*180/Math.PI;return`rotate(${k($)})`}}else if(T[0]===1&&T[1]===0&&T[2]===0&&T[3]===1)return`translate(${k(T[4])} ${k(T[5])})`;return`matrix(${k(T[0])} ${k(T[1])} ${k(T[2])} ${k(T[3])} ${k(T[4])} ${k(T[5])})`};var h=R,m=k,g=M;const y={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},b="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/1999/xlink",C=["butt","round","square"],S=["miter","round","bevel"],E=function(T,$="",G=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!G)return URL.createObjectURL(new Blob([T],{type:$}));const ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let te=`data:${$};base64,`;for(let Se=0,he=T.length;Se<he;Se+=3){const Te=T[Se]&255,ve=T[Se+1]&255,ce=T[Se+2]&255,ae=Te>>2,pe=(Te&3)<<4|ve>>4,ee=Se+1<he?(ve&15)<<2|ce>>6:64,N=Se+2<he?ce&63:64;te+=ue[ae]+ue[pe]+ue[ee]+ue[N]}return te},_=function(){const T=new Uint8Array([137,80,78,71,13,10,26,10]),$=12,G=new Int32Array(256);for(let ce=0;ce<256;ce++){let ae=ce;for(let pe=0;pe<8;pe++)ae&1?ae=3988292384^ae>>1&2147483647:ae=ae>>1&2147483647;G[ce]=ae}function ue(ce,ae,pe){let ee=-1;for(let N=ae;N<pe;N++){const I=(ee^ce[N])&255,L=G[I];ee=ee>>>8^L}return ee^-1}function te(ce,ae,pe,ee){let N=ee;const I=ae.length;pe[N]=I>>24&255,pe[N+1]=I>>16&255,pe[N+2]=I>>8&255,pe[N+3]=I&255,N+=4,pe[N]=ce.charCodeAt(0)&255,pe[N+1]=ce.charCodeAt(1)&255,pe[N+2]=ce.charCodeAt(2)&255,pe[N+3]=ce.charCodeAt(3)&255,N+=4,pe.set(ae,N),N+=ae.length;const L=ue(pe,ee+4,N);pe[N]=L>>24&255,pe[N+1]=L>>16&255,pe[N+2]=L>>8&255,pe[N+3]=L&255}function Se(ce,ae,pe){let ee=1,N=0;for(let I=ae;I<pe;++I)ee=(ee+(ce[I]&255))%65521,N=(N+ee)%65521;return N<<16|ee}function he(ce){if(!c.isNodeJS)return Te(ce);try{let ae;parseInt(process.versions.node)>=8?ae=ce:ae=Buffer.from(ce);const pe=require$$5.deflateSync(ae,{level:9});return pe instanceof Uint8Array?pe:new Uint8Array(pe)}catch(ae){(0,u.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ae)}return Te(ce)}function Te(ce){let ae=ce.length;const pe=65535,ee=Math.ceil(ae/pe),N=new Uint8Array(2+ae+ee*5+4);let I=0;N[I++]=120,N[I++]=156;let L=0;for(;ae>pe;)N[I++]=0,N[I++]=255,N[I++]=255,N[I++]=0,N[I++]=0,N.set(ce.subarray(L,L+pe),I),I+=pe,L+=pe,ae-=pe;N[I++]=1,N[I++]=ae&255,N[I++]=ae>>8&255,N[I++]=~ae&65535&255,N[I++]=(~ae&65535)>>8&255,N.set(ce.subarray(L),I),I+=ce.length-L;const H=Se(ce,0,ce.length);return N[I++]=H>>24&255,N[I++]=H>>16&255,N[I++]=H>>8&255,N[I++]=H&255,N}function ve(ce,ae,pe,ee){const N=ce.width,I=ce.height;let L,H,re;const oe=ce.data;switch(ae){case u.ImageKind.GRAYSCALE_1BPP:H=0,L=1,re=N+7>>3;break;case u.ImageKind.RGB_24BPP:H=2,L=8,re=N*3;break;case u.ImageKind.RGBA_32BPP:H=6,L=8,re=N*4;break;default:throw new Error("invalid format")}const K=new Uint8Array((1+re)*I);let le=0,ye=0;for(let se=0;se<I;++se)K[le++]=0,K.set(oe.subarray(ye,ye+re),le),ye+=re,le+=re;if(ae===u.ImageKind.GRAYSCALE_1BPP&&ee){le=0;for(let se=0;se<I;se++){le++;for(let q=0;q<re;q++)K[le++]^=255}}const Ce=new Uint8Array([N>>24&255,N>>16&255,N>>8&255,N&255,I>>24&255,I>>16&255,I>>8&255,I&255,L,H,0,0,0]),xe=he(K),j=T.length+$*3+Ce.length+xe.length,V=new Uint8Array(j);let Q=0;return V.set(T,Q),Q+=T.length,te("IHDR",Ce,V,Q),Q+=$+Ce.length,te("IDATA",xe,V,Q),Q+=$+xe.length,te("IEND",new Uint8Array(0),V,Q),E(V,"image/png",pe)}return function(ae,pe,ee){const N=ae.kind===void 0?u.ImageKind.GRAYSCALE_1BPP:ae.kind;return ve(ae,N,pe,ee)}}();class A{constructor(){this.fontSizeScale=1,this.fontWeight=y.fontWeight,this.fontSize=0,this.textMatrix=u.IDENTITY_MATRIX,this.fontMatrix=u.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=u.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=y.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint($,G){this.x=$,this.y=G}}let D=0,B=0,U=0;e.SVGGraphics=d=class{constructor(T,$,G=!1){(0,l.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new l.DOMSVGFactory,this.current=new A,this.transformMatrix=u.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=T,this.objs=$,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!G,this._operatorIdMapping=[];for(const ue in u.OPS)this._operatorIdMapping[u.OPS[ue]]=ue}getObject(T,$=null){return typeof T=="string"?T.startsWith("g_")?this.commonObjs.get(T):this.objs.get(T):$}save(){this.transformStack.push(this.transformMatrix);const T=this.current;this.extraStack.push(T),this.current=T.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(T){this.save(),this.executeOpTree(T),this.restore()}loadDependencies(T){const $=T.fnArray,G=T.argsArray;for(let ue=0,te=$.length;ue<te;ue++)if($[ue]===u.OPS.dependency)for(const Se of G[ue]){const he=Se.startsWith("g_")?this.commonObjs:this.objs,Te=new Promise(ve=>{he.get(Se,ve)});this.current.dependencies.push(Te)}return Promise.all(this.current.dependencies)}transform(T,$,G,ue,te,Se){const he=[T,$,G,ue,te,Se];this.transformMatrix=u.Util.transform(this.transformMatrix,he),this.tgrp=null}getSVG(T,$){this.viewport=$;const G=this._initialize($);return this.loadDependencies(T).then(()=>(this.transformMatrix=u.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(T)),G))}convertOpList(T){const $=this._operatorIdMapping,G=T.argsArray,ue=T.fnArray,te=[];for(let Se=0,he=ue.length;Se<he;Se++){const Te=ue[Se];te.push({fnId:Te,fn:$[Te],args:G[Se]})}return R(te)}executeOpTree(T){for(const $ of T){const G=$.fn,ue=$.fnId,te=$.args;switch(ue|0){case u.OPS.beginText:this.beginText();break;case u.OPS.dependency:break;case u.OPS.setLeading:this.setLeading(te);break;case u.OPS.setLeadingMoveText:this.setLeadingMoveText(te[0],te[1]);break;case u.OPS.setFont:this.setFont(te);break;case u.OPS.showText:this.showText(te[0]);break;case u.OPS.showSpacedText:this.showText(te[0]);break;case u.OPS.endText:this.endText();break;case u.OPS.moveText:this.moveText(te[0],te[1]);break;case u.OPS.setCharSpacing:this.setCharSpacing(te[0]);break;case u.OPS.setWordSpacing:this.setWordSpacing(te[0]);break;case u.OPS.setHScale:this.setHScale(te[0]);break;case u.OPS.setTextMatrix:this.setTextMatrix(te[0],te[1],te[2],te[3],te[4],te[5]);break;case u.OPS.setTextRise:this.setTextRise(te[0]);break;case u.OPS.setTextRenderingMode:this.setTextRenderingMode(te[0]);break;case u.OPS.setLineWidth:this.setLineWidth(te[0]);break;case u.OPS.setLineJoin:this.setLineJoin(te[0]);break;case u.OPS.setLineCap:this.setLineCap(te[0]);break;case u.OPS.setMiterLimit:this.setMiterLimit(te[0]);break;case u.OPS.setFillRGBColor:this.setFillRGBColor(te[0],te[1],te[2]);break;case u.OPS.setStrokeRGBColor:this.setStrokeRGBColor(te[0],te[1],te[2]);break;case u.OPS.setStrokeColorN:this.setStrokeColorN(te);break;case u.OPS.setFillColorN:this.setFillColorN(te);break;case u.OPS.shadingFill:this.shadingFill(te[0]);break;case u.OPS.setDash:this.setDash(te[0],te[1]);break;case u.OPS.setRenderingIntent:this.setRenderingIntent(te[0]);break;case u.OPS.setFlatness:this.setFlatness(te[0]);break;case u.OPS.setGState:this.setGState(te[0]);break;case u.OPS.fill:this.fill();break;case u.OPS.eoFill:this.eoFill();break;case u.OPS.stroke:this.stroke();break;case u.OPS.fillStroke:this.fillStroke();break;case u.OPS.eoFillStroke:this.eoFillStroke();break;case u.OPS.clip:this.clip("nonzero");break;case u.OPS.eoClip:this.clip("evenodd");break;case u.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case u.OPS.paintImageXObject:this.paintImageXObject(te[0]);break;case u.OPS.paintInlineImageXObject:this.paintInlineImageXObject(te[0]);break;case u.OPS.paintImageMaskXObject:this.paintImageMaskXObject(te[0]);break;case u.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(te[0],te[1]);break;case u.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case u.OPS.closePath:this.closePath();break;case u.OPS.closeStroke:this.closeStroke();break;case u.OPS.closeFillStroke:this.closeFillStroke();break;case u.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case u.OPS.nextLine:this.nextLine();break;case u.OPS.transform:this.transform(te[0],te[1],te[2],te[3],te[4],te[5]);break;case u.OPS.constructPath:this.constructPath(te[0],te[1]);break;case u.OPS.endPath:this.endPath();break;case 92:this.group($.items);break;default:(0,u.warn)(`Unimplemented operator ${G}`);break}}}setWordSpacing(T){this.current.wordSpacing=T}setCharSpacing(T){this.current.charSpacing=T}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(T,$,G,ue,te,Se){const he=this.current;he.textMatrix=he.lineMatrix=[T,$,G,ue,te,Se],he.textMatrixScale=Math.hypot(T,$),he.x=he.lineX=0,he.y=he.lineY=0,he.xcoords=[],he.ycoords=[],he.tspan=this.svgFactory.createElement("svg:tspan"),he.tspan.setAttributeNS(null,"font-family",he.fontFamily),he.tspan.setAttributeNS(null,"font-size",`${k(he.fontSize)}px`),he.tspan.setAttributeNS(null,"y",k(-he.y)),he.txtElement=this.svgFactory.createElement("svg:text"),he.txtElement.append(he.tspan)}beginText(){const T=this.current;T.x=T.lineX=0,T.y=T.lineY=0,T.textMatrix=u.IDENTITY_MATRIX,T.lineMatrix=u.IDENTITY_MATRIX,T.textMatrixScale=1,T.tspan=this.svgFactory.createElement("svg:tspan"),T.txtElement=this.svgFactory.createElement("svg:text"),T.txtgrp=this.svgFactory.createElement("svg:g"),T.xcoords=[],T.ycoords=[]}moveText(T,$){const G=this.current;G.x=G.lineX+=T,G.y=G.lineY+=$,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${k(G.fontSize)}px`),G.tspan.setAttributeNS(null,"y",k(-G.y))}showText(T){const $=this.current,G=$.font,ue=$.fontSize;if(ue===0)return;const te=$.fontSizeScale,Se=$.charSpacing,he=$.wordSpacing,Te=$.fontDirection,ve=$.textHScale*Te,ce=G.vertical,ae=ce?1:-1,pe=G.defaultVMetrics,ee=ue*$.fontMatrix[0];let N=0;for(const H of T){if(H===null){N+=Te*he;continue}else if(typeof H=="number"){N+=ae*H*ue/1e3;continue}const re=(H.isSpace?he:0)+Se,oe=H.fontChar;let K,le,ye=H.width;if(ce){let xe;const j=H.vmetric||pe;xe=H.vmetric?j[1]:ye*.5,xe=-xe*ee;const V=j[2]*ee;ye=j?-j[0]:ye,K=xe/te,le=(N+V)/te}else K=N/te,le=0;(H.isInFont||G.missingFile)&&($.xcoords.push($.x+K),ce&&$.ycoords.push(-$.y+le),$.tspan.textContent+=oe);let Ce;ce?Ce=ye*ee-re*Te:Ce=ye*ee+re*Te,N+=Ce}$.tspan.setAttributeNS(null,"x",$.xcoords.map(k).join(" ")),ce?$.tspan.setAttributeNS(null,"y",$.ycoords.map(k).join(" ")):$.tspan.setAttributeNS(null,"y",k(-$.y)),ce?$.y-=N:$.x+=N*ve,$.tspan.setAttributeNS(null,"font-family",$.fontFamily),$.tspan.setAttributeNS(null,"font-size",`${k($.fontSize)}px`),$.fontStyle!==y.fontStyle&&$.tspan.setAttributeNS(null,"font-style",$.fontStyle),$.fontWeight!==y.fontWeight&&$.tspan.setAttributeNS(null,"font-weight",$.fontWeight);const I=$.textRenderingMode&u.TextRenderingMode.FILL_STROKE_MASK;if(I===u.TextRenderingMode.FILL||I===u.TextRenderingMode.FILL_STROKE?($.fillColor!==y.fillColor&&$.tspan.setAttributeNS(null,"fill",$.fillColor),$.fillAlpha<1&&$.tspan.setAttributeNS(null,"fill-opacity",$.fillAlpha)):$.textRenderingMode===u.TextRenderingMode.ADD_TO_PATH?$.tspan.setAttributeNS(null,"fill","transparent"):$.tspan.setAttributeNS(null,"fill","none"),I===u.TextRenderingMode.STROKE||I===u.TextRenderingMode.FILL_STROKE){const H=1/($.textMatrixScale||1);this._setStrokeAttributes($.tspan,H)}let L=$.textMatrix;$.textRise!==0&&(L=L.slice(),L[5]+=$.textRise),$.txtElement.setAttributeNS(null,"transform",`${M(L)} scale(${k(ve)}, -1)`),$.txtElement.setAttributeNS(b,"xml:space","preserve"),$.txtElement.append($.tspan),$.txtgrp.append($.txtElement),this._ensureTransformGroup().append($.txtElement)}setLeadingMoveText(T,$){this.setLeading(-$),this.moveText(T,$)}addFontStyle(T){if(!T.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const $=E(T.data,T.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${T.loadedName}"; src: url(${$}); }
`}setFont(T){const $=this.current,G=this.commonObjs.get(T[0]);let ue=T[1];$.font=G,this.embedFonts&&!G.missingFile&&!this.embeddedFonts[G.loadedName]&&(this.addFontStyle(G),this.embeddedFonts[G.loadedName]=G),$.fontMatrix=G.fontMatrix||u.FONT_IDENTITY_MATRIX;let te="normal";G.black?te="900":G.bold&&(te="bold");const Se=G.italic?"italic":"normal";ue<0?(ue=-ue,$.fontDirection=-1):$.fontDirection=1,$.fontSize=ue,$.fontFamily=G.loadedName,$.fontWeight=te,$.fontStyle=Se,$.tspan=this.svgFactory.createElement("svg:tspan"),$.tspan.setAttributeNS(null,"y",k(-$.y)),$.xcoords=[],$.ycoords=[]}endText(){var $;const T=this.current;T.textRenderingMode&u.TextRenderingMode.ADD_TO_PATH_FLAG&&(($=T.txtElement)!=null&&$.hasChildNodes())&&(T.element=T.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(T){T>0&&(this.current.lineWidth=T)}setLineCap(T){this.current.lineCap=C[T]}setLineJoin(T){this.current.lineJoin=S[T]}setMiterLimit(T){this.current.miterLimit=T}setStrokeAlpha(T){this.current.strokeAlpha=T}setStrokeRGBColor(T,$,G){this.current.strokeColor=u.Util.makeHexColor(T,$,G)}setFillAlpha(T){this.current.fillAlpha=T}setFillRGBColor(T,$,G){this.current.fillColor=u.Util.makeHexColor(T,$,G),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(T){this.current.strokeColor=this._makeColorN_Pattern(T)}setFillColorN(T){this.current.fillColor=this._makeColorN_Pattern(T)}shadingFill(T){const $=this.viewport.width,G=this.viewport.height,ue=u.Util.inverseTransform(this.transformMatrix),te=u.Util.applyTransform([0,0],ue),Se=u.Util.applyTransform([0,G],ue),he=u.Util.applyTransform([$,0],ue),Te=u.Util.applyTransform([$,G],ue),ve=Math.min(te[0],Se[0],he[0],Te[0]),ce=Math.min(te[1],Se[1],he[1],Te[1]),ae=Math.max(te[0],Se[0],he[0],Te[0]),pe=Math.max(te[1],Se[1],he[1],Te[1]),ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x",ve),ee.setAttributeNS(null,"y",ce),ee.setAttributeNS(null,"width",ae-ve),ee.setAttributeNS(null,"height",pe-ce),ee.setAttributeNS(null,"fill",this._makeShadingPattern(T)),this.current.fillAlpha<1&&ee.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ee)}_makeColorN_Pattern(T){return T[0]==="TilingPattern"?this._makeTilingPattern(T):this._makeShadingPattern(T)}_makeTilingPattern(T){const $=T[1],G=T[2],ue=T[3]||u.IDENTITY_MATRIX,[te,Se,he,Te]=T[4],ve=T[5],ce=T[6],ae=T[7],pe=`shading${U++}`,[ee,N,I,L]=u.Util.normalizeRect([...u.Util.applyTransform([te,Se],ue),...u.Util.applyTransform([he,Te],ue)]),[H,re]=u.Util.singularValueDecompose2dScale(ue),oe=ve*H,K=ce*re,le=this.svgFactory.createElement("svg:pattern");le.setAttributeNS(null,"id",pe),le.setAttributeNS(null,"patternUnits","userSpaceOnUse"),le.setAttributeNS(null,"width",oe),le.setAttributeNS(null,"height",K),le.setAttributeNS(null,"x",`${ee}`),le.setAttributeNS(null,"y",`${N}`);const ye=this.svg,Ce=this.transformMatrix,xe=this.current.fillColor,j=this.current.strokeColor,V=this.svgFactory.create(I-ee,L-N);if(this.svg=V,this.transformMatrix=ue,ae===2){const Q=u.Util.makeHexColor(...$);this.current.fillColor=Q,this.current.strokeColor=Q}return this.executeOpTree(this.convertOpList(G)),this.svg=ye,this.transformMatrix=Ce,this.current.fillColor=xe,this.current.strokeColor=j,le.append(V.childNodes[0]),this.defs.append(le),`url(#${pe})`}_makeShadingPattern(T){switch(typeof T=="string"&&(T=this.objs.get(T)),T[0]){case"RadialAxial":const $=`shading${U++}`,G=T[3];let ue;switch(T[1]){case"axial":const te=T[4],Se=T[5];ue=this.svgFactory.createElement("svg:linearGradient"),ue.setAttributeNS(null,"id",$),ue.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ue.setAttributeNS(null,"x1",te[0]),ue.setAttributeNS(null,"y1",te[1]),ue.setAttributeNS(null,"x2",Se[0]),ue.setAttributeNS(null,"y2",Se[1]);break;case"radial":const he=T[4],Te=T[5],ve=T[6],ce=T[7];ue=this.svgFactory.createElement("svg:radialGradient"),ue.setAttributeNS(null,"id",$),ue.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ue.setAttributeNS(null,"cx",Te[0]),ue.setAttributeNS(null,"cy",Te[1]),ue.setAttributeNS(null,"r",ce),ue.setAttributeNS(null,"fx",he[0]),ue.setAttributeNS(null,"fy",he[1]),ue.setAttributeNS(null,"fr",ve);break;default:throw new Error(`Unknown RadialAxial type: ${T[1]}`)}for(const te of G){const Se=this.svgFactory.createElement("svg:stop");Se.setAttributeNS(null,"offset",te[0]),Se.setAttributeNS(null,"stop-color",te[1]),ue.append(Se)}return this.defs.append(ue),`url(#${$})`;case"Mesh":return(0,u.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${T[0]}`)}}setDash(T,$){this.current.dashArray=T,this.current.dashPhase=$}constructPath(T,$){const G=this.current;let ue=G.x,te=G.y,Se=[],he=0;for(const Te of T)switch(Te|0){case u.OPS.rectangle:ue=$[he++],te=$[he++];const ve=$[he++],ce=$[he++],ae=ue+ve,pe=te+ce;Se.push("M",k(ue),k(te),"L",k(ae),k(te),"L",k(ae),k(pe),"L",k(ue),k(pe),"Z");break;case u.OPS.moveTo:ue=$[he++],te=$[he++],Se.push("M",k(ue),k(te));break;case u.OPS.lineTo:ue=$[he++],te=$[he++],Se.push("L",k(ue),k(te));break;case u.OPS.curveTo:ue=$[he+4],te=$[he+5],Se.push("C",k($[he]),k($[he+1]),k($[he+2]),k($[he+3]),k(ue),k(te)),he+=6;break;case u.OPS.curveTo2:Se.push("C",k(ue),k(te),k($[he]),k($[he+1]),k($[he+2]),k($[he+3])),ue=$[he+2],te=$[he+3],he+=4;break;case u.OPS.curveTo3:ue=$[he+2],te=$[he+3],Se.push("C",k($[he]),k($[he+1]),k(ue),k(te),k(ue),k(te)),he+=4;break;case u.OPS.closePath:Se.push("Z");break}Se=Se.join(" "),G.path&&T.length>0&&T[0]!==u.OPS.rectangle&&T[0]!==u.OPS.moveTo?Se=G.path.getAttributeNS(null,"d")+Se:(G.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(G.path)),G.path.setAttributeNS(null,"d",Se),G.path.setAttributeNS(null,"fill","none"),G.element=G.path,G.setCurrentPoint(ue,te)}endPath(){const T=this.current;if(T.path=null,!this.pendingClip)return;if(!T.element){this.pendingClip=null;return}const $=`clippath${D++}`,G=this.svgFactory.createElement("svg:clipPath");G.setAttributeNS(null,"id",$),G.setAttributeNS(null,"transform",M(this.transformMatrix));const ue=T.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ue.setAttributeNS(null,"clip-rule","evenodd"):ue.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,G.append(ue),this.defs.append(G),T.activeClipUrl){T.clipGroup=null;for(const te of this.extraStack)te.clipGroup=null;G.setAttributeNS(null,"clip-path",T.activeClipUrl)}T.activeClipUrl=`url(#${$})`,this.tgrp=null}clip(T){this.pendingClip=T}closePath(){const T=this.current;if(T.path){const $=`${T.path.getAttributeNS(null,"d")}Z`;T.path.setAttributeNS(null,"d",$)}}setLeading(T){this.current.leading=-T}setTextRise(T){this.current.textRise=T}setTextRenderingMode(T){this.current.textRenderingMode=T}setHScale(T){this.current.textHScale=T/100}setRenderingIntent(T){}setFlatness(T){}setGState(T){for(const[$,G]of T)switch($){case"LW":this.setLineWidth(G);break;case"LC":this.setLineCap(G);break;case"LJ":this.setLineJoin(G);break;case"ML":this.setMiterLimit(G);break;case"D":this.setDash(G[0],G[1]);break;case"RI":this.setRenderingIntent(G);break;case"FL":this.setFlatness(G);break;case"Font":this.setFont(G);break;case"CA":this.setStrokeAlpha(G);break;case"ca":this.setFillAlpha(G);break;default:(0,u.warn)(`Unimplemented graphic state operator ${$}`);break}}fill(){const T=this.current;T.element&&(T.element.setAttributeNS(null,"fill",T.fillColor),T.element.setAttributeNS(null,"fill-opacity",T.fillAlpha),this.endPath())}stroke(){const T=this.current;T.element&&(this._setStrokeAttributes(T.element),T.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(T,$=1){const G=this.current;let ue=G.dashArray;$!==1&&ue.length>0&&(ue=ue.map(function(te){return $*te})),T.setAttributeNS(null,"stroke",G.strokeColor),T.setAttributeNS(null,"stroke-opacity",G.strokeAlpha),T.setAttributeNS(null,"stroke-miterlimit",k(G.miterLimit)),T.setAttributeNS(null,"stroke-linecap",G.lineCap),T.setAttributeNS(null,"stroke-linejoin",G.lineJoin),T.setAttributeNS(null,"stroke-width",k($*G.lineWidth)+"px"),T.setAttributeNS(null,"stroke-dasharray",ue.map(k).join(" ")),T.setAttributeNS(null,"stroke-dashoffset",k($*G.dashPhase)+"px")}eoFill(){var T;(T=this.current.element)==null||T.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var T;(T=this.current.element)==null||T.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const T=this.svgFactory.createElement("svg:rect");T.setAttributeNS(null,"x","0"),T.setAttributeNS(null,"y","0"),T.setAttributeNS(null,"width","1px"),T.setAttributeNS(null,"height","1px"),T.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(T)}paintImageXObject(T){const $=this.getObject(T);if(!$){(0,u.warn)(`Dependent image with object ID ${T} is not ready yet`);return}this.paintInlineImageXObject($)}paintInlineImageXObject(T,$){const G=T.width,ue=T.height,te=_(T,this.forceDataSchema,!!$),Se=this.svgFactory.createElement("svg:rect");Se.setAttributeNS(null,"x","0"),Se.setAttributeNS(null,"y","0"),Se.setAttributeNS(null,"width",k(G)),Se.setAttributeNS(null,"height",k(ue)),this.current.element=Se,this.clip("nonzero");const he=this.svgFactory.createElement("svg:image");he.setAttributeNS(v,"xlink:href",te),he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y",k(-ue)),he.setAttributeNS(null,"width",k(G)+"px"),he.setAttributeNS(null,"height",k(ue)+"px"),he.setAttributeNS(null,"transform",`scale(${k(1/G)} ${k(-1/ue)})`),$?$.append(he):this._ensureTransformGroup().append(he)}paintImageMaskXObject(T){const $=this.getObject(T.data,T);if($.bitmap){(0,u.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const G=this.current,ue=$.width,te=$.height,Se=G.fillColor;G.maskId=`mask${B++}`;const he=this.svgFactory.createElement("svg:mask");he.setAttributeNS(null,"id",G.maskId);const Te=this.svgFactory.createElement("svg:rect");Te.setAttributeNS(null,"x","0"),Te.setAttributeNS(null,"y","0"),Te.setAttributeNS(null,"width",k(ue)),Te.setAttributeNS(null,"height",k(te)),Te.setAttributeNS(null,"fill",Se),Te.setAttributeNS(null,"mask",`url(#${G.maskId})`),this.defs.append(he),this._ensureTransformGroup().append(Te),this.paintInlineImageXObject($,he)}paintFormXObjectBegin(T,$){if(Array.isArray(T)&&T.length===6&&this.transform(T[0],T[1],T[2],T[3],T[4],T[5]),$){const G=$[2]-$[0],ue=$[3]-$[1],te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x",$[0]),te.setAttributeNS(null,"y",$[1]),te.setAttributeNS(null,"width",k(G)),te.setAttributeNS(null,"height",k(ue)),this.current.element=te,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(T){const $=this.svgFactory.create(T.width,T.height),G=this.svgFactory.createElement("svg:defs");$.append(G),this.defs=G;const ue=this.svgFactory.createElement("svg:g");return ue.setAttributeNS(null,"transform",M(T.transform)),$.append(ue),this.svg=ue,$}_ensureClipGroup(){if(!this.current.clipGroup){const T=this.svgFactory.createElement("svg:g");T.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(T),this.current.clipGroup=T}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",M(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var a=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](a,a.exports,__w_pdfjs_require__),a.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return h.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return m.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return l.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return l.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return l.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return g.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return y.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return l.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return l.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return l.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return l.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return l.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return l.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return u.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return l.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return u.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return a.version}});var e=__w_pdfjs_require__(1),a=__w_pdfjs_require__(2),l=__w_pdfjs_require__(6),u=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),h=__w_pdfjs_require__(32),m=__w_pdfjs_require__(14),g=__w_pdfjs_require__(35),y=__w_pdfjs_require__(34)})(),__webpack_exports__})())}(pdf)),pdf.exports}var pdfExports=requirePdf();pdfExports.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js";function PdfDropzone({onTextExtracted:t}){const[e,a]=reactExports.useState(null),l=async d=>{const h=await d.arrayBuffer(),m=await pdfExports.getDocument({data:h}).promise;let g="";for(let y=1;y<=m.numPages;y++){const v=await(await m.getPage(y)).getTextContent();g+=v.items.map(C=>C.str).join(" ")+`
`}return g},u=reactExports.useCallback(d=>{const h=d.target.files[0];h&&l(h).then(m=>{localStorage.setItem("file-name",h.name),localStorage.setItem("text-from-pdf",m),a({name:h.name,textFromPdf:m}),t&&t(m)}).catch(m=>console.error("Failed to extract text from PDF",m))},[t]);reactExports.useEffect(()=>{const d=localStorage.getItem("file-name"),h=localStorage.getItem("text-from-pdf");d&&h&&(a({name:d,textFromPdf:h}),t&&t(h))},[t]);const c=()=>{localStorage.removeItem("file-name"),localStorage.removeItem("text-from-pdf"),a(null),t&&t("")};return e?jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border rounded-md px-3 py-2 mb-4",children:[jsxRuntimeExports.jsxs("pre",{className:"truncate flex justify-center items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"size-4"}),e.name]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:c,children:jsxRuntimeExports.jsx(Trash2,{className:"text-destructive size-5"})})]}):jsxRuntimeExports.jsx(Input,{type:"file",accept:"application/pdf",onChange:u,required:!0})}function composeEventHandlers$3(t,e,{checkForDefaultPrevented:a=!0}={}){return function(u){if(t==null||t(u),a===!1||!u.defaultPrevented)return e==null?void 0:e(u)}}function setRef$4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$4(...t){return e=>{let a=!1;const l=t.map(u=>{const c=setRef$4(u,e);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let u=0;u<l.length;u++){const c=l[u];typeof c=="function"?c():setRef$4(t[u],null)}}}}function useComposedRefs$3(...t){return reactExports.useCallback(composeRefs$4(...t),t)}function createContextScope$3(t,e=[]){let a=[];function l(c,d){const h=reactExports.createContext(d),m=a.length;a=[...a,d];const g=b=>{var A;const{scope:v,children:C,...S}=b,E=((A=v==null?void 0:v[t])==null?void 0:A[m])||h,_=reactExports.useMemo(()=>S,Object.values(S));return jsxRuntimeExports.jsx(E.Provider,{value:_,children:C})};g.displayName=c+"Provider";function y(b,v){var E;const C=((E=v==null?void 0:v[t])==null?void 0:E[m])||h,S=reactExports.useContext(C);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[g,y]}const u=()=>{const c=a.map(d=>reactExports.createContext(d));return function(h){const m=(h==null?void 0:h[t])||c;return reactExports.useMemo(()=>({[`__scope${t}`]:{...h,[t]:m}}),[h,m])}};return u.scopeName=t,[l,composeContextScopes$3(u,...e)]}function composeContextScopes$3(...t){const e=t[0];if(t.length===1)return e;const a=()=>{const l=t.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(c){const d=l.reduce((h,{useScope:m,scopeName:g})=>{const b=m(c)[`__scope${g}`];return{...h,...b}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return a.scopeName=e.scopeName,a}function createCollection$2(t){const e=t+"CollectionProvider",[a,l]=createContextScope$3(e),[u,c]=a(e,{collectionRef:{current:null},itemMap:new Map}),d=E=>{const{scope:_,children:A}=E,R=React2.useRef(null),k=React2.useRef(new Map).current;return jsxRuntimeExports.jsx(u,{scope:_,itemMap:k,collectionRef:R,children:A})};d.displayName=e;const h=t+"CollectionSlot",m=createSlot(h),g=React2.forwardRef((E,_)=>{const{scope:A,children:R}=E,k=c(h,A),M=useComposedRefs$3(_,k.collectionRef);return jsxRuntimeExports.jsx(m,{ref:M,children:R})});g.displayName=h;const y=t+"CollectionItemSlot",b="data-radix-collection-item",v=createSlot(y),C=React2.forwardRef((E,_)=>{const{scope:A,children:R,...k}=E,M=React2.useRef(null),D=useComposedRefs$3(_,M),B=c(y,A);return React2.useEffect(()=>(B.itemMap.set(M,{ref:M,...k}),()=>void B.itemMap.delete(M))),jsxRuntimeExports.jsx(v,{[b]:"",ref:D,children:R})});C.displayName=y;function S(E){const _=c(t+"CollectionConsumer",E);return React2.useCallback(()=>{const R=_.collectionRef.current;if(!R)return[];const k=Array.from(R.querySelectorAll(`[${b}]`));return Array.from(_.itemMap.values()).sort((B,U)=>k.indexOf(B.ref.current)-k.indexOf(U.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:d,Slot:g,ItemSlot:C},S,l]}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((t,e)=>{const a=createSlot(`Primitive.${e}`),l=reactExports.forwardRef((u,c)=>{const{asChild:d,...h}=u,m=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...h,ref:c})});return l.displayName=`Primitive.${e}`,{...t,[e]:l}},{});function dispatchDiscreteCustomEvent$1(t,e){t&&reactDomExports.flushSync(()=>t.dispatchEvent(e))}function useCallbackRef$2(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...a)=>{var l;return(l=e.current)==null?void 0:l.call(e,...a)},[])}function useEscapeKeydown$1(t,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$2(t);reactExports.useEffect(()=>{const l=u=>{u.key==="Escape"&&a(u)};return e.addEventListener("keydown",l,{capture:!0}),()=>e.removeEventListener("keydown",l,{capture:!0})},[a,e])}var DISMISSABLE_LAYER_NAME$1="DismissableLayer",CONTEXT_UPDATE$1="dismissableLayer.update",POINTER_DOWN_OUTSIDE$1="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE$1="dismissableLayer.focusOutside",originalBodyPointerEvents$1,DismissableLayerContext$1=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer$1=reactExports.forwardRef((t,e)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,onDismiss:h,...m}=t,g=reactExports.useContext(DismissableLayerContext$1),[y,b]=reactExports.useState(null),v=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=reactExports.useState({}),S=useComposedRefs$3(e,U=>b(U)),E=Array.from(g.layers),[_]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),A=E.indexOf(_),R=y?E.indexOf(y):-1,k=g.layersWithOutsidePointerEventsDisabled.size>0,M=R>=A,D=usePointerDownOutside$1(U=>{const T=U.target,$=[...g.branches].some(G=>G.contains(T));!M||$||(u==null||u(U),d==null||d(U),U.defaultPrevented||h==null||h())},v),B=useFocusOutside$1(U=>{const T=U.target;[...g.branches].some(G=>G.contains(T))||(c==null||c(U),d==null||d(U),U.defaultPrevented||h==null||h())},v);return useEscapeKeydown$1(U=>{R===g.layers.size-1&&(l==null||l(U),!U.defaultPrevented&&h&&(U.preventDefault(),h()))},v),reactExports.useEffect(()=>{if(y)return a&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents$1=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(y)),g.layers.add(y),dispatchUpdate$1(),()=>{a&&g.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=originalBodyPointerEvents$1)}},[y,v,a,g]),reactExports.useEffect(()=>()=>{y&&(g.layers.delete(y),g.layersWithOutsidePointerEventsDisabled.delete(y),dispatchUpdate$1())},[y,g]),reactExports.useEffect(()=>{const U=()=>C({});return document.addEventListener(CONTEXT_UPDATE$1,U),()=>document.removeEventListener(CONTEXT_UPDATE$1,U)},[]),jsxRuntimeExports.jsx(Primitive$3.div,{...m,ref:S,style:{pointerEvents:k?M?"auto":"none":void 0,...t.style},onFocusCapture:composeEventHandlers$3(t.onFocusCapture,B.onFocusCapture),onBlurCapture:composeEventHandlers$3(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:composeEventHandlers$3(t.onPointerDownCapture,D.onPointerDownCapture)})});DismissableLayer$1.displayName=DISMISSABLE_LAYER_NAME$1;var BRANCH_NAME$1="DismissableLayerBranch",DismissableLayerBranch$1=reactExports.forwardRef((t,e)=>{const a=reactExports.useContext(DismissableLayerContext$1),l=reactExports.useRef(null),u=useComposedRefs$3(e,l);return reactExports.useEffect(()=>{const c=l.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),jsxRuntimeExports.jsx(Primitive$3.div,{...t,ref:u})});DismissableLayerBranch$1.displayName=BRANCH_NAME$1;function usePointerDownOutside$1(t,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$2(t),l=reactExports.useRef(!1),u=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const c=h=>{if(h.target&&!l.current){let m=function(){handleAndDispatchCustomEvent$2(POINTER_DOWN_OUTSIDE$1,a,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",u.current),u.current=m,e.addEventListener("click",u.current,{once:!0})):m()}else e.removeEventListener("click",u.current);l.current=!1},d=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),e.removeEventListener("pointerdown",c),e.removeEventListener("click",u.current)}},[e,a]),{onPointerDownCapture:()=>l.current=!0}}function useFocusOutside$1(t,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$2(t),l=reactExports.useRef(!1);return reactExports.useEffect(()=>{const u=c=>{c.target&&!l.current&&handleAndDispatchCustomEvent$2(FOCUS_OUTSIDE$1,a,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",u),()=>e.removeEventListener("focusin",u)},[e,a]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function dispatchUpdate$1(){const t=new CustomEvent(CONTEXT_UPDATE$1);document.dispatchEvent(t)}function handleAndDispatchCustomEvent$2(t,e,a,{discrete:l}){const u=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});e&&u.addEventListener(t,e,{once:!0}),l?dispatchDiscreteCustomEvent$1(u,c):u.dispatchEvent(c)}var Root$2=DismissableLayer$1,Branch$1=DismissableLayerBranch$1,useLayoutEffect2$4=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME$3="Portal",Portal$2=reactExports.forwardRef((t,e)=>{var h;const{container:a,...l}=t,[u,c]=reactExports.useState(!1);useLayoutEffect2$4(()=>c(!0),[]);const d=a||u&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return d?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$3.div,{...l,ref:e}),d):null});Portal$2.displayName=PORTAL_NAME$3;function setRef$3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$3(...t){return e=>{let a=!1;const l=t.map(u=>{const c=setRef$3(u,e);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let u=0;u<l.length;u++){const c=l[u];typeof c=="function"?c():setRef$3(t[u],null)}}}}function useComposedRefs$2(...t){return reactExports.useCallback(composeRefs$3(...t),t)}var useLayoutEffect2$3=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{};function useStateMachine(t,e){return reactExports.useReducer((a,l)=>e[a][l]??a,t)}var Presence=t=>{const{present:e,children:a}=t,l=usePresence(e),u=typeof a=="function"?a({present:l.isPresent}):reactExports.Children.only(a),c=useComposedRefs$2(l.ref,getElementRef(u));return typeof a=="function"||l.isPresent?reactExports.cloneElement(u,{ref:c}):null};Presence.displayName="Presence";function usePresence(t){const[e,a]=reactExports.useState(),l=reactExports.useRef(null),u=reactExports.useRef(t),c=reactExports.useRef("none"),d=t?"mounted":"unmounted",[h,m]=useStateMachine(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const g=getAnimationName(l.current);c.current=h==="mounted"?g:"none"},[h]),useLayoutEffect2$3(()=>{const g=l.current,y=u.current;if(y!==t){const v=c.current,C=getAnimationName(g);t?m("MOUNT"):C==="none"||(g==null?void 0:g.display)==="none"?m("UNMOUNT"):m(y&&v!==C?"ANIMATION_OUT":"UNMOUNT"),u.current=t}},[t,m]),useLayoutEffect2$3(()=>{if(e){let g;const y=e.ownerDocument.defaultView??window,b=C=>{const E=getAnimationName(l.current).includes(C.animationName);if(C.target===e&&E&&(m("ANIMATION_END"),!u.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",g=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},v=C=>{C.target===e&&(c.current=getAnimationName(l.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{y.clearTimeout(g),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:reactExports.useCallback(g=>{l.current=g?getComputedStyle(g):null,a(g)},[])}}function getAnimationName(t){return(t==null?void 0:t.animationName)||"none"}function getElementRef(t){var l,u;let e=(l=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:l.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var useInsertionEffect$2=React[" useInsertionEffect ".trim().toString()]||useLayoutEffect2$4;function useControllableState$2({prop:t,defaultProp:e,onChange:a=()=>{},caller:l}){const[u,c,d]=useUncontrolledState$2({defaultProp:e,onChange:a}),h=t!==void 0,m=h?t:u;{const y=reactExports.useRef(t!==void 0);reactExports.useEffect(()=>{const b=y.current;b!==h&&console.warn(`${l} is changing from ${b?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,l])}const g=reactExports.useCallback(y=>{var b;if(h){const v=isFunction$5(y)?y(t):y;v!==t&&((b=d.current)==null||b.call(d,v))}else c(y)},[h,t,c,d]);return[m,g]}function useUncontrolledState$2({defaultProp:t,onChange:e}){const[a,l]=reactExports.useState(t),u=reactExports.useRef(a),c=reactExports.useRef(e);return useInsertionEffect$2(()=>{c.current=e},[e]),reactExports.useEffect(()=>{var d;u.current!==a&&((d=c.current)==null||d.call(c,a),u.current=a)},[a,u]),[a,l,c]}function isFunction$5(t){return typeof t=="function"}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$1="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Primitive$3.span,{...t,ref:e,style:{...VISUALLY_HIDDEN_STYLES,...t.style}}));VisuallyHidden.displayName=NAME$1;var PROVIDER_NAME="ToastProvider",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection$2("Toast"),[createToastContext,createToastScope]=createContextScope$3("Toast",[createCollectionScope$2]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME),VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:a,hotkey:l=VIEWPORT_DEFAULT_HOTKEY,label:u="Notifications ({hotkey})",...c}=t,d=useToastProviderContext(VIEWPORT_NAME,a),h=useCollection$2(a),m=reactExports.useRef(null),g=reactExports.useRef(null),y=reactExports.useRef(null),b=reactExports.useRef(null),v=useComposedRefs$3(e,b,d.onViewportChange),C=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=d.toastCount>0;reactExports.useEffect(()=>{const _=A=>{var k;l.length!==0&&l.every(M=>A[M]||A.code===M)&&((k=b.current)==null||k.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[l]),reactExports.useEffect(()=>{const _=m.current,A=b.current;if(S&&_&&A){const R=()=>{if(!d.isClosePausedRef.current){const B=new CustomEvent(VIEWPORT_PAUSE);A.dispatchEvent(B),d.isClosePausedRef.current=!0}},k=()=>{if(d.isClosePausedRef.current){const B=new CustomEvent(VIEWPORT_RESUME);A.dispatchEvent(B),d.isClosePausedRef.current=!1}},M=B=>{!_.contains(B.relatedTarget)&&k()},D=()=>{_.contains(document.activeElement)||k()};return _.addEventListener("focusin",R),_.addEventListener("focusout",M),_.addEventListener("pointermove",R),_.addEventListener("pointerleave",D),window.addEventListener("blur",R),window.addEventListener("focus",k),()=>{_.removeEventListener("focusin",R),_.removeEventListener("focusout",M),_.removeEventListener("pointermove",R),_.removeEventListener("pointerleave",D),window.removeEventListener("blur",R),window.removeEventListener("focus",k)}}},[S,d.isClosePausedRef]);const E=reactExports.useCallback(({tabbingDirection:_})=>{const R=h().map(k=>{const M=k.ref.current,D=[M,...getTabbableCandidates$1(M)];return _==="forwards"?D:D.reverse()});return(_==="forwards"?R.reverse():R).flat()},[h]);return reactExports.useEffect(()=>{const _=b.current;if(_){const A=R=>{var D,B,U;const k=R.altKey||R.ctrlKey||R.metaKey;if(R.key==="Tab"&&!k){const T=document.activeElement,$=R.shiftKey;if(R.target===_&&$){(D=g.current)==null||D.focus();return}const te=E({tabbingDirection:$?"backwards":"forwards"}),Se=te.findIndex(he=>he===T);focusFirst$3(te.slice(Se+1))?R.preventDefault():$?(B=g.current)==null||B.focus():(U=y.current)==null||U.focus()}};return _.addEventListener("keydown",A),()=>_.removeEventListener("keydown",A)}},[h,E]),jsxRuntimeExports.jsxs(Branch$1,{ref:m,role:"region","aria-label":u.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&jsxRuntimeExports.jsx(FocusProxy,{ref:g,onFocusFromOutsideViewport:()=>{const _=E({tabbingDirection:"forwards"});focusFirst$3(_)}}),jsxRuntimeExports.jsx(Collection$2.Slot,{scope:a,children:jsxRuntimeExports.jsx(Primitive$3.ol,{tabIndex:-1,...c,ref:v})}),S&&jsxRuntimeExports.jsx(FocusProxy,{ref:y,onFocusFromOutsideViewport:()=>{const _=E({tabbingDirection:"backwards"});focusFirst$3(_)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((t,e)=>{const{__scopeToast:a,onFocusFromOutsideViewport:l,...u}=t,c=useToastProviderContext(FOCUS_PROXY_NAME,a);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...u,ref:e,style:{position:"fixed"},onFocus:d=>{var g;const h=d.relatedTarget;!((g=c.viewport)!=null&&g.contains(h))&&l()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((t,e)=>{const{forceMount:a,open:l,defaultOpen:u,onOpenChange:c,...d}=t,[h,m]=useControllableState$2({prop:l,defaultProp:u??!0,onChange:c,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:a||h,children:jsxRuntimeExports.jsx(ToastImpl,{open:h,...d,ref:e,onClose:()=>m(!1),onPause:useCallbackRef$2(t.onPause),onResume:useCallbackRef$2(t.onResume),onSwipeStart:composeEventHandlers$3(t.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers$3(t.onSwipeMove,g=>{const{x:y,y:b}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:composeEventHandlers$3(t.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers$3(t.onSwipeEnd,g=>{const{x:y,y:b}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),m(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((t,e)=>{const{__scopeToast:a,type:l="foreground",duration:u,open:c,onClose:d,onEscapeKeyDown:h,onPause:m,onResume:g,onSwipeStart:y,onSwipeMove:b,onSwipeCancel:v,onSwipeEnd:C,...S}=t,E=useToastProviderContext(TOAST_NAME,a),[_,A]=reactExports.useState(null),R=useComposedRefs$3(e,he=>A(he)),k=reactExports.useRef(null),M=reactExports.useRef(null),D=u||E.duration,B=reactExports.useRef(0),U=reactExports.useRef(D),T=reactExports.useRef(0),{onToastAdd:$,onToastRemove:G}=E,ue=useCallbackRef$2(()=>{var Te;(_==null?void 0:_.contains(document.activeElement))&&((Te=E.viewport)==null||Te.focus()),d()}),te=reactExports.useCallback(he=>{!he||he===1/0||(window.clearTimeout(T.current),B.current=new Date().getTime(),T.current=window.setTimeout(ue,he))},[ue]);reactExports.useEffect(()=>{const he=E.viewport;if(he){const Te=()=>{te(U.current),g==null||g()},ve=()=>{const ce=new Date().getTime()-B.current;U.current=U.current-ce,window.clearTimeout(T.current),m==null||m()};return he.addEventListener(VIEWPORT_PAUSE,ve),he.addEventListener(VIEWPORT_RESUME,Te),()=>{he.removeEventListener(VIEWPORT_PAUSE,ve),he.removeEventListener(VIEWPORT_RESUME,Te)}}},[E.viewport,D,m,g,te]),reactExports.useEffect(()=>{c&&!E.isClosePausedRef.current&&te(D)},[c,D,E.isClosePausedRef,te]),reactExports.useEffect(()=>($(),()=>G()),[$,G]);const Se=reactExports.useMemo(()=>_?getAnnounceTextContent(_):null,[_]);return E.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Se&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:a,role:"status","aria-live":l==="foreground"?"assertive":"polite","aria-atomic":!0,children:Se}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:a,onClose:ue,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:a,children:jsxRuntimeExports.jsx(Root$2,{asChild:!0,onEscapeKeyDown:composeEventHandlers$3(h,()=>{E.isFocusedToastEscapeKeyDownRef.current||ue(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive$3.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":E.swipeDirection,...S,ref:R,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:composeEventHandlers$3(t.onKeyDown,he=>{he.key==="Escape"&&(h==null||h(he.nativeEvent),he.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,ue()))}),onPointerDown:composeEventHandlers$3(t.onPointerDown,he=>{he.button===0&&(k.current={x:he.clientX,y:he.clientY})}),onPointerMove:composeEventHandlers$3(t.onPointerMove,he=>{if(!k.current)return;const Te=he.clientX-k.current.x,ve=he.clientY-k.current.y,ce=!!M.current,ae=["left","right"].includes(E.swipeDirection),pe=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,ee=ae?pe(0,Te):0,N=ae?0:pe(0,ve),I=he.pointerType==="touch"?10:2,L={x:ee,y:N},H={originalEvent:he,delta:L};ce?(M.current=L,handleAndDispatchCustomEvent$1(TOAST_SWIPE_MOVE,b,H,{discrete:!1})):isDeltaInDirection(L,E.swipeDirection,I)?(M.current=L,handleAndDispatchCustomEvent$1(TOAST_SWIPE_START,y,H,{discrete:!1}),he.target.setPointerCapture(he.pointerId)):(Math.abs(Te)>I||Math.abs(ve)>I)&&(k.current=null)}),onPointerUp:composeEventHandlers$3(t.onPointerUp,he=>{const Te=M.current,ve=he.target;if(ve.hasPointerCapture(he.pointerId)&&ve.releasePointerCapture(he.pointerId),M.current=null,k.current=null,Te){const ce=he.currentTarget,ae={originalEvent:he,delta:Te};isDeltaInDirection(Te,E.swipeDirection,E.swipeThreshold)?handleAndDispatchCustomEvent$1(TOAST_SWIPE_END,C,ae,{discrete:!0}):handleAndDispatchCustomEvent$1(TOAST_SWIPE_CANCEL,v,ae,{discrete:!0}),ce.addEventListener("click",pe=>pe.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),ToastAnnounce=t=>{const{__scopeToast:e,children:a,...l}=t,u=useToastProviderContext(TOAST_NAME,e),[c,d]=reactExports.useState(!1),[h,m]=reactExports.useState(!1);return useNextFrame(()=>d(!0)),reactExports.useEffect(()=>{const g=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(g)},[]),h?null:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...l,children:c&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[u.label," ",a]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:a,...l}=t;return jsxRuntimeExports.jsx(Primitive$3.div,{...l,ref:e})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:a,...l}=t;return jsxRuntimeExports.jsx(Primitive$3.div,{...l,ref:e})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((t,e)=>{const{altText:a,...l}=t;return a.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:a,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...l,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:a,...l}=t,u=useToastInteractiveContext(CLOSE_NAME,a);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive$3.button,{type:"button",...l,ref:e,onClick:composeEventHandlers$3(t.onClick,u.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((t,e)=>{const{__scopeToast:a,altText:l,...u}=t;return jsxRuntimeExports.jsx(Primitive$3.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":l||void 0,...u,ref:e})});function getAnnounceTextContent(t){const e=[];return Array.from(t.childNodes).forEach(l=>{if(l.nodeType===l.TEXT_NODE&&l.textContent&&e.push(l.textContent),isHTMLElement(l)){const u=l.ariaHidden||l.hidden||l.style.display==="none",c=l.dataset.radixToastAnnounceExclude==="";if(!u)if(c){const d=l.dataset.radixToastAnnounceAlt;d&&e.push(d)}else e.push(...getAnnounceTextContent(l))}}),e}function handleAndDispatchCustomEvent$1(t,e,a,{discrete:l}){const u=a.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});e&&u.addEventListener(t,e,{once:!0}),l?dispatchDiscreteCustomEvent$1(u,c):u.dispatchEvent(c)}var isDeltaInDirection=(t,e,a=0)=>{const l=Math.abs(t.x),u=Math.abs(t.y),c=l>u;return e==="left"||e==="right"?c&&l>a:!c&&u>a};function useNextFrame(t=()=>{}){const e=useCallbackRef$2(t);useLayoutEffect2$4(()=>{let a=0,l=0;return a=window.requestAnimationFrame(()=>l=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(l)}},[e])}function isHTMLElement(t){return t.nodeType===t.ELEMENT_NODE}function getTabbableCandidates$1(t){const e=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const u=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||u?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)e.push(a.currentNode);return e}function focusFirst$3(t){const e=document.activeElement;return t.some(a=>a===e?!0:(a.focus(),document.activeElement!==e))}var Viewport=ToastViewport$1,Root2$2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action=ToastAction$1,Close=ToastClose$1;const ToastViewport=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(Viewport,{ref:a,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:t,variant:e,...a},l)=>jsxRuntimeExports.jsx(Root2$2,{ref:l,className:cn(toastVariants({variant:e}),t),...a}));Toast.displayName=Root2$2.displayName;const ToastAction=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(Action,{ref:a,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ToastAction.displayName=Action.displayName;const ToastClose=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(Close,{ref:a,className:cn("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(Title,{ref:a,className:cn("text-sm font-semibold [&+div]:text-xs",t),...e}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(Description,{ref:a,className:cn("text-sm opacity-90",t),...e}));ToastDescription.displayName=Description.displayName;const alertVariants=cva("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Alert=reactExports.forwardRef(({className:t,variant:e,...a},l)=>jsxRuntimeExports.jsx("div",{ref:l,role:"alert",className:cn(alertVariants({variant:e}),t),...a}));Alert.displayName="Alert";const AlertTitle=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx("h5",{ref:a,className:cn("mb-1 font-medium leading-none tracking-tight",t),...e}));AlertTitle.displayName="AlertTitle";const AlertDescription=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx("div",{ref:a,className:cn("text-sm [&_p]:leading-relaxed",t),...e}));AlertDescription.displayName="AlertDescription";function bind$1(t,e){return function(){return t.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(t=>e=>{const a=toString.call(e);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction$4(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString$2=typeOfTest("string"),isFunction$4=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$1=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject$1=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(toStringTag in t)&&!(iterator in t)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$1(t)&&isFunction$4(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction$4(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction$4(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(t,e,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let l,u;if(typeof t!="object"&&(t=[t]),isArray(t))for(l=0,u=t.length;l<u;l++)e.call(null,t[l],l,t);else{const c=a?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let h;for(l=0;l<d;l++)h=c[l],e.call(null,t[h],h,t)}}function findKey(t,e){e=e.toLowerCase();const a=Object.keys(t);let l=a.length,u;for(;l-- >0;)if(u=a[l],e===u.toLowerCase())return u;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge(){const{caseless:t}=isContextDefined(this)&&this||{},e={},a=(l,u)=>{const c=t&&findKey(e,u)||u;isPlainObject$1(e[c])&&isPlainObject$1(l)?e[c]=merge(e[c],l):isPlainObject$1(l)?e[c]=merge({},l):isArray(l)?e[c]=l.slice():e[c]=l};for(let l=0,u=arguments.length;l<u;l++)arguments[l]&&forEach$1(arguments[l],a);return e}const extend=(t,e,a,{allOwnKeys:l}={})=>(forEach$1(e,(u,c)=>{a&&isFunction$4(u)?t[c]=bind$1(u,a):t[c]=u},{allOwnKeys:l}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,a,l)=>{t.prototype=Object.create(e.prototype,l),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),a&&Object.assign(t.prototype,a)},toFlatObject=(t,e,a,l)=>{let u,c,d;const h={};if(e=e||{},t==null)return e;do{for(u=Object.getOwnPropertyNames(t),c=u.length;c-- >0;)d=u[c],(!l||l(d,t,e))&&!h[d]&&(e[d]=t[d],h[d]=!0);t=a!==!1&&getPrototypeOf(t)}while(t&&(!a||a(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=e.length;const l=t.indexOf(e,a);return l!==-1&&l===a},toArray=t=>{if(!t)return null;if(isArray(t))return t;let e=t.length;if(!isNumber$2(e))return null;const a=new Array(e);for(;e-- >0;)a[e]=t[e];return a},isTypedArray=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const l=(t&&t[iterator]).call(t);let u;for(;(u=l.next())&&!u.done;){const c=u.value;e.call(t,c[0],c[1])}},matchAll=(t,e)=>{let a;const l=[];for(;(a=t.exec(e))!==null;)l.push(a);return l},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,l,u){return l.toUpperCase()+u}),hasOwnProperty=(({hasOwnProperty:t})=>(e,a)=>t.call(e,a))(Object.prototype),isRegExp$2=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const a=Object.getOwnPropertyDescriptors(t),l={};forEach$1(a,(u,c)=>{let d;(d=e(u,c,t))!==!1&&(l[c]=d||u)}),Object.defineProperties(t,l)},freezeMethods=t=>{reduceDescriptors(t,(e,a)=>{if(isFunction$4(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const l=t[a];if(isFunction$4(l)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},toObjectSet=(t,e)=>{const a={},l=u=>{u.forEach(c=>{a[c]=!0})};return isArray(t)?l(t):l(String(t).split(e)),a},noop=()=>{},toFiniteNumber=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function isSpecCompliantForm(t){return!!(t&&isFunction$4(t.append)&&t[toStringTag]==="FormData"&&t[iterator])}const toJSONObject=t=>{const e=new Array(10),a=(l,u)=>{if(isObject$1(l)){if(e.indexOf(l)>=0)return;if(!("toJSON"in l)){e[u]=l;const c=isArray(l)?[]:{};return forEach$1(l,(d,h)=>{const m=a(d,u+1);!isUndefined(m)&&(c[h]=m)}),e[u]=void 0,c}}return l};return a(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject$1(t)||isFunction$4(t))&&isFunction$4(t.then)&&isFunction$4(t.catch),_setImmediate=((t,e)=>t?setImmediate:e?((a,l)=>(_global.addEventListener("message",({source:u,data:c})=>{u===_global&&c===a&&l.length&&l.shift()()},!1),u=>{l.push(u),_global.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",isFunction$4(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=t=>t!=null&&isFunction$4(t[iterator]),utils$2={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$2,isBoolean,isObject:isObject$1,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp:isRegExp$2,isFunction:isFunction$4,isStream,isURLSearchParams,isTypedArray,isFileList,forEach:forEach$1,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(t,e,a,l,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),a&&(this.config=a),l&&(this.request=l),u&&(this.response=u,this.status=u.status?u.status:null)}utils$2.inherits(AxiosError,Error,{toJSON:function t(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$2.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(t,e,a,l,u,c)=>{const d=Object.create(prototype$1);return utils$2.toFlatObject(t,d,function(m){return m!==Error.prototype},h=>h!=="isAxiosError"),AxiosError.call(d,t.message,e,a,l,u),d.cause=t,d.name=t.name,c&&Object.assign(d,c),d};const httpAdapter=null;function isVisitable(t){return utils$2.isPlainObject(t)||utils$2.isArray(t)}function removeBrackets(t){return utils$2.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,a){return t?t.concat(e).map(function(u,c){return u=removeBrackets(u),!a&&c?"["+u+"]":u}).join(a?".":""):e}function isFlatArray(t){return utils$2.isArray(t)&&!t.some(isVisitable)}const predicates=utils$2.toFlatObject(utils$2,{},null,function t(e){return/^is[A-Z]/.test(e)});function toFormData(t,e,a){if(!utils$2.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,a=utils$2.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,_){return!utils$2.isUndefined(_[E])});const l=a.metaTokens,u=a.visitor||y,c=a.dots,d=a.indexes,m=(a.Blob||typeof Blob<"u"&&Blob)&&utils$2.isSpecCompliantForm(e);if(!utils$2.isFunction(u))throw new TypeError("visitor must be a function");function g(S){if(S===null)return"";if(utils$2.isDate(S))return S.toISOString();if(!m&&utils$2.isBlob(S))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$2.isArrayBuffer(S)||utils$2.isTypedArray(S)?m&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,E,_){let A=S;if(S&&!_&&typeof S=="object"){if(utils$2.endsWith(E,"{}"))E=l?E:E.slice(0,-2),S=JSON.stringify(S);else if(utils$2.isArray(S)&&isFlatArray(S)||(utils$2.isFileList(S)||utils$2.endsWith(E,"[]"))&&(A=utils$2.toArray(S)))return E=removeBrackets(E),A.forEach(function(k,M){!(utils$2.isUndefined(k)||k===null)&&e.append(d===!0?renderKey([E],M,c):d===null?E:E+"[]",g(k))}),!1}return isVisitable(S)?!0:(e.append(renderKey(_,E,c),g(S)),!1)}const b=[],v=Object.assign(predicates,{defaultVisitor:y,convertValue:g,isVisitable});function C(S,E){if(!utils$2.isUndefined(S)){if(b.indexOf(S)!==-1)throw Error("Circular reference detected in "+E.join("."));b.push(S),utils$2.forEach(S,function(A,R){(!(utils$2.isUndefined(A)||A===null)&&u.call(e,A,utils$2.isString(R)?R.trim():R,E,v))===!0&&C(A,E?E.concat(R):[R])}),b.pop()}}if(!utils$2.isObject(t))throw new TypeError("data must be an object");return C(t),e}function encode$3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(l){return e[l]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function t(e,a){this._pairs.push([e,a])};prototype.toString=function t(e){const a=e?function(l){return e.call(this,l,encode$3)}:encode$3;return this._pairs.map(function(u){return a(u[0])+"="+a(u[1])},"").join("&")};function encode$2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,a){if(!e)return t;const l=a&&a.encode||encode$2;utils$2.isFunction(a)&&(a={serialize:a});const u=a&&a.serialize;let c;if(u?c=u(e,a):c=utils$2.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,a).toString(l),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,a,l){return this.handlers.push({fulfilled:e,rejected:a,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$2.forEach(this.handlers,function(l){l!==null&&e(l)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$1,...platform$1};function toURLEncodedForm(t,e){return toFormData(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(a,l,u,c){return platform.isNode&&utils$2.isBuffer(a)?(this.append(l,a.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils$2.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},a=Object.keys(t);let l;const u=a.length;let c;for(l=0;l<u;l++)c=a[l],e[c]=t[c];return e}function formDataToJSON(t){function e(a,l,u,c){let d=a[c++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),m=c>=a.length;return d=!d&&utils$2.isArray(u)?u.length:d,m?(utils$2.hasOwnProp(u,d)?u[d]=[u[d],l]:u[d]=l,!h):((!u[d]||!utils$2.isObject(u[d]))&&(u[d]=[]),e(a,l,u[d],c)&&utils$2.isArray(u[d])&&(u[d]=arrayToObject(u[d])),!h)}if(utils$2.isFormData(t)&&utils$2.isFunction(t.entries)){const a={};return utils$2.forEachEntry(t,(l,u)=>{e(parsePropPath(l),u,a,0)}),a}return null}function stringifySafely(t,e,a){if(utils$2.isString(t))try{return(e||JSON.parse)(t),utils$2.trim(t)}catch(l){if(l.name!=="SyntaxError")throw l}return(0,JSON.stringify)(t)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function t(e,a){const l=a.getContentType()||"",u=l.indexOf("application/json")>-1,c=utils$2.isObject(e);if(c&&utils$2.isHTMLForm(e)&&(e=new FormData(e)),utils$2.isFormData(e))return u?JSON.stringify(formDataToJSON(e)):e;if(utils$2.isArrayBuffer(e)||utils$2.isBuffer(e)||utils$2.isStream(e)||utils$2.isFile(e)||utils$2.isBlob(e)||utils$2.isReadableStream(e))return e;if(utils$2.isArrayBufferView(e))return e.buffer;if(utils$2.isURLSearchParams(e))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(c){if(l.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((h=utils$2.isFileList(e))||l.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return toFormData(h?{"files[]":e}:e,m&&new m,this.formSerializer)}}return c||u?(a.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function t(e){const a=this.transitional||defaults.transitional,l=a&&a.forcedJSONParsing,u=this.responseType==="json";if(utils$2.isResponse(e)||utils$2.isReadableStream(e))return e;if(e&&utils$2.isString(e)&&(l&&!this.responseType||u)){const d=!(a&&a.silentJSONParsing)&&u;try{return JSON.parse(e)}catch(h){if(d)throw h.name==="SyntaxError"?AxiosError.from(h,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function t(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$2.forEach(["delete","get","head","post","put","patch"],t=>{defaults.headers[t]={}});const ignoreDuplicateOf=utils$2.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const e={};let a,l,u;return t&&t.split(`
`).forEach(function(d){u=d.indexOf(":"),a=d.substring(0,u).trim().toLowerCase(),l=d.substring(u+1).trim(),!(!a||e[a]&&ignoreDuplicateOf[a])&&(a==="set-cookie"?e[a]?e[a].push(l):e[a]=[l]:e[a]=e[a]?e[a]+", "+l:l)}),e},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$2.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=a.exec(t);)e[l[1]]=l[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,a,l,u){if(utils$2.isFunction(l))return l.call(this,e,a);if(u&&(e=a),!!utils$2.isString(e)){if(utils$2.isString(l))return e.indexOf(l)!==-1;if(utils$2.isRegExp(l))return l.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,a,l)=>a.toUpperCase()+l)}function buildAccessors(t,e){const a=utils$2.toCamelCase(" "+e);["get","set","has"].forEach(l=>{Object.defineProperty(t,l+a,{value:function(u,c,d){return this[l].call(this,e,u,c,d)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,a,l){const u=this;function c(h,m,g){const y=normalizeHeader(m);if(!y)throw new Error("header name must be a non-empty string");const b=utils$2.findKey(u,y);(!b||u[b]===void 0||g===!0||g===void 0&&u[b]!==!1)&&(u[b||m]=normalizeValue(h))}const d=(h,m)=>utils$2.forEach(h,(g,y)=>c(g,y,m));if(utils$2.isPlainObject(e)||e instanceof this.constructor)d(e,a);else if(utils$2.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))d(parseHeaders(e),a);else if(utils$2.isObject(e)&&utils$2.isIterable(e)){let h={},m,g;for(const y of e){if(!utils$2.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[g=y[0]]=(m=h[g])?utils$2.isArray(m)?[...m,y[1]]:[m,y[1]]:y[1]}d(h,a)}else e!=null&&c(a,e,l);return this}get(e,a){if(e=normalizeHeader(e),e){const l=utils$2.findKey(this,e);if(l){const u=this[l];if(!a)return u;if(a===!0)return parseTokens(u);if(utils$2.isFunction(a))return a.call(this,u,l);if(utils$2.isRegExp(a))return a.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,a){if(e=normalizeHeader(e),e){const l=utils$2.findKey(this,e);return!!(l&&this[l]!==void 0&&(!a||matchHeaderValue(this,this[l],l,a)))}return!1}delete(e,a){const l=this;let u=!1;function c(d){if(d=normalizeHeader(d),d){const h=utils$2.findKey(l,d);h&&(!a||matchHeaderValue(l,l[h],h,a))&&(delete l[h],u=!0)}}return utils$2.isArray(e)?e.forEach(c):c(e),u}clear(e){const a=Object.keys(this);let l=a.length,u=!1;for(;l--;){const c=a[l];(!e||matchHeaderValue(this,this[c],c,e,!0))&&(delete this[c],u=!0)}return u}normalize(e){const a=this,l={};return utils$2.forEach(this,(u,c)=>{const d=utils$2.findKey(l,c);if(d){a[d]=normalizeValue(u),delete a[c];return}const h=e?formatHeader(c):String(c).trim();h!==c&&delete a[c],a[h]=normalizeValue(u),l[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const a=Object.create(null);return utils$2.forEach(this,(l,u)=>{l!=null&&l!==!1&&(a[u]=e&&utils$2.isArray(l)?l.join(", "):l)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,a])=>e+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...a){const l=new this(e);return a.forEach(u=>l.set(u)),l}static accessor(e){const l=(this[$internals]=this[$internals]={accessors:{}}).accessors,u=this.prototype;function c(d){const h=normalizeHeader(d);l[h]||(buildAccessors(u,d),l[h]=!0)}return utils$2.isArray(e)?e.forEach(c):c(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$2.reduceDescriptors(AxiosHeaders.prototype,({value:t},e)=>{let a=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(l){this[a]=l}}});utils$2.freezeMethods(AxiosHeaders);function transformData(t,e){const a=this||defaults,l=e||a,u=AxiosHeaders.from(l.headers);let c=l.data;return utils$2.forEach(t,function(h){c=h.call(a,c,u.normalize(),e?e.status:void 0)}),u.normalize(),c}function isCancel(t){return!!(t&&t.__CANCEL__)}function CanceledError(t,e,a){AxiosError.call(this,t??"canceled",AxiosError.ERR_CANCELED,e,a),this.name="CanceledError"}utils$2.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(t,e,a){const l=a.config.validateStatus;!a.status||!l||l(a.status)?t(a):e(new AxiosError("Request failed with status code "+a.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const a=new Array(t),l=new Array(t);let u=0,c=0,d;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),y=l[c];d||(d=g),a[u]=m,l[u]=g;let b=c,v=0;for(;b!==u;)v+=a[b++],b=b%t;if(u=(u+1)%t,u===c&&(c=(c+1)%t),g-d<e)return;const C=y&&g-y;return C?Math.round(v*1e3/C):void 0}}function throttle(t,e){let a=0,l=1e3/e,u,c;const d=(g,y=Date.now())=>{a=y,u=null,c&&(clearTimeout(c),c=null),t.apply(null,g)};return[(...g)=>{const y=Date.now(),b=y-a;b>=l?d(g,y):(u=g,c||(c=setTimeout(()=>{c=null,d(u)},l-b)))},()=>u&&d(u)]}const progressEventReducer=(t,e,a=3)=>{let l=0;const u=speedometer(50,250);return throttle(c=>{const d=c.loaded,h=c.lengthComputable?c.total:void 0,m=d-l,g=u(m),y=d<=h;l=d;const b={loaded:d,total:h,progress:h?d/h:void 0,bytes:m,rate:g||void 0,estimated:g&&h&&y?(h-d)/g:void 0,event:c,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(b)},a)},progressEventDecorator=(t,e)=>{const a=t!=null;return[l=>e[0]({lengthComputable:a,total:t,loaded:l}),e[1]]},asyncDecorator=t=>(...e)=>utils$2.asap(()=>t(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?((t,e)=>a=>(a=new URL(a,platform.origin),t.protocol===a.protocol&&t.host===a.host&&(e||t.port===a.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,e,a,l,u,c){const d=[t+"="+encodeURIComponent(e)];utils$2.isNumber(a)&&d.push("expires="+new Date(a).toGMTString()),utils$2.isString(l)&&d.push("path="+l),utils$2.isString(u)&&d.push("domain="+u),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e,a){let l=!isAbsoluteURL(e);return t&&(l||a==!1)?combineURLs(t,e):e}const headersToObject=t=>t instanceof AxiosHeaders?{...t}:t;function mergeConfig(t,e){e=e||{};const a={};function l(g,y,b,v){return utils$2.isPlainObject(g)&&utils$2.isPlainObject(y)?utils$2.merge.call({caseless:v},g,y):utils$2.isPlainObject(y)?utils$2.merge({},y):utils$2.isArray(y)?y.slice():y}function u(g,y,b,v){if(utils$2.isUndefined(y)){if(!utils$2.isUndefined(g))return l(void 0,g,b,v)}else return l(g,y,b,v)}function c(g,y){if(!utils$2.isUndefined(y))return l(void 0,y)}function d(g,y){if(utils$2.isUndefined(y)){if(!utils$2.isUndefined(g))return l(void 0,g)}else return l(void 0,y)}function h(g,y,b){if(b in e)return l(g,y);if(b in t)return l(void 0,g)}const m={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(g,y,b)=>u(headersToObject(g),headersToObject(y),b,!0)};return utils$2.forEach(Object.keys(Object.assign({},t,e)),function(y){const b=m[y]||u,v=b(t[y],e[y],y);utils$2.isUndefined(v)&&b!==h||(a[y]=v)}),a}const resolveConfig=t=>{const e=mergeConfig({},t);let{data:a,withXSRFToken:l,xsrfHeaderName:u,xsrfCookieName:c,headers:d,auth:h}=e;e.headers=d=AxiosHeaders.from(d),e.url=buildURL(buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let m;if(utils$2.isFormData(a)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((m=d.getContentType())!==!1){const[g,...y]=m?m.split(";").map(b=>b.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...y].join("; "))}}if(platform.hasStandardBrowserEnv&&(l&&utils$2.isFunction(l)&&(l=l(e)),l||l!==!1&&isURLSameOrigin(e.url))){const g=u&&c&&cookies.read(c);g&&d.set(u,g)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(a,l){const u=resolveConfig(t);let c=u.data;const d=AxiosHeaders.from(u.headers).normalize();let{responseType:h,onUploadProgress:m,onDownloadProgress:g}=u,y,b,v,C,S;function E(){C&&C(),S&&S(),u.cancelToken&&u.cancelToken.unsubscribe(y),u.signal&&u.signal.removeEventListener("abort",y)}let _=new XMLHttpRequest;_.open(u.method.toUpperCase(),u.url,!0),_.timeout=u.timeout;function A(){if(!_)return;const k=AxiosHeaders.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),D={data:!h||h==="text"||h==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:k,config:t,request:_};settle(function(U){a(U),E()},function(U){l(U),E()},D),_=null}"onloadend"in _?_.onloadend=A:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(A)},_.onabort=function(){_&&(l(new AxiosError("Request aborted",AxiosError.ECONNABORTED,t,_)),_=null)},_.onerror=function(){l(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let M=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const D=u.transitional||transitionalDefaults;u.timeoutErrorMessage&&(M=u.timeoutErrorMessage),l(new AxiosError(M,D.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,t,_)),_=null},c===void 0&&d.setContentType(null),"setRequestHeader"in _&&utils$2.forEach(d.toJSON(),function(M,D){_.setRequestHeader(D,M)}),utils$2.isUndefined(u.withCredentials)||(_.withCredentials=!!u.withCredentials),h&&h!=="json"&&(_.responseType=u.responseType),g&&([v,S]=progressEventReducer(g,!0),_.addEventListener("progress",v)),m&&_.upload&&([b,C]=progressEventReducer(m),_.upload.addEventListener("progress",b),_.upload.addEventListener("loadend",C)),(u.cancelToken||u.signal)&&(y=k=>{_&&(l(!k||k.type?new CanceledError(null,t,_):k),_.abort(),_=null)},u.cancelToken&&u.cancelToken.subscribe(y),u.signal&&(u.signal.aborted?y():u.signal.addEventListener("abort",y)));const R=parseProtocol(u.url);if(R&&platform.protocols.indexOf(R)===-1){l(new AxiosError("Unsupported protocol "+R+":",AxiosError.ERR_BAD_REQUEST,t));return}_.send(c||null)})},composeSignals=(t,e)=>{const{length:a}=t=t?t.filter(Boolean):[];if(e||a){let l=new AbortController,u;const c=function(g){if(!u){u=!0,h();const y=g instanceof Error?g:this.reason;l.abort(y instanceof AxiosError?y:new CanceledError(y instanceof Error?y.message:y))}};let d=e&&setTimeout(()=>{d=null,c(new AxiosError(`timeout ${e} of ms exceeded`,AxiosError.ETIMEDOUT))},e);const h=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(c):g.removeEventListener("abort",c)}),t=null)};t.forEach(g=>g.addEventListener("abort",c));const{signal:m}=l;return m.unsubscribe=()=>utils$2.asap(h),m}},streamChunk=function*(t,e){let a=t.byteLength;if(a<e){yield t;return}let l=0,u;for(;l<a;)u=l+e,yield t.slice(l,u),l=u},readBytes=async function*(t,e){for await(const a of readStream(t))yield*streamChunk(a,e)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:a,value:l}=await e.read();if(a)break;yield l}}finally{await e.cancel()}},trackStream=(t,e,a,l)=>{const u=readBytes(t,e);let c=0,d,h=m=>{d||(d=!0,l&&l(m))};return new ReadableStream({async pull(m){try{const{done:g,value:y}=await u.next();if(g){h(),m.close();return}let b=y.byteLength;if(a){let v=c+=b;a(v)}m.enqueue(new Uint8Array(y))}catch(g){throw h(g),g}},cancel(m){return h(m),u.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),test=(t,...e)=>{try{return!!t(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let t=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$2.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(t=>t.body)};isFetchSupported&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$2.isFunction(t[e])?a=>a[e]():(a,l)=>{throw new AxiosError(`Response type '${e}' is not supported`,AxiosError.ERR_NOT_SUPPORT,l)})})})(new Response);const getBodyLength=async t=>{if(t==null)return 0;if(utils$2.isBlob(t))return t.size;if(utils$2.isSpecCompliantForm(t))return(await new Request(platform.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(utils$2.isArrayBufferView(t)||utils$2.isArrayBuffer(t))return t.byteLength;if(utils$2.isURLSearchParams(t)&&(t=t+""),utils$2.isString(t))return(await encodeText(t)).byteLength},resolveBodyLength=async(t,e)=>{const a=utils$2.toFiniteNumber(t.getContentLength());return a??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async t=>{let{url:e,method:a,data:l,signal:u,cancelToken:c,timeout:d,onDownloadProgress:h,onUploadProgress:m,responseType:g,headers:y,withCredentials:b="same-origin",fetchOptions:v}=resolveConfig(t);g=g?(g+"").toLowerCase():"text";let C=composeSignals([u,c&&c.toAbortSignal()],d),S;const E=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let _;try{if(m&&supportsRequestStream&&a!=="get"&&a!=="head"&&(_=await resolveBodyLength(y,l))!==0){let D=new Request(e,{method:"POST",body:l,duplex:"half"}),B;if(utils$2.isFormData(l)&&(B=D.headers.get("content-type"))&&y.setContentType(B),D.body){const[U,T]=progressEventDecorator(_,progressEventReducer(asyncDecorator(m)));l=trackStream(D.body,DEFAULT_CHUNK_SIZE,U,T)}}utils$2.isString(b)||(b=b?"include":"omit");const A="credentials"in Request.prototype;S=new Request(e,{...v,signal:C,method:a.toUpperCase(),headers:y.normalize().toJSON(),body:l,duplex:"half",credentials:A?b:void 0});let R=await fetch(S);const k=supportsResponseStream&&(g==="stream"||g==="response");if(supportsResponseStream&&(h||k&&E)){const D={};["status","statusText","headers"].forEach($=>{D[$]=R[$]});const B=utils$2.toFiniteNumber(R.headers.get("content-length")),[U,T]=h&&progressEventDecorator(B,progressEventReducer(asyncDecorator(h),!0))||[];R=new Response(trackStream(R.body,DEFAULT_CHUNK_SIZE,U,()=>{T&&T(),E&&E()}),D)}g=g||"text";let M=await resolvers[utils$2.findKey(resolvers,g)||"text"](R,t);return!k&&E&&E(),await new Promise((D,B)=>{settle(D,B,{data:M,headers:AxiosHeaders.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:S})})}catch(A){throw E&&E(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,S),{cause:A.cause||A}):AxiosError.from(A,A&&A.code,t,S)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$2.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$2.isFunction(t)||t===null||t===!1,adapters={getAdapter:t=>{t=utils$2.isArray(t)?t:[t];const{length:e}=t;let a,l;const u={};for(let c=0;c<e;c++){a=t[c];let d;if(l=a,!isResolvedHandle(a)&&(l=knownAdapters[(d=String(a)).toLowerCase()],l===void 0))throw new AxiosError(`Unknown adapter '${d}'`);if(l)break;u[d||"#"+c]=l}if(!l){const c=Object.entries(u).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=e?c.length>1?`since :
`+c.map(renderReason).join(`
`):" "+renderReason(c[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return l},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults.adapter)(t).then(function(l){return throwIfCancellationRequested(t),l.data=transformData.call(t,t.transformResponse,l),l.headers=AxiosHeaders.from(l.headers),l},function(l){return isCancel(l)||(throwIfCancellationRequested(t),l&&l.response&&(l.response.data=transformData.call(t,t.transformResponse,l.response),l.response.headers=AxiosHeaders.from(l.response.headers))),Promise.reject(l)})}const VERSION="1.9.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(l){return typeof l===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function t(e,a,l){function u(c,d){return"[Axios v"+VERSION+"] Transitional option '"+c+"'"+d+(l?". "+l:"")}return(c,d,h)=>{if(e===!1)throw new AxiosError(u(d," has been removed"+(a?" in "+a:"")),AxiosError.ERR_DEPRECATED);return a&&!deprecatedWarnings[d]&&(deprecatedWarnings[d]=!0,console.warn(u(d," has been deprecated since v"+a+" and will be removed in the near future"))),e?e(c,d,h):!0}};validators$1.spelling=function t(e){return(a,l)=>(console.warn(`${l} is likely a misspelling of ${e}`),!0)};function assertOptions(t,e,a){if(typeof t!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const l=Object.keys(t);let u=l.length;for(;u-- >0;){const c=l[u],d=e[c];if(d){const h=t[c],m=h===void 0||d(h,c,t);if(m!==!0)throw new AxiosError("option "+c+" must be "+m,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new AxiosError("Unknown option "+c,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,a){try{return await this._request(e,a)}catch(l){if(l instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const c=u.stack?u.stack.replace(/^.+\n/,""):"";try{l.stack?c&&!String(l.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+c):l.stack=c}catch{}}throw l}}_request(e,a){typeof e=="string"?(a=a||{},a.url=e):a=e||{},a=mergeConfig(this.defaults,a);const{transitional:l,paramsSerializer:u,headers:c}=a;l!==void 0&&validator.assertOptions(l,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),u!=null&&(utils$2.isFunction(u)?a.paramsSerializer={serialize:u}:validator.assertOptions(u,{encode:validators.function,serialize:validators.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),validator.assertOptions(a,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let d=c&&utils$2.merge(c.common,c[a.method]);c&&utils$2.forEach(["delete","get","head","post","put","patch","common"],S=>{delete c[S]}),a.headers=AxiosHeaders.concat(d,c);const h=[];let m=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(a)===!1||(m=m&&E.synchronous,h.unshift(E.fulfilled,E.rejected))});const g=[];this.interceptors.response.forEach(function(E){g.push(E.fulfilled,E.rejected)});let y,b=0,v;if(!m){const S=[dispatchRequest.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,g),v=S.length,y=Promise.resolve(a);b<v;)y=y.then(S[b++],S[b++]);return y}v=h.length;let C=a;for(b=0;b<v;){const S=h[b++],E=h[b++];try{C=S(C)}catch(_){E.call(this,_);break}}try{y=dispatchRequest.call(this,C)}catch(S){return Promise.reject(S)}for(b=0,v=g.length;b<v;)y=y.then(g[b++],g[b++]);return y}getUri(e){e=mergeConfig(this.defaults,e);const a=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(a,e.params,e.paramsSerializer)}}utils$2.forEach(["delete","get","head","options"],function t(e){Axios.prototype[e]=function(a,l){return this.request(mergeConfig(l||{},{method:e,url:a,data:(l||{}).data}))}});utils$2.forEach(["post","put","patch"],function t(e){function a(l){return function(c,d,h){return this.request(mergeConfig(h||{},{method:e,headers:l?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Axios.prototype[e]=a(),Axios.prototype[e+"Form"]=a(!0)});class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(c){a=c});const l=this;this.promise.then(u=>{if(!l._listeners)return;let c=l._listeners.length;for(;c-- >0;)l._listeners[c](u);l._listeners=null}),this.promise.then=u=>{let c;const d=new Promise(h=>{l.subscribe(h),c=h}).then(u);return d.cancel=function(){l.unsubscribe(c)},d},e(function(c,d,h){l.reason||(l.reason=new CanceledError(c,d,h),a(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const a=this._listeners.indexOf(e);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const e=new AbortController,a=l=>{e.abort(l)};return this.subscribe(a),e.signal.unsubscribe=()=>this.unsubscribe(a),e.signal}static source(){let e;return{token:new CancelToken(function(u){e=u}),cancel:e}}}function spread(t){return function(a){return t.apply(null,a)}}function isAxiosError(t){return utils$2.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([t,e])=>{HttpStatusCode[e]=t});function createInstance(t){const e=new Axios(t),a=bind$1(Axios.prototype.request,e);return utils$2.extend(a,Axios.prototype,e,{allOwnKeys:!0}),utils$2.extend(a,e,null,{allOwnKeys:!0}),a.create=function(u){return createInstance(mergeConfig(t,u))},a}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function t(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=t=>formDataToJSON(utils$2.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;const promptContext=React2.createContext({globalPrompt:"",setGlobalPrompt:()=>{}}),PromptProvider=promptContext.Provider;function usePrompt(){return React2.useContext(promptContext)}function OrderedMap(t){this.content=t}OrderedMap.prototype={constructor:OrderedMap,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,a){var l=a&&a!=t?this.remove(a):this,u=l.find(t),c=l.content.slice();return u==-1?c.push(a||t,e):(c[u+1]=e,a&&(c[u]=a)),new OrderedMap(c)},remove:function(t){var e=this.find(t);if(e==-1)return this;var a=this.content.slice();return a.splice(e,2),new OrderedMap(a)},addToStart:function(t,e){return new OrderedMap([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var a=this.remove(t).content.slice();return a.push(t,e),new OrderedMap(a)},addBefore:function(t,e,a){var l=this.remove(e),u=l.content.slice(),c=l.find(t);return u.splice(c==-1?u.length:c,0,e,a),new OrderedMap(u)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=OrderedMap.from(t),t.size?new OrderedMap(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=OrderedMap.from(t),t.size?new OrderedMap(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=OrderedMap.from(t);for(var a=0;a<t.content.length;a+=2)e=e.remove(t.content[a]);return e},toObject:function(){var t={};return this.forEach(function(e,a){t[e]=a}),t},get size(){return this.content.length>>1}};OrderedMap.from=function(t){if(t instanceof OrderedMap)return t;var e=[];if(t)for(var a in t)e.push(a,t[a]);return new OrderedMap(e)};function findDiffStart(t,e,a){for(let l=0;;l++){if(l==t.childCount||l==e.childCount)return t.childCount==e.childCount?null:a;let u=t.child(l),c=e.child(l);if(u==c){a+=u.nodeSize;continue}if(!u.sameMarkup(c))return a;if(u.isText&&u.text!=c.text){for(let d=0;u.text[d]==c.text[d];d++)a++;return a}if(u.content.size||c.content.size){let d=findDiffStart(u.content,c.content,a+1);if(d!=null)return d}a+=u.nodeSize}}function findDiffEnd(t,e,a,l){for(let u=t.childCount,c=e.childCount;;){if(u==0||c==0)return u==c?null:{a,b:l};let d=t.child(--u),h=e.child(--c),m=d.nodeSize;if(d==h){a-=m,l-=m;continue}if(!d.sameMarkup(h))return{a,b:l};if(d.isText&&d.text!=h.text){let g=0,y=Math.min(d.text.length,h.text.length);for(;g<y&&d.text[d.text.length-g-1]==h.text[h.text.length-g-1];)g++,a--,l--;return{a,b:l}}if(d.content.size||h.content.size){let g=findDiffEnd(d.content,h.content,a-1,l-1);if(g)return g}a-=m,l-=m}}class Fragment{constructor(e,a){if(this.content=e,this.size=a||0,a==null)for(let l=0;l<e.length;l++)this.size+=e[l].nodeSize}nodesBetween(e,a,l,u=0,c){for(let d=0,h=0;h<a;d++){let m=this.content[d],g=h+m.nodeSize;if(g>e&&l(m,u+h,c||null,d)!==!1&&m.content.size){let y=h+1;m.nodesBetween(Math.max(0,e-y),Math.min(m.content.size,a-y),l,u+y)}h=g}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,a,l,u){let c="",d=!0;return this.nodesBetween(e,a,(h,m)=>{let g=h.isText?h.text.slice(Math.max(e,m)-m,a-m):h.isLeaf?u?typeof u=="function"?u(h):u:h.type.spec.leafText?h.type.spec.leafText(h):"":"";h.isBlock&&(h.isLeaf&&g||h.isTextblock)&&l&&(d?d=!1:c+=l),c+=g},0),c}append(e){if(!e.size)return this;if(!this.size)return e;let a=this.lastChild,l=e.firstChild,u=this.content.slice(),c=0;for(a.isText&&a.sameMarkup(l)&&(u[u.length-1]=a.withText(a.text+l.text),c=1);c<e.content.length;c++)u.push(e.content[c]);return new Fragment(u,this.size+e.size)}cut(e,a=this.size){if(e==0&&a==this.size)return this;let l=[],u=0;if(a>e)for(let c=0,d=0;d<a;c++){let h=this.content[c],m=d+h.nodeSize;m>e&&((d<e||m>a)&&(h.isText?h=h.cut(Math.max(0,e-d),Math.min(h.text.length,a-d)):h=h.cut(Math.max(0,e-d-1),Math.min(h.content.size,a-d-1))),l.push(h),u+=h.nodeSize),d=m}return new Fragment(l,u)}cutByIndex(e,a){return e==a?Fragment.empty:e==0&&a==this.content.length?this:new Fragment(this.content.slice(e,a))}replaceChild(e,a){let l=this.content[e];if(l==a)return this;let u=this.content.slice(),c=this.size+a.nodeSize-l.nodeSize;return u[e]=a,new Fragment(u,c)}addToStart(e){return new Fragment([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Fragment(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let a=0;a<this.content.length;a++)if(!this.content[a].eq(e.content[a]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let a=this.content[e];if(!a)throw new RangeError("Index "+e+" out of range for "+this);return a}maybeChild(e){return this.content[e]||null}forEach(e){for(let a=0,l=0;a<this.content.length;a++){let u=this.content[a];e(u,l,a),l+=u.nodeSize}}findDiffStart(e,a=0){return findDiffStart(this,e,a)}findDiffEnd(e,a=this.size,l=e.size){return findDiffEnd(this,e,a,l)}findIndex(e,a=-1){if(e==0)return retIndex(0,e);if(e==this.size)return retIndex(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let l=0,u=0;;l++){let c=this.child(l),d=u+c.nodeSize;if(d>=e)return d==e||a>0?retIndex(l+1,d):retIndex(l,u);u=d}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,a){if(!a)return Fragment.empty;if(!Array.isArray(a))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(a.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Fragment.empty;let a,l=0;for(let u=0;u<e.length;u++){let c=e[u];l+=c.nodeSize,u&&c.isText&&e[u-1].sameMarkup(c)?(a||(a=e.slice(0,u)),a[a.length-1]=c.withText(a[a.length-1].text+c.text)):a&&a.push(c)}return new Fragment(a||e,l)}static from(e){if(!e)return Fragment.empty;if(e instanceof Fragment)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Fragment([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(t,e){return found.index=t,found.offset=e,found}function compareDeep(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let a=Array.isArray(t);if(Array.isArray(e)!=a)return!1;if(a){if(t.length!=e.length)return!1;for(let l=0;l<t.length;l++)if(!compareDeep(t[l],e[l]))return!1}else{for(let l in t)if(!(l in e)||!compareDeep(t[l],e[l]))return!1;for(let l in e)if(!(l in t))return!1}return!0}let Mark$1=class Ia{constructor(e,a){this.type=e,this.attrs=a}addToSet(e){let a,l=!1;for(let u=0;u<e.length;u++){let c=e[u];if(this.eq(c))return e;if(this.type.excludes(c.type))a||(a=e.slice(0,u));else{if(c.type.excludes(this.type))return e;!l&&c.type.rank>this.type.rank&&(a||(a=e.slice(0,u)),a.push(this),l=!0),a&&a.push(c)}}return a||(a=e.slice()),l||a.push(this),a}removeFromSet(e){for(let a=0;a<e.length;a++)if(this.eq(e[a]))return e.slice(0,a).concat(e.slice(a+1));return e}isInSet(e){for(let a=0;a<e.length;a++)if(this.eq(e[a]))return!0;return!1}eq(e){return this==e||this.type==e.type&&compareDeep(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let a in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,a){if(!a)throw new RangeError("Invalid input for Mark.fromJSON");let l=e.marks[a.type];if(!l)throw new RangeError(`There is no mark type ${a.type} in this schema`);let u=l.create(a.attrs);return l.checkAttrs(u.attrs),u}static sameSet(e,a){if(e==a)return!0;if(e.length!=a.length)return!1;for(let l=0;l<e.length;l++)if(!e[l].eq(a[l]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ia.none;if(e instanceof Ia)return[e];let a=e.slice();return a.sort((l,u)=>l.type.rank-u.type.rank),a}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(e,a,l){this.content=e,this.openStart=a,this.openEnd=l}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,a){let l=insertInto(this.content,e+this.openStart,a);return l&&new Slice(l,this.openStart,this.openEnd)}removeBetween(e,a){return new Slice(removeRange(this.content,e+this.openStart,a+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,a){if(!a)return Slice.empty;let l=a.openStart||0,u=a.openEnd||0;if(typeof l!="number"||typeof u!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(e,a.content),l,u)}static maxOpen(e,a=!0){let l=0,u=0;for(let c=e.firstChild;c&&!c.isLeaf&&(a||!c.type.spec.isolating);c=c.firstChild)l++;for(let c=e.lastChild;c&&!c.isLeaf&&(a||!c.type.spec.isolating);c=c.lastChild)u++;return new Slice(e,l,u)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(t,e,a){let{index:l,offset:u}=t.findIndex(e),c=t.maybeChild(l),{index:d,offset:h}=t.findIndex(a);if(u==e||c.isText){if(h!=a&&!t.child(d).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(a))}if(l!=d)throw new RangeError("Removing non-flat range");return t.replaceChild(l,c.copy(removeRange(c.content,e-u-1,a-u-1)))}function insertInto(t,e,a,l){let{index:u,offset:c}=t.findIndex(e),d=t.maybeChild(u);if(c==e||d.isText)return t.cut(0,e).append(a).append(t.cut(e));let h=insertInto(d.content,e-c-1,a);return h&&t.replaceChild(u,d.copy(h))}function replace$1(t,e,a){if(a.openStart>t.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(t.depth-a.openStart!=e.depth-a.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(t,e,a,0)}function replaceOuter(t,e,a,l){let u=t.index(l),c=t.node(l);if(u==e.index(l)&&l<t.depth-a.openStart){let d=replaceOuter(t,e,a,l+1);return c.copy(c.content.replaceChild(u,d))}else if(a.content.size)if(!a.openStart&&!a.openEnd&&t.depth==l&&e.depth==l){let d=t.parent,h=d.content;return close(d,h.cut(0,t.parentOffset).append(a.content).append(h.cut(e.parentOffset)))}else{let{start:d,end:h}=prepareSliceForReplace(a,t);return close(c,replaceThreeWay(t,d,h,e,l))}else return close(c,replaceTwoWay(t,e,l))}function checkJoin(t,e){if(!e.type.compatibleContent(t.type))throw new ReplaceError("Cannot join "+e.type.name+" onto "+t.type.name)}function joinable$1(t,e,a){let l=t.node(a);return checkJoin(l,e.node(a)),l}function addNode(t,e){let a=e.length-1;a>=0&&t.isText&&t.sameMarkup(e[a])?e[a]=t.withText(e[a].text+t.text):e.push(t)}function addRange(t,e,a,l){let u=(e||t).node(a),c=0,d=e?e.index(a):u.childCount;t&&(c=t.index(a),t.depth>a?c++:t.textOffset&&(addNode(t.nodeAfter,l),c++));for(let h=c;h<d;h++)addNode(u.child(h),l);e&&e.depth==a&&e.textOffset&&addNode(e.nodeBefore,l)}function close(t,e){return t.type.checkContent(e),t.copy(e)}function replaceThreeWay(t,e,a,l,u){let c=t.depth>u&&joinable$1(t,e,u+1),d=l.depth>u&&joinable$1(a,l,u+1),h=[];return addRange(null,t,u,h),c&&d&&e.index(u)==a.index(u)?(checkJoin(c,d),addNode(close(c,replaceThreeWay(t,e,a,l,u+1)),h)):(c&&addNode(close(c,replaceTwoWay(t,e,u+1)),h),addRange(e,a,u,h),d&&addNode(close(d,replaceTwoWay(a,l,u+1)),h)),addRange(l,null,u,h),new Fragment(h)}function replaceTwoWay(t,e,a){let l=[];if(addRange(null,t,a,l),t.depth>a){let u=joinable$1(t,e,a+1);addNode(close(u,replaceTwoWay(t,e,a+1)),l)}return addRange(e,null,a,l),new Fragment(l)}function prepareSliceForReplace(t,e){let a=e.depth-t.openStart,u=e.node(a).copy(t.content);for(let c=a-1;c>=0;c--)u=e.node(c).copy(Fragment.from(u));return{start:u.resolveNoCache(t.openStart+a),end:u.resolveNoCache(u.content.size-t.openEnd-a)}}class ResolvedPos{constructor(e,a,l){this.pos=e,this.path=a,this.parentOffset=l,this.depth=a.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,a=this.index(this.depth);if(a==e.childCount)return null;let l=this.pos-this.path[this.path.length-1],u=e.child(a);return l?e.child(a).cut(l):u}get nodeBefore(){let e=this.index(this.depth),a=this.pos-this.path[this.path.length-1];return a?this.parent.child(e).cut(0,a):e==0?null:this.parent.child(e-1)}posAtIndex(e,a){a=this.resolveDepth(a);let l=this.path[a*3],u=a==0?0:this.path[a*3-1]+1;for(let c=0;c<e;c++)u+=l.child(c).nodeSize;return u}marks(){let e=this.parent,a=this.index();if(e.content.size==0)return Mark$1.none;if(this.textOffset)return e.child(a).marks;let l=e.maybeChild(a-1),u=e.maybeChild(a);if(!l){let h=l;l=u,u=h}let c=l.marks;for(var d=0;d<c.length;d++)c[d].type.spec.inclusive===!1&&(!u||!c[d].isInSet(u.marks))&&(c=c[d--].removeFromSet(c));return c}marksAcross(e){let a=this.parent.maybeChild(this.index());if(!a||!a.isInline)return null;let l=a.marks,u=e.parent.maybeChild(e.index());for(var c=0;c<l.length;c++)l[c].type.spec.inclusive===!1&&(!u||!l[c].isInSet(u.marks))&&(l=l[c--].removeFromSet(l));return l}sharedDepth(e){for(let a=this.depth;a>0;a--)if(this.start(a)<=e&&this.end(a)>=e)return a;return 0}blockRange(e=this,a){if(e.pos<this.pos)return e.blockRange(this);for(let l=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);l>=0;l--)if(e.pos<=this.end(l)&&(!a||a(this.node(l))))return new NodeRange(this,e,l);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let a=1;a<=this.depth;a++)e+=(e?"/":"")+this.node(a).type.name+"_"+this.index(a-1);return e+":"+this.parentOffset}static resolve(e,a){if(!(a>=0&&a<=e.content.size))throw new RangeError("Position "+a+" out of range");let l=[],u=0,c=a;for(let d=e;;){let{index:h,offset:m}=d.content.findIndex(c),g=c-m;if(l.push(d,h,u+m),!g||(d=d.child(h),d.isText))break;c=g-1,u+=m+1}return new ResolvedPos(a,l,c)}static resolveCached(e,a){let l=resolveCache.get(e);if(l)for(let c=0;c<l.elts.length;c++){let d=l.elts[c];if(d.pos==a)return d}else resolveCache.set(e,l=new ResolveCache);let u=l.elts[l.i]=ResolvedPos.resolve(e,a);return l.i=(l.i+1)%resolveCacheSize,u}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(e,a,l){this.$from=e,this.$to=a,this.depth=l}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$2=class Fa{constructor(e,a,l,u=Mark$1.none){this.type=e,this.attrs=a,this.marks=u,this.content=l||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,a,l,u=0){this.content.nodesBetween(e,a,l,u,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,a,l,u){return this.content.textBetween(e,a,l,u)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,a,l){return this.type==e&&compareDeep(this.attrs,a||e.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,l||Mark$1.none)}copy(e=null){return e==this.content?this:new Fa(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Fa(this.type,this.attrs,this.content,e)}cut(e,a=this.content.size){return e==0&&a==this.content.size?this:this.copy(this.content.cut(e,a))}slice(e,a=this.content.size,l=!1){if(e==a)return Slice.empty;let u=this.resolve(e),c=this.resolve(a),d=l?0:u.sharedDepth(a),h=u.start(d),g=u.node(d).content.cut(u.pos-h,c.pos-h);return new Slice(g,u.depth-d,c.depth-d)}replace(e,a,l){return replace$1(this.resolve(e),this.resolve(a),l)}nodeAt(e){for(let a=this;;){let{index:l,offset:u}=a.content.findIndex(e);if(a=a.maybeChild(l),!a)return null;if(u==e||a.isText)return a;e-=u+1}}childAfter(e){let{index:a,offset:l}=this.content.findIndex(e);return{node:this.content.maybeChild(a),index:a,offset:l}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:a,offset:l}=this.content.findIndex(e);if(l<e)return{node:this.content.child(a),index:a,offset:l};let u=this.content.child(a-1);return{node:u,index:a-1,offset:l-u.nodeSize}}resolve(e){return ResolvedPos.resolveCached(this,e)}resolveNoCache(e){return ResolvedPos.resolve(this,e)}rangeHasMark(e,a,l){let u=!1;return a>e&&this.nodesBetween(e,a,c=>(l.isInSet(c.marks)&&(u=!0),!u)),u}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,e)}contentMatchAt(e){let a=this.type.contentMatch.matchFragment(this.content,0,e);if(!a)throw new Error("Called contentMatchAt on a node with invalid content");return a}canReplace(e,a,l=Fragment.empty,u=0,c=l.childCount){let d=this.contentMatchAt(e).matchFragment(l,u,c),h=d&&d.matchFragment(this.content,a);if(!h||!h.validEnd)return!1;for(let m=u;m<c;m++)if(!this.type.allowsMarks(l.child(m).marks))return!1;return!0}canReplaceWith(e,a,l,u){if(u&&!this.type.allowsMarks(u))return!1;let c=this.contentMatchAt(e).matchType(l),d=c&&c.matchFragment(this.content,a);return d?d.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Mark$1.none;for(let a=0;a<this.marks.length;a++){let l=this.marks[a];l.type.checkAttrs(l.attrs),e=l.addToSet(e)}if(!Mark$1.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(a=>a.type.name)}`);this.content.forEach(a=>a.check())}toJSON(){let e={type:this.type.name};for(let a in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(a=>a.toJSON())),e}static fromJSON(e,a){if(!a)throw new RangeError("Invalid input for Node.fromJSON");let l;if(a.marks){if(!Array.isArray(a.marks))throw new RangeError("Invalid mark data for Node.fromJSON");l=a.marks.map(e.markFromJSON)}if(a.type=="text"){if(typeof a.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(a.text,l)}let u=Fragment.fromJSON(e,a.content),c=e.nodeType(a.type).create(a.attrs,u,l);return c.type.checkAttrs(c.attrs),c}};Node$2.prototype.text=void 0;class TextNode extends Node$2{constructor(e,a,l,u){if(super(e,a,null,u),!l)throw new RangeError("Empty text nodes are not allowed");this.text=l}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,a){return this.text.slice(e,a)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new TextNode(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new TextNode(this.type,this.attrs,e,this.marks)}cut(e=0,a=this.text.length){return e==0&&a==this.text.length?this:this.withText(this.text.slice(e,a))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wrapMarks(t,e){for(let a=t.length-1;a>=0;a--)e=t[a].type.name+"("+e+")";return e}class ContentMatch{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,a){let l=new TokenStream(e,a);if(l.next==null)return ContentMatch.empty;let u=parseExpr(l);l.next&&l.err("Unexpected trailing text");let c=dfa(nfa(u));return checkForDeadEnds(c,l),c}matchType(e){for(let a=0;a<this.next.length;a++)if(this.next[a].type==e)return this.next[a].next;return null}matchFragment(e,a=0,l=e.childCount){let u=this;for(let c=a;u&&c<l;c++)u=u.matchType(e.child(c).type);return u}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:a}=this.next[e];if(!(a.isText||a.hasRequiredAttrs()))return a}return null}compatible(e){for(let a=0;a<this.next.length;a++)for(let l=0;l<e.next.length;l++)if(this.next[a].type==e.next[l].type)return!0;return!1}fillBefore(e,a=!1,l=0){let u=[this];function c(d,h){let m=d.matchFragment(e,l);if(m&&(!a||m.validEnd))return Fragment.from(h.map(g=>g.createAndFill()));for(let g=0;g<d.next.length;g++){let{type:y,next:b}=d.next[g];if(!(y.isText||y.hasRequiredAttrs())&&u.indexOf(b)==-1){u.push(b);let v=c(b,h.concat(y));if(v)return v}}return null}return c(this,[])}findWrapping(e){for(let l=0;l<this.wrapCache.length;l+=2)if(this.wrapCache[l]==e)return this.wrapCache[l+1];let a=this.computeWrapping(e);return this.wrapCache.push(e,a),a}computeWrapping(e){let a=Object.create(null),l=[{match:this,type:null,via:null}];for(;l.length;){let u=l.shift(),c=u.match;if(c.matchType(e)){let d=[];for(let h=u;h.type;h=h.via)d.push(h.type);return d.reverse()}for(let d=0;d<c.next.length;d++){let{type:h,next:m}=c.next[d];!h.isLeaf&&!h.hasRequiredAttrs()&&!(h.name in a)&&(!u.type||m.validEnd)&&(l.push({match:h.contentMatch,type:h,via:u}),a[h.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function a(l){e.push(l);for(let u=0;u<l.next.length;u++)e.indexOf(l.next[u].next)==-1&&a(l.next[u].next)}return a(this),e.map((l,u)=>{let c=u+(l.validEnd?"*":" ")+" ";for(let d=0;d<l.next.length;d++)c+=(d?", ":"")+l.next[d].type.name+"->"+e.indexOf(l.next[d].next);return c}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(e,a){this.string=e,this.nodeTypes=a,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function parseExpr(t){let e=[];do e.push(parseExprSeq(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function parseExprSeq(t){let e=[];do e.push(parseExprSubscript(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function parseExprSubscript(t){let e=parseExprAtom(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=parseExprRange(t,e);else break;return e}function parseNum(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function parseExprRange(t,e){let a=parseNum(t),l=a;return t.eat(",")&&(t.next!="}"?l=parseNum(t):l=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:a,max:l,expr:e}}function resolveName(t,e){let a=t.nodeTypes,l=a[e];if(l)return[l];let u=[];for(let c in a){let d=a[c];d.isInGroup(e)&&u.push(d)}return u.length==0&&t.err("No node type or group '"+e+"' found"),u}function parseExprAtom(t){if(t.eat("(")){let e=parseExpr(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=resolveName(t,t.next).map(a=>(t.inline==null?t.inline=a.isInline:t.inline!=a.isInline&&t.err("Mixing inline and block content"),{type:"name",value:a}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function nfa(t){let e=[[]];return u(c(t,0),a()),e;function a(){return e.push([])-1}function l(d,h,m){let g={term:m,to:h};return e[d].push(g),g}function u(d,h){d.forEach(m=>m.to=h)}function c(d,h){if(d.type=="choice")return d.exprs.reduce((m,g)=>m.concat(c(g,h)),[]);if(d.type=="seq")for(let m=0;;m++){let g=c(d.exprs[m],h);if(m==d.exprs.length-1)return g;u(g,h=a())}else if(d.type=="star"){let m=a();return l(h,m),u(c(d.expr,m),m),[l(m)]}else if(d.type=="plus"){let m=a();return u(c(d.expr,h),m),u(c(d.expr,m),m),[l(m)]}else{if(d.type=="opt")return[l(h)].concat(c(d.expr,h));if(d.type=="range"){let m=h;for(let g=0;g<d.min;g++){let y=a();u(c(d.expr,m),y),m=y}if(d.max==-1)u(c(d.expr,m),m);else for(let g=d.min;g<d.max;g++){let y=a();l(m,y),u(c(d.expr,m),y),m=y}return[l(m)]}else{if(d.type=="name")return[l(h,void 0,d.value)];throw new Error("Unknown expr type")}}}}function cmp(t,e){return e-t}function nullFrom(t,e){let a=[];return l(e),a.sort(cmp);function l(u){let c=t[u];if(c.length==1&&!c[0].term)return l(c[0].to);a.push(u);for(let d=0;d<c.length;d++){let{term:h,to:m}=c[d];!h&&a.indexOf(m)==-1&&l(m)}}}function dfa(t){let e=Object.create(null);return a(nullFrom(t,0));function a(l){let u=[];l.forEach(d=>{t[d].forEach(({term:h,to:m})=>{if(!h)return;let g;for(let y=0;y<u.length;y++)u[y][0]==h&&(g=u[y][1]);nullFrom(t,m).forEach(y=>{g||u.push([h,g=[]]),g.indexOf(y)==-1&&g.push(y)})})});let c=e[l.join(",")]=new ContentMatch(l.indexOf(t.length-1)>-1);for(let d=0;d<u.length;d++){let h=u[d][1].sort(cmp);c.next.push({type:u[d][0],next:e[h.join(",")]||a(h)})}return c}}function checkForDeadEnds(t,e){for(let a=0,l=[t];a<l.length;a++){let u=l[a],c=!u.validEnd,d=[];for(let h=0;h<u.next.length;h++){let{type:m,next:g}=u.next[h];d.push(m.name),c&&!(m.isText||m.hasRequiredAttrs())&&(c=!1),l.indexOf(g)==-1&&l.push(g)}c&&e.err("Only non-generatable nodes ("+d.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(t){let e=Object.create(null);for(let a in t){let l=t[a];if(!l.hasDefault)return null;e[a]=l.default}return e}function computeAttrs(t,e){let a=Object.create(null);for(let l in t){let u=e&&e[l];if(u===void 0){let c=t[l];if(c.hasDefault)u=c.default;else throw new RangeError("No value supplied for attribute "+l)}a[l]=u}return a}function checkAttrs(t,e,a,l){for(let u in e)if(!(u in t))throw new RangeError(`Unsupported attribute ${u} for ${a} of type ${u}`);for(let u in t){let c=t[u];c.validate&&c.validate(e[u])}}function initAttrs(t,e){let a=Object.create(null);if(e)for(let l in e)a[l]=new Attribute(t,l,e[l]);return a}let NodeType$1=class jc{constructor(e,a,l){this.name=e,this.schema=a,this.spec=l,this.markSet=null,this.groups=l.group?l.group.split(" "):[],this.attrs=initAttrs(e,l.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(l.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,e)}create(e=null,a,l){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$2(this,this.computeAttrs(e),Fragment.from(a),Mark$1.setFrom(l))}createChecked(e=null,a,l){return a=Fragment.from(a),this.checkContent(a),new Node$2(this,this.computeAttrs(e),a,Mark$1.setFrom(l))}createAndFill(e=null,a,l){if(e=this.computeAttrs(e),a=Fragment.from(a),a.size){let d=this.contentMatch.fillBefore(a);if(!d)return null;a=d.append(a)}let u=this.contentMatch.matchFragment(a),c=u&&u.fillBefore(Fragment.empty,!0);return c?new Node$2(this,e,a.append(c),Mark$1.setFrom(l)):null}validContent(e){let a=this.contentMatch.matchFragment(e);if(!a||!a.validEnd)return!1;for(let l=0;l<e.childCount;l++)if(!this.allowsMarks(e.child(l).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){checkAttrs(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let a=0;a<e.length;a++)if(!this.allowsMarkType(e[a].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let a;for(let l=0;l<e.length;l++)this.allowsMarkType(e[l].type)?a&&a.push(e[l]):a||(a=e.slice(0,l));return a?a.length?a:Mark$1.none:e}static compile(e,a){let l=Object.create(null);e.forEach((c,d)=>l[c]=new jc(c,a,d));let u=a.spec.topNode||"doc";if(!l[u])throw new RangeError("Schema is missing its top node type ('"+u+"')");if(!l.text)throw new RangeError("Every schema needs a 'text' type");for(let c in l.text.attrs)throw new RangeError("The text node type should not have attributes");return l}};function validateType(t,e,a){let l=a.split("|");return u=>{let c=u===null?"null":typeof u;if(l.indexOf(c)<0)throw new RangeError(`Expected value of type ${l} for attribute ${e} on type ${t}, got ${c}`)}}class Attribute{constructor(e,a,l){this.hasDefault=Object.prototype.hasOwnProperty.call(l,"default"),this.default=l.default,this.validate=typeof l.validate=="string"?validateType(e,a,l.validate):l.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(e,a,l,u){this.name=e,this.rank=a,this.schema=l,this.spec=u,this.attrs=initAttrs(e,u.attrs),this.excluded=null;let c=defaultAttrs(this.attrs);this.instance=c?new Mark$1(this,c):null}create(e=null){return!e&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,e))}static compile(e,a){let l=Object.create(null),u=0;return e.forEach((c,d)=>l[c]=new MarkType(c,u++,a,d)),l}removeFromSet(e){for(var a=0;a<e.length;a++)e[a].type==this&&(e=e.slice(0,a).concat(e.slice(a+1)),a--);return e}isInSet(e){for(let a=0;a<e.length;a++)if(e[a].type==this)return e[a]}checkAttrs(e){checkAttrs(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Schema{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let a=this.spec={};for(let u in e)a[u]=e[u];a.nodes=OrderedMap.from(e.nodes),a.marks=OrderedMap.from(e.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let l=Object.create(null);for(let u in this.nodes){if(u in this.marks)throw new RangeError(u+" can not be both a node and a mark");let c=this.nodes[u],d=c.spec.content||"",h=c.spec.marks;if(c.contentMatch=l[d]||(l[d]=ContentMatch.parse(d,this.nodes)),c.inlineContent=c.contentMatch.inlineContent,c.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!c.isInline||!c.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=c}c.markSet=h=="_"?null:h?gatherMarks(this,h.split(" ")):h==""||!c.inlineContent?[]:null}for(let u in this.marks){let c=this.marks[u],d=c.spec.excludes;c.excluded=d==null?[c]:d==""?[]:gatherMarks(this,d.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,a=null,l,u){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof NodeType$1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(a,l,u)}text(e,a){let l=this.nodes.text;return new TextNode(l,l.defaultAttrs,e,Mark$1.setFrom(a))}mark(e,a){return typeof e=="string"&&(e=this.marks[e]),e.create(a)}nodeFromJSON(e){return Node$2.fromJSON(this,e)}markFromJSON(e){return Mark$1.fromJSON(this,e)}nodeType(e){let a=this.nodes[e];if(!a)throw new RangeError("Unknown node type: "+e);return a}}function gatherMarks(t,e){let a=[];for(let l=0;l<e.length;l++){let u=e[l],c=t.marks[u],d=c;if(c)a.push(c);else for(let h in t.marks){let m=t.marks[h];(u=="_"||m.spec.group&&m.spec.group.split(" ").indexOf(u)>-1)&&a.push(d=m)}if(!d)throw new SyntaxError("Unknown mark type: '"+e[l]+"'")}return a}function isTagRule(t){return t.tag!=null}function isStyleRule(t){return t.style!=null}class DOMParser{constructor(e,a){this.schema=e,this.rules=a,this.tags=[],this.styles=[];let l=this.matchedStyles=[];a.forEach(u=>{if(isTagRule(u))this.tags.push(u);else if(isStyleRule(u)){let c=/[^=]*/.exec(u.style)[0];l.indexOf(c)<0&&l.push(c),this.styles.push(u)}}),this.normalizeLists=!this.tags.some(u=>{if(!/^(ul|ol)\b/.test(u.tag)||!u.node)return!1;let c=e.nodes[u.node];return c.contentMatch.matchType(c)})}parse(e,a={}){let l=new ParseContext(this,a,!1);return l.addAll(e,Mark$1.none,a.from,a.to),l.finish()}parseSlice(e,a={}){let l=new ParseContext(this,a,!0);return l.addAll(e,Mark$1.none,a.from,a.to),Slice.maxOpen(l.finish())}matchTag(e,a,l){for(let u=l?this.tags.indexOf(l)+1:0;u<this.tags.length;u++){let c=this.tags[u];if(matches(e,c.tag)&&(c.namespace===void 0||e.namespaceURI==c.namespace)&&(!c.context||a.matchesContext(c.context))){if(c.getAttrs){let d=c.getAttrs(e);if(d===!1)continue;c.attrs=d||void 0}return c}}}matchStyle(e,a,l,u){for(let c=u?this.styles.indexOf(u)+1:0;c<this.styles.length;c++){let d=this.styles[c],h=d.style;if(!(h.indexOf(e)!=0||d.context&&!l.matchesContext(d.context)||h.length>e.length&&(h.charCodeAt(e.length)!=61||h.slice(e.length+1)!=a))){if(d.getAttrs){let m=d.getAttrs(a);if(m===!1)continue;d.attrs=m||void 0}return d}}}static schemaRules(e){let a=[];function l(u){let c=u.priority==null?50:u.priority,d=0;for(;d<a.length;d++){let h=a[d];if((h.priority==null?50:h.priority)<c)break}a.splice(d,0,u)}for(let u in e.marks){let c=e.marks[u].spec.parseDOM;c&&c.forEach(d=>{l(d=copy(d)),d.mark||d.ignore||d.clearMark||(d.mark=u)})}for(let u in e.nodes){let c=e.nodes[u].spec.parseDOM;c&&c.forEach(d=>{l(d=copy(d)),d.node||d.ignore||d.mark||(d.node=u)})}return a}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new DOMParser(e,DOMParser.schemaRules(e)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(t,e,a){return e!=null?(e?OPT_PRESERVE_WS:0)|(e==="full"?OPT_PRESERVE_WS_FULL:0):t&&t.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:a&-5}class NodeContext{constructor(e,a,l,u,c,d){this.type=e,this.attrs=a,this.marks=l,this.solid=u,this.options=d,this.content=[],this.activeMarks=Mark$1.none,this.match=c||(d&OPT_OPEN_LEFT?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let a=this.type.contentMatch.fillBefore(Fragment.from(e));if(a)this.match=this.type.contentMatch.matchFragment(a);else{let l=this.type.contentMatch,u;return(u=l.findWrapping(e.type))?(this.match=l,u):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&OPT_PRESERVE_WS)){let l=this.content[this.content.length-1],u;if(l&&l.isText&&(u=/[ \t\r\n\u000c]+$/.exec(l.text))){let c=l;l.text.length==u[0].length?this.content.pop():this.content[this.content.length-1]=c.withText(c.text.slice(0,c.text.length-u[0].length))}}let a=Fragment.from(this.content);return!e&&this.match&&(a=a.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,a,this.marks):a}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!blockTags.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(e,a,l){this.parser=e,this.options=a,this.isOpen=l,this.open=0,this.localPreserveWS=!1;let u=a.topNode,c,d=wsOptionsFor(null,a.preserveWhitespace,0)|(l?OPT_OPEN_LEFT:0);u?c=new NodeContext(u.type,u.attrs,Mark$1.none,!0,a.topMatch||u.type.contentMatch,d):l?c=new NodeContext(null,null,Mark$1.none,!0,null,d):c=new NodeContext(e.schema.topNodeType,null,Mark$1.none,!0,null,d),this.nodes=[c],this.find=a.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,a){e.nodeType==3?this.addTextNode(e,a):e.nodeType==1&&this.addElement(e,a)}addTextNode(e,a){let l=e.nodeValue,u=this.top,c=u.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(u.options&OPT_PRESERVE_WS)>0;if(c==="full"||u.inlineContext(e)||/[^ \t\r\n\u000c]/.test(l)){if(c)c!=="full"?l=l.replace(/\r?\n|\r/g," "):l=l.replace(/\r\n?/g,`
`);else if(l=l.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(l)&&this.open==this.nodes.length-1){let d=u.content[u.content.length-1],h=e.previousSibling;(!d||h&&h.nodeName=="BR"||d.isText&&/[ \t\r\n\u000c]$/.test(d.text))&&(l=l.slice(1))}l&&this.insertNode(this.parser.schema.text(l),a,!/\S/.test(l)),this.findInText(e)}else this.findInside(e)}addElement(e,a,l){let u=this.localPreserveWS,c=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let d=e.nodeName.toLowerCase(),h;listTags.hasOwnProperty(d)&&this.parser.normalizeLists&&normalizeList(e);let m=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(h=this.parser.matchTag(e,this,l));e:if(m?m.ignore:ignoreTags.hasOwnProperty(d))this.findInside(e),this.ignoreFallback(e,a);else if(!m||m.skip||m.closeParent){m&&m.closeParent?this.open=Math.max(0,this.open-1):m&&m.skip.nodeType&&(e=m.skip);let g,y=this.needsBlock;if(blockTags.hasOwnProperty(d))c.content.length&&c.content[0].isInline&&this.open&&(this.open--,c=this.top),g=!0,c.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,a);break e}let b=m&&m.skip?a:this.readStyles(e,a);b&&this.addAll(e,b),g&&this.sync(c),this.needsBlock=y}else{let g=this.readStyles(e,a);g&&this.addElementByRule(e,m,g,m.consuming===!1?h:void 0)}this.localPreserveWS=u}leafFallback(e,a){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),a)}ignoreFallback(e,a){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),a,!0)}readStyles(e,a){let l=e.style;if(l&&l.length)for(let u=0;u<this.parser.matchedStyles.length;u++){let c=this.parser.matchedStyles[u],d=l.getPropertyValue(c);if(d)for(let h=void 0;;){let m=this.parser.matchStyle(c,d,this,h);if(!m)break;if(m.ignore)return null;if(m.clearMark?a=a.filter(g=>!m.clearMark(g)):a=a.concat(this.parser.schema.marks[m.mark].create(m.attrs)),m.consuming===!1)h=m;else break}}return a}addElementByRule(e,a,l,u){let c,d;if(a.node)if(d=this.parser.schema.nodes[a.node],d.isLeaf)this.insertNode(d.create(a.attrs),l,e.nodeName=="BR")||this.leafFallback(e,l);else{let m=this.enter(d,a.attrs||null,l,a.preserveWhitespace);m&&(c=!0,l=m)}else{let m=this.parser.schema.marks[a.mark];l=l.concat(m.create(a.attrs))}let h=this.top;if(d&&d.isLeaf)this.findInside(e);else if(u)this.addElement(e,l,u);else if(a.getContent)this.findInside(e),a.getContent(e,this.parser.schema).forEach(m=>this.insertNode(m,l,!1));else{let m=e;typeof a.contentElement=="string"?m=e.querySelector(a.contentElement):typeof a.contentElement=="function"?m=a.contentElement(e):a.contentElement&&(m=a.contentElement),this.findAround(e,m,!0),this.addAll(m,l),this.findAround(e,m,!1)}c&&this.sync(h)&&this.open--}addAll(e,a,l,u){let c=l||0;for(let d=l?e.childNodes[l]:e.firstChild,h=u==null?null:e.childNodes[u];d!=h;d=d.nextSibling,++c)this.findAtPoint(e,c),this.addDOM(d,a);this.findAtPoint(e,c)}findPlace(e,a,l){let u,c;for(let d=this.open,h=0;d>=0;d--){let m=this.nodes[d],g=m.findWrapping(e);if(g&&(!u||u.length>g.length+h)&&(u=g,c=m,!g.length))break;if(m.solid){if(l)break;h+=2}}if(!u)return null;this.sync(c);for(let d=0;d<u.length;d++)a=this.enterInner(u[d],null,a,!1);return a}insertNode(e,a,l){if(e.isInline&&this.needsBlock&&!this.top.type){let c=this.textblockFromContext();c&&(a=this.enterInner(c,null,a))}let u=this.findPlace(e,a,l);if(u){this.closeExtra();let c=this.top;c.match&&(c.match=c.match.matchType(e.type));let d=Mark$1.none;for(let h of u.concat(e.marks))(c.type?c.type.allowsMarkType(h.type):markMayApply(h.type,e.type))&&(d=h.addToSet(d));return c.content.push(e.mark(d)),!0}return!1}enter(e,a,l,u){let c=this.findPlace(e.create(a),l,!1);return c&&(c=this.enterInner(e,a,l,!0,u)),c}enterInner(e,a,l,u=!1,c){this.closeExtra();let d=this.top;d.match=d.match&&d.match.matchType(e);let h=wsOptionsFor(e,c,d.options);d.options&OPT_OPEN_LEFT&&d.content.length==0&&(h|=OPT_OPEN_LEFT);let m=Mark$1.none;return l=l.filter(g=>(d.type?d.type.allowsMarkType(g.type):markMayApply(g.type,e))?(m=g.addToSet(m),!1):!0),this.nodes.push(new NodeContext(e,a,m,u,null,h)),this.open++,l}closeExtra(e=!1){let a=this.nodes.length-1;if(a>this.open){for(;a>this.open;a--)this.nodes[a-1].content.push(this.nodes[a].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let a=this.open;a>=0;a--){if(this.nodes[a]==e)return this.open=a,!0;this.localPreserveWS&&(this.nodes[a].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let e=0;for(let a=this.open;a>=0;a--){let l=this.nodes[a].content;for(let u=l.length-1;u>=0;u--)e+=l[u].nodeSize;a&&e++}return e}findAtPoint(e,a){if(this.find)for(let l=0;l<this.find.length;l++)this.find[l].node==e&&this.find[l].offset==a&&(this.find[l].pos=this.currentPos)}findInside(e){if(this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&(this.find[a].pos=this.currentPos)}findAround(e,a,l){if(e!=a&&this.find)for(let u=0;u<this.find.length;u++)this.find[u].pos==null&&e.nodeType==1&&e.contains(this.find[u].node)&&a.compareDocumentPosition(this.find[u].node)&(l?2:4)&&(this.find[u].pos=this.currentPos)}findInText(e){if(this.find)for(let a=0;a<this.find.length;a++)this.find[a].node==e&&(this.find[a].pos=this.currentPos-(e.nodeValue.length-this.find[a].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let a=e.split("/"),l=this.options.context,u=!this.isOpen&&(!l||l.parent.type==this.nodes[0].type),c=-(l?l.depth+1:0)+(u?0:1),d=(h,m)=>{for(;h>=0;h--){let g=a[h];if(g==""){if(h==a.length-1||h==0)continue;for(;m>=c;m--)if(d(h-1,m))return!0;return!1}else{let y=m>0||m==0&&u?this.nodes[m].type:l&&m>=c?l.node(m-c).type:null;if(!y||y.name!=g&&!y.isInGroup(g))return!1;m--}}return!0};return d(a.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let a=e.depth;a>=0;a--){let l=e.node(a).contentMatchAt(e.indexAfter(a)).defaultType;if(l&&l.isTextblock&&l.defaultAttrs)return l}for(let a in this.parser.schema.nodes){let l=this.parser.schema.nodes[a];if(l.isTextblock&&l.defaultAttrs)return l}}}function normalizeList(t){for(let e=t.firstChild,a=null;e;e=e.nextSibling){let l=e.nodeType==1?e.nodeName.toLowerCase():null;l&&listTags.hasOwnProperty(l)&&a?(a.appendChild(e),e=a):l=="li"?a=e:l&&(a=null)}}function matches(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function copy(t){let e={};for(let a in t)e[a]=t[a];return e}function markMayApply(t,e){let a=e.schema.nodes;for(let l in a){let u=a[l];if(!u.allowsMarkType(t))continue;let c=[],d=h=>{c.push(h);for(let m=0;m<h.edgeCount;m++){let{type:g,next:y}=h.edge(m);if(g==e||c.indexOf(y)<0&&d(y))return!0}};if(d(u.contentMatch))return!0}}class DOMSerializer{constructor(e,a){this.nodes=e,this.marks=a}serializeFragment(e,a={},l){l||(l=doc$1(a).createDocumentFragment());let u=l,c=[];return e.forEach(d=>{if(c.length||d.marks.length){let h=0,m=0;for(;h<c.length&&m<d.marks.length;){let g=d.marks[m];if(!this.marks[g.type.name]){m++;continue}if(!g.eq(c[h][0])||g.type.spec.spanning===!1)break;h++,m++}for(;h<c.length;)u=c.pop()[1];for(;m<d.marks.length;){let g=d.marks[m++],y=this.serializeMark(g,d.isInline,a);y&&(c.push([g,u]),u.appendChild(y.dom),u=y.contentDOM||y.dom)}}u.appendChild(this.serializeNodeInner(d,a))}),l}serializeNodeInner(e,a){let{dom:l,contentDOM:u}=renderSpec(doc$1(a),this.nodes[e.type.name](e),null,e.attrs);if(u){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,a,u)}return l}serializeNode(e,a={}){let l=this.serializeNodeInner(e,a);for(let u=e.marks.length-1;u>=0;u--){let c=this.serializeMark(e.marks[u],e.isInline,a);c&&((c.contentDOM||c.dom).appendChild(l),l=c.dom)}return l}serializeMark(e,a,l={}){let u=this.marks[e.type.name];return u&&renderSpec(doc$1(l),u(e,a),null,e.attrs)}static renderSpec(e,a,l=null,u){return renderSpec(e,a,l,u)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let a=gatherToDOM(e.nodes);return a.text||(a.text=l=>l.text),a}static marksFromSchema(e){return gatherToDOM(e.marks)}}function gatherToDOM(t){let e={};for(let a in t){let l=t[a].spec.toDOM;l&&(e[a]=l)}return e}function doc$1(t){return t.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(t){let e=suspiciousAttributeCache.get(t);return e===void 0&&suspiciousAttributeCache.set(t,e=suspiciousAttributesInner(t)),e}function suspiciousAttributesInner(t){let e=null;function a(l){if(l&&typeof l=="object")if(Array.isArray(l))if(typeof l[0]=="string")e||(e=[]),e.push(l);else for(let u=0;u<l.length;u++)a(l[u]);else for(let u in l)a(l[u])}return a(t),e}function renderSpec(t,e,a,l){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let u=e[0],c;if(typeof u!="string")throw new RangeError("Invalid array passed to renderSpec");if(l&&(c=suspiciousAttributes(l))&&c.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let d=u.indexOf(" ");d>0&&(a=u.slice(0,d),u=u.slice(d+1));let h,m=a?t.createElementNS(a,u):t.createElement(u),g=e[1],y=1;if(g&&typeof g=="object"&&g.nodeType==null&&!Array.isArray(g)){y=2;for(let b in g)if(g[b]!=null){let v=b.indexOf(" ");v>0?m.setAttributeNS(b.slice(0,v),b.slice(v+1),g[b]):m.setAttribute(b,g[b])}}for(let b=y;b<e.length;b++){let v=e[b];if(v===0){if(b<e.length-1||b>y)throw new RangeError("Content hole must be the only child of its parent node");return{dom:m,contentDOM:m}}else{let{dom:C,contentDOM:S}=renderSpec(t,v,a,l);if(m.appendChild(C),S){if(h)throw new RangeError("Multiple content holes");h=S}}}return{dom:m,contentDOM:h}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(t,e){return t+e*factor16}function recoverIndex(t){return t&lower16}function recoverOffset(t){return(t-(t&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(e,a,l){this.pos=e,this.delInfo=a,this.recover=l}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(e,a=!1){if(this.ranges=e,this.inverted=a,!e.length&&StepMap.empty)return StepMap.empty}recover(e){let a=0,l=recoverIndex(e);if(!this.inverted)for(let u=0;u<l;u++)a+=this.ranges[u*3+2]-this.ranges[u*3+1];return this.ranges[l*3]+a+recoverOffset(e)}mapResult(e,a=1){return this._map(e,a,!1)}map(e,a=1){return this._map(e,a,!0)}_map(e,a,l){let u=0,c=this.inverted?2:1,d=this.inverted?1:2;for(let h=0;h<this.ranges.length;h+=3){let m=this.ranges[h]-(this.inverted?u:0);if(m>e)break;let g=this.ranges[h+c],y=this.ranges[h+d],b=m+g;if(e<=b){let v=g?e==m?-1:e==b?1:a:a,C=m+u+(v<0?0:y);if(l)return C;let S=e==(a<0?m:b)?null:makeRecover(h/3,e-m),E=e==m?DEL_AFTER:e==b?DEL_BEFORE:DEL_ACROSS;return(a<0?e!=m:e!=b)&&(E|=DEL_SIDE),new MapResult(C,E,S)}u+=y-g}return l?e+u:new MapResult(e+u,0,null)}touches(e,a){let l=0,u=recoverIndex(a),c=this.inverted?2:1,d=this.inverted?1:2;for(let h=0;h<this.ranges.length;h+=3){let m=this.ranges[h]-(this.inverted?l:0);if(m>e)break;let g=this.ranges[h+c],y=m+g;if(e<=y&&h==u*3)return!0;l+=this.ranges[h+d]-g}return!1}forEach(e){let a=this.inverted?2:1,l=this.inverted?1:2;for(let u=0,c=0;u<this.ranges.length;u+=3){let d=this.ranges[u],h=d-(this.inverted?c:0),m=d+(this.inverted?0:c),g=this.ranges[u+a],y=this.ranges[u+l];e(h,h+g,m,m+y),c+=y-g}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?StepMap.empty:new StepMap(e<0?[0,-e,0]:[0,0,e])}}StepMap.empty=new StepMap([]);class Mapping{constructor(e,a,l=0,u=e?e.length:0){this.mirror=a,this.from=l,this.to=u,this._maps=e||[],this.ownData=!(e||a)}get maps(){return this._maps}slice(e=0,a=this.maps.length){return new Mapping(this._maps,this.mirror,e,a)}appendMap(e,a){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),a!=null&&this.setMirror(this._maps.length-1,a)}appendMapping(e){for(let a=0,l=this._maps.length;a<e._maps.length;a++){let u=e.getMirror(a);this.appendMap(e._maps[a],u!=null&&u<a?l+u:void 0)}}getMirror(e){if(this.mirror){for(let a=0;a<this.mirror.length;a++)if(this.mirror[a]==e)return this.mirror[a+(a%2?-1:1)]}}setMirror(e,a){this.mirror||(this.mirror=[]),this.mirror.push(e,a)}appendMappingInverted(e){for(let a=e.maps.length-1,l=this._maps.length+e._maps.length;a>=0;a--){let u=e.getMirror(a);this.appendMap(e._maps[a].invert(),u!=null&&u>a?l-u-1:void 0)}}invert(){let e=new Mapping;return e.appendMappingInverted(this),e}map(e,a=1){if(this.mirror)return this._map(e,a,!0);for(let l=this.from;l<this.to;l++)e=this._maps[l].map(e,a);return e}mapResult(e,a=1){return this._map(e,a,!1)}_map(e,a,l){let u=0;for(let c=this.from;c<this.to;c++){let d=this._maps[c],h=d.mapResult(e,a);if(h.recover!=null){let m=this.getMirror(c);if(m!=null&&m>c&&m<this.to){c=m,e=this._maps[m].recover(h.recover);continue}}u|=h.delInfo,e=h.pos}return l?e:new MapResult(e,u,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(e){return null}static fromJSON(e,a){if(!a||!a.stepType)throw new RangeError("Invalid input for Step.fromJSON");let l=stepsByID[a.stepType];if(!l)throw new RangeError(`No step type ${a.stepType} defined`);return l.fromJSON(e,a)}static jsonID(e,a){if(e in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+e);return stepsByID[e]=a,a.prototype.jsonID=e,a}}class StepResult{constructor(e,a){this.doc=e,this.failed=a}static ok(e){return new StepResult(e,null)}static fail(e){return new StepResult(null,e)}static fromReplace(e,a,l,u){try{return StepResult.ok(e.replace(a,l,u))}catch(c){if(c instanceof ReplaceError)return StepResult.fail(c.message);throw c}}}function mapFragment(t,e,a){let l=[];for(let u=0;u<t.childCount;u++){let c=t.child(u);c.content.size&&(c=c.copy(mapFragment(c.content,e,c))),c.isInline&&(c=e(c,a,u)),l.push(c)}return Fragment.fromArray(l)}class AddMarkStep extends Step{constructor(e,a,l){super(),this.from=e,this.to=a,this.mark=l}apply(e){let a=e.slice(this.from,this.to),l=e.resolve(this.from),u=l.node(l.sharedDepth(this.to)),c=new Slice(mapFragment(a.content,(d,h)=>!d.isAtom||!h.type.allowsMarkType(this.mark.type)?d:d.mark(this.mark.addToSet(d.marks)),u),a.openStart,a.openEnd);return StepResult.fromReplace(e,this.from,this.to,c)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(e){let a=e.mapResult(this.from,1),l=e.mapResult(this.to,-1);return a.deleted&&l.deleted||a.pos>=l.pos?null:new AddMarkStep(a.pos,l.pos,this.mark)}merge(e){return e instanceof AddMarkStep&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new AddMarkStep(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,a){if(typeof a.from!="number"||typeof a.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(a.from,a.to,e.markFromJSON(a.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(e,a,l){super(),this.from=e,this.to=a,this.mark=l}apply(e){let a=e.slice(this.from,this.to),l=new Slice(mapFragment(a.content,u=>u.mark(this.mark.removeFromSet(u.marks)),e),a.openStart,a.openEnd);return StepResult.fromReplace(e,this.from,this.to,l)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(e){let a=e.mapResult(this.from,1),l=e.mapResult(this.to,-1);return a.deleted&&l.deleted||a.pos>=l.pos?null:new RemoveMarkStep(a.pos,l.pos,this.mark)}merge(e){return e instanceof RemoveMarkStep&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new RemoveMarkStep(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,a){if(typeof a.from!="number"||typeof a.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(a.from,a.to,e.markFromJSON(a.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(e,a){super(),this.pos=e,this.mark=a}apply(e){let a=e.nodeAt(this.pos);if(!a)return StepResult.fail("No node at mark step's position");let l=a.type.create(a.attrs,null,this.mark.addToSet(a.marks));return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(l),0,a.isLeaf?0:1))}invert(e){let a=e.nodeAt(this.pos);if(a){let l=this.mark.addToSet(a.marks);if(l.length==a.marks.length){for(let u=0;u<a.marks.length;u++)if(!a.marks[u].isInSet(l))return new AddNodeMarkStep(this.pos,a.marks[u]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(e){let a=e.mapResult(this.pos,1);return a.deletedAfter?null:new AddNodeMarkStep(a.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,a){if(typeof a.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(a.pos,e.markFromJSON(a.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(e,a){super(),this.pos=e,this.mark=a}apply(e){let a=e.nodeAt(this.pos);if(!a)return StepResult.fail("No node at mark step's position");let l=a.type.create(a.attrs,null,this.mark.removeFromSet(a.marks));return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(l),0,a.isLeaf?0:1))}invert(e){let a=e.nodeAt(this.pos);return!a||!this.mark.isInSet(a.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(e){let a=e.mapResult(this.pos,1);return a.deletedAfter?null:new RemoveNodeMarkStep(a.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,a){if(typeof a.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(a.pos,e.markFromJSON(a.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(e,a,l,u=!1){super(),this.from=e,this.to=a,this.slice=l,this.structure=u}apply(e){return this.structure&&contentBetween(e,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(e){return new ReplaceStep(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let a=e.mapResult(this.from,1),l=e.mapResult(this.to,-1);return a.deletedAcross&&l.deletedAcross?null:new ReplaceStep(a.pos,Math.max(a.pos,l.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ReplaceStep)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let a=this.slice.size+e.slice.size==0?Slice.empty:new Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ReplaceStep(this.from,this.to+(e.to-e.from),a,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let a=this.slice.size+e.slice.size==0?Slice.empty:new Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ReplaceStep(e.from,this.to,a,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,a){if(typeof a.from!="number"||typeof a.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(a.from,a.to,Slice.fromJSON(e,a.slice),!!a.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(e,a,l,u,c,d,h=!1){super(),this.from=e,this.to=a,this.gapFrom=l,this.gapTo=u,this.slice=c,this.insert=d,this.structure=h}apply(e){if(this.structure&&(contentBetween(e,this.from,this.gapFrom)||contentBetween(e,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let a=e.slice(this.gapFrom,this.gapTo);if(a.openStart||a.openEnd)return StepResult.fail("Gap is not a flat range");let l=this.slice.insertAt(this.insert,a.content);return l?StepResult.fromReplace(e,this.from,this.to,l):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let a=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+a,this.from+this.insert,this.from+this.insert+a,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let a=e.mapResult(this.from,1),l=e.mapResult(this.to,-1),u=this.from==this.gapFrom?a.pos:e.map(this.gapFrom,-1),c=this.to==this.gapTo?l.pos:e.map(this.gapTo,1);return a.deletedAcross&&l.deletedAcross||u<a.pos||c>l.pos?null:new ReplaceAroundStep(a.pos,l.pos,u,c,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,a){if(typeof a.from!="number"||typeof a.to!="number"||typeof a.gapFrom!="number"||typeof a.gapTo!="number"||typeof a.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(a.from,a.to,a.gapFrom,a.gapTo,Slice.fromJSON(e,a.slice),a.insert,!!a.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(t,e,a){let l=t.resolve(e),u=a-e,c=l.depth;for(;u>0&&c>0&&l.indexAfter(c)==l.node(c).childCount;)c--,u--;if(u>0){let d=l.node(c).maybeChild(l.indexAfter(c));for(;u>0;){if(!d||d.isLeaf)return!0;d=d.firstChild,u--}}return!1}function addMark(t,e,a,l){let u=[],c=[],d,h;t.doc.nodesBetween(e,a,(m,g,y)=>{if(!m.isInline)return;let b=m.marks;if(!l.isInSet(b)&&y.type.allowsMarkType(l.type)){let v=Math.max(g,e),C=Math.min(g+m.nodeSize,a),S=l.addToSet(b);for(let E=0;E<b.length;E++)b[E].isInSet(S)||(d&&d.to==v&&d.mark.eq(b[E])?d.to=C:u.push(d=new RemoveMarkStep(v,C,b[E])));h&&h.to==v?h.to=C:c.push(h=new AddMarkStep(v,C,l))}}),u.forEach(m=>t.step(m)),c.forEach(m=>t.step(m))}function removeMark(t,e,a,l){let u=[],c=0;t.doc.nodesBetween(e,a,(d,h)=>{if(!d.isInline)return;c++;let m=null;if(l instanceof MarkType){let g=d.marks,y;for(;y=l.isInSet(g);)(m||(m=[])).push(y),g=y.removeFromSet(g)}else l?l.isInSet(d.marks)&&(m=[l]):m=d.marks;if(m&&m.length){let g=Math.min(h+d.nodeSize,a);for(let y=0;y<m.length;y++){let b=m[y],v;for(let C=0;C<u.length;C++){let S=u[C];S.step==c-1&&b.eq(u[C].style)&&(v=S)}v?(v.to=g,v.step=c):u.push({style:b,from:Math.max(h,e),to:g,step:c})}}}),u.forEach(d=>t.step(new RemoveMarkStep(d.from,d.to,d.style)))}function clearIncompatible(t,e,a,l=a.contentMatch,u=!0){let c=t.doc.nodeAt(e),d=[],h=e+1;for(let m=0;m<c.childCount;m++){let g=c.child(m),y=h+g.nodeSize,b=l.matchType(g.type);if(!b)d.push(new ReplaceStep(h,y,Slice.empty));else{l=b;for(let v=0;v<g.marks.length;v++)a.allowsMarkType(g.marks[v].type)||t.step(new RemoveMarkStep(h,y,g.marks[v]));if(u&&g.isText&&a.whitespace!="pre"){let v,C=/\r?\n|\r/g,S;for(;v=C.exec(g.text);)S||(S=new Slice(Fragment.from(a.schema.text(" ",a.allowedMarks(g.marks))),0,0)),d.push(new ReplaceStep(h+v.index,h+v.index+v[0].length,S))}}h=y}if(!l.validEnd){let m=l.fillBefore(Fragment.empty,!0);t.replace(h,h,new Slice(m,0,0))}for(let m=d.length-1;m>=0;m--)t.step(d[m])}function canCut(t,e,a){return(e==0||t.canReplace(e,t.childCount))&&(a==t.childCount||t.canReplace(0,a))}function liftTarget(t){let a=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let l=t.depth;;--l){let u=t.$from.node(l),c=t.$from.index(l),d=t.$to.indexAfter(l);if(l<t.depth&&u.canReplace(c,d,a))return l;if(l==0||u.type.spec.isolating||!canCut(u,c,d))break}return null}function lift$2(t,e,a){let{$from:l,$to:u,depth:c}=e,d=l.before(c+1),h=u.after(c+1),m=d,g=h,y=Fragment.empty,b=0;for(let S=c,E=!1;S>a;S--)E||l.index(S)>0?(E=!0,y=Fragment.from(l.node(S).copy(y)),b++):m--;let v=Fragment.empty,C=0;for(let S=c,E=!1;S>a;S--)E||u.after(S+1)<u.end(S)?(E=!0,v=Fragment.from(u.node(S).copy(v)),C++):g++;t.step(new ReplaceAroundStep(m,g,d,h,new Slice(y.append(v),b,C),y.size-b,!0))}function findWrapping(t,e,a=null,l=t){let u=findWrappingOutside(t,e),c=u&&findWrappingInside(l,e);return c?u.map(withAttrs).concat({type:e,attrs:a}).concat(c.map(withAttrs)):null}function withAttrs(t){return{type:t,attrs:null}}function findWrappingOutside(t,e){let{parent:a,startIndex:l,endIndex:u}=t,c=a.contentMatchAt(l).findWrapping(e);if(!c)return null;let d=c.length?c[0]:e;return a.canReplaceWith(l,u,d)?c:null}function findWrappingInside(t,e){let{parent:a,startIndex:l,endIndex:u}=t,c=a.child(l),d=e.contentMatch.findWrapping(c.type);if(!d)return null;let m=(d.length?d[d.length-1]:e).contentMatch;for(let g=l;m&&g<u;g++)m=m.matchType(a.child(g).type);return!m||!m.validEnd?null:d}function wrap(t,e,a){let l=Fragment.empty;for(let d=a.length-1;d>=0;d--){if(l.size){let h=a[d].type.contentMatch.matchFragment(l);if(!h||!h.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}l=Fragment.from(a[d].type.create(a[d].attrs,l))}let u=e.start,c=e.end;t.step(new ReplaceAroundStep(u,c,u,c,new Slice(l,0,0),a.length,!0))}function setBlockType$1(t,e,a,l,u){if(!l.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let c=t.steps.length;t.doc.nodesBetween(e,a,(d,h)=>{let m=typeof u=="function"?u(d):u;if(d.isTextblock&&!d.hasMarkup(l,m)&&canChangeType(t.doc,t.mapping.slice(c).map(h),l)){let g=null;if(l.schema.linebreakReplacement){let C=l.whitespace=="pre",S=!!l.contentMatch.matchType(l.schema.linebreakReplacement);C&&!S?g=!1:!C&&S&&(g=!0)}g===!1&&replaceLinebreaks(t,d,h,c),clearIncompatible(t,t.mapping.slice(c).map(h,1),l,void 0,g===null);let y=t.mapping.slice(c),b=y.map(h,1),v=y.map(h+d.nodeSize,1);return t.step(new ReplaceAroundStep(b,v,b+1,v-1,new Slice(Fragment.from(l.create(m,null,d.marks)),0,0),1,!0)),g===!0&&replaceNewlines(t,d,h,c),!1}})}function replaceNewlines(t,e,a,l){e.forEach((u,c)=>{if(u.isText){let d,h=/\r?\n|\r/g;for(;d=h.exec(u.text);){let m=t.mapping.slice(l).map(a+1+c+d.index);t.replaceWith(m,m+1,e.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(t,e,a,l){e.forEach((u,c)=>{if(u.type==u.type.schema.linebreakReplacement){let d=t.mapping.slice(l).map(a+1+c);t.replaceWith(d,d+1,e.type.schema.text(`
`))}})}function canChangeType(t,e,a){let l=t.resolve(e),u=l.index();return l.parent.canReplaceWith(u,u+1,a)}function setNodeMarkup(t,e,a,l,u){let c=t.doc.nodeAt(e);if(!c)throw new RangeError("No node at given position");a||(a=c.type);let d=a.create(l,null,u||c.marks);if(c.isLeaf)return t.replaceWith(e,e+c.nodeSize,d);if(!a.validContent(c.content))throw new RangeError("Invalid content for node type "+a.name);t.step(new ReplaceAroundStep(e,e+c.nodeSize,e+1,e+c.nodeSize-1,new Slice(Fragment.from(d),0,0),1,!0))}function canSplit(t,e,a=1,l){let u=t.resolve(e),c=u.depth-a,d=l&&l[l.length-1]||u.parent;if(c<0||u.parent.type.spec.isolating||!u.parent.canReplace(u.index(),u.parent.childCount)||!d.type.validContent(u.parent.content.cutByIndex(u.index(),u.parent.childCount)))return!1;for(let g=u.depth-1,y=a-2;g>c;g--,y--){let b=u.node(g),v=u.index(g);if(b.type.spec.isolating)return!1;let C=b.content.cutByIndex(v,b.childCount),S=l&&l[y+1];S&&(C=C.replaceChild(0,S.type.create(S.attrs)));let E=l&&l[y]||b;if(!b.canReplace(v+1,b.childCount)||!E.type.validContent(C))return!1}let h=u.indexAfter(c),m=l&&l[0];return u.node(c).canReplaceWith(h,h,m?m.type:u.node(c+1).type)}function split(t,e,a=1,l){let u=t.doc.resolve(e),c=Fragment.empty,d=Fragment.empty;for(let h=u.depth,m=u.depth-a,g=a-1;h>m;h--,g--){c=Fragment.from(u.node(h).copy(c));let y=l&&l[g];d=Fragment.from(y?y.type.create(y.attrs,d):u.node(h).copy(d))}t.step(new ReplaceStep(e,e,new Slice(c.append(d),a,a),!0))}function canJoin(t,e){let a=t.resolve(e),l=a.index();return joinable(a.nodeBefore,a.nodeAfter)&&a.parent.canReplace(l,l+1)}function canAppendWithSubstitutedLinebreaks(t,e){e.content.size||t.type.compatibleContent(e.type);let a=t.contentMatchAt(t.childCount),{linebreakReplacement:l}=t.type.schema;for(let u=0;u<e.childCount;u++){let c=e.child(u),d=c.type==l?t.type.schema.nodes.text:c.type;if(a=a.matchType(d),!a||!t.type.allowsMarks(c.marks))return!1}return a.validEnd}function joinable(t,e){return!!(t&&e&&!t.isLeaf&&canAppendWithSubstitutedLinebreaks(t,e))}function joinPoint(t,e,a=-1){let l=t.resolve(e);for(let u=l.depth;;u--){let c,d,h=l.index(u);if(u==l.depth?(c=l.nodeBefore,d=l.nodeAfter):a>0?(c=l.node(u+1),h++,d=l.node(u).maybeChild(h)):(c=l.node(u).maybeChild(h-1),d=l.node(u+1)),c&&!c.isTextblock&&joinable(c,d)&&l.node(u).canReplace(h,h+1))return e;if(u==0)break;e=a<0?l.before(u):l.after(u)}}function join(t,e,a){let l=null,{linebreakReplacement:u}=t.doc.type.schema,c=t.doc.resolve(e-a),d=c.node().type;if(u&&d.inlineContent){let y=d.whitespace=="pre",b=!!d.contentMatch.matchType(u);y&&!b?l=!1:!y&&b&&(l=!0)}let h=t.steps.length;if(l===!1){let y=t.doc.resolve(e+a);replaceLinebreaks(t,y.node(),y.before(),h)}d.inlineContent&&clearIncompatible(t,e+a-1,d,c.node().contentMatchAt(c.index()),l==null);let m=t.mapping.slice(h),g=m.map(e-a);if(t.step(new ReplaceStep(g,m.map(e+a,-1),Slice.empty,!0)),l===!0){let y=t.doc.resolve(g);replaceNewlines(t,y.node(),y.before(),t.steps.length)}return t}function insertPoint(t,e,a){let l=t.resolve(e);if(l.parent.canReplaceWith(l.index(),l.index(),a))return e;if(l.parentOffset==0)for(let u=l.depth-1;u>=0;u--){let c=l.index(u);if(l.node(u).canReplaceWith(c,c,a))return l.before(u+1);if(c>0)return null}if(l.parentOffset==l.parent.content.size)for(let u=l.depth-1;u>=0;u--){let c=l.indexAfter(u);if(l.node(u).canReplaceWith(c,c,a))return l.after(u+1);if(c<l.node(u).childCount)return null}return null}function dropPoint(t,e,a){let l=t.resolve(e);if(!a.content.size)return e;let u=a.content;for(let c=0;c<a.openStart;c++)u=u.firstChild.content;for(let c=1;c<=(a.openStart==0&&a.size?2:1);c++)for(let d=l.depth;d>=0;d--){let h=d==l.depth?0:l.pos<=(l.start(d+1)+l.end(d+1))/2?-1:1,m=l.index(d)+(h>0?1:0),g=l.node(d),y=!1;if(c==1)y=g.canReplace(m,m,u);else{let b=g.contentMatchAt(m).findWrapping(u.firstChild.type);y=b&&g.canReplaceWith(m,m,b[0])}if(y)return h==0?l.pos:h<0?l.before(d+1):l.after(d+1)}return null}function replaceStep(t,e,a=e,l=Slice.empty){if(e==a&&!l.size)return null;let u=t.resolve(e),c=t.resolve(a);return fitsTrivially(u,c,l)?new ReplaceStep(e,a,l):new Fitter(u,c,l).fit()}function fitsTrivially(t,e,a){return!a.openStart&&!a.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),a.content)}class Fitter{constructor(e,a,l){this.$from=e,this.$to=a,this.unplaced=l,this.frontier=[],this.placed=Fragment.empty;for(let u=0;u<=e.depth;u++){let c=e.node(u);this.frontier.push({type:c.type,match:c.contentMatchAt(e.indexAfter(u))})}for(let u=e.depth;u>0;u--)this.placed=Fragment.from(e.node(u).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let g=this.findFittable();g?this.placeNodes(g):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),a=this.placed.size-this.depth-this.$from.depth,l=this.$from,u=this.close(e<0?this.$to:l.doc.resolve(e));if(!u)return null;let c=this.placed,d=l.depth,h=u.depth;for(;d&&h&&c.childCount==1;)c=c.firstChild.content,d--,h--;let m=new Slice(c,d,h);return e>-1?new ReplaceAroundStep(l.pos,e,this.$to.pos,this.$to.end(),m,a):m.size||l.pos!=this.$to.pos?new ReplaceStep(l.pos,u.pos,m):null}findFittable(){let e=this.unplaced.openStart;for(let a=this.unplaced.content,l=0,u=this.unplaced.openEnd;l<e;l++){let c=a.firstChild;if(a.childCount>1&&(u=0),c.type.spec.isolating&&u<=l){e=l;break}a=c.content}for(let a=1;a<=2;a++)for(let l=a==1?e:this.unplaced.openStart;l>=0;l--){let u,c=null;l?(c=contentAt(this.unplaced.content,l-1).firstChild,u=c.content):u=this.unplaced.content;let d=u.firstChild;for(let h=this.depth;h>=0;h--){let{type:m,match:g}=this.frontier[h],y,b=null;if(a==1&&(d?g.matchType(d.type)||(b=g.fillBefore(Fragment.from(d),!1)):c&&m.compatibleContent(c.type)))return{sliceDepth:l,frontierDepth:h,parent:c,inject:b};if(a==2&&d&&(y=g.findWrapping(d.type)))return{sliceDepth:l,frontierDepth:h,parent:c,wrap:y};if(c&&g.matchType(c.type))break}}}openMore(){let{content:e,openStart:a,openEnd:l}=this.unplaced,u=contentAt(e,a);return!u.childCount||u.firstChild.isLeaf?!1:(this.unplaced=new Slice(e,a+1,Math.max(l,u.size+a>=e.size-l?a+1:0)),!0)}dropNode(){let{content:e,openStart:a,openEnd:l}=this.unplaced,u=contentAt(e,a);if(u.childCount<=1&&a>0){let c=e.size-a<=a+u.size;this.unplaced=new Slice(dropFromFragment(e,a-1,1),a-1,c?a-1:l)}else this.unplaced=new Slice(dropFromFragment(e,a,1),a,l)}placeNodes({sliceDepth:e,frontierDepth:a,parent:l,inject:u,wrap:c}){for(;this.depth>a;)this.closeFrontierNode();if(c)for(let E=0;E<c.length;E++)this.openFrontierNode(c[E]);let d=this.unplaced,h=l?l.content:d.content,m=d.openStart-e,g=0,y=[],{match:b,type:v}=this.frontier[a];if(u){for(let E=0;E<u.childCount;E++)y.push(u.child(E));b=b.matchFragment(u)}let C=h.size+e-(d.content.size-d.openEnd);for(;g<h.childCount;){let E=h.child(g),_=b.matchType(E.type);if(!_)break;g++,(g>1||m==0||E.content.size)&&(b=_,y.push(closeNodeStart(E.mark(v.allowedMarks(E.marks)),g==1?m:0,g==h.childCount?C:-1)))}let S=g==h.childCount;S||(C=-1),this.placed=addToFragment(this.placed,a,Fragment.from(y)),this.frontier[a].match=b,S&&C<0&&l&&l.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,_=h;E<C;E++){let A=_.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),_=A.content}this.unplaced=S?e==0?Slice.empty:new Slice(dropFromFragment(d.content,e-1,1),e-1,C<0?d.openEnd:e-1):new Slice(dropFromFragment(d.content,e,g),d.openStart,d.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],a;if(!e.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(a=this.findCloseLevel(this.$to))&&a.depth==this.depth)return-1;let{depth:l}=this.$to,u=this.$to.after(l);for(;l>1&&u==this.$to.end(--l);)++u;return u}findCloseLevel(e){e:for(let a=Math.min(this.depth,e.depth);a>=0;a--){let{match:l,type:u}=this.frontier[a],c=a<e.depth&&e.end(a+1)==e.pos+(e.depth-(a+1)),d=contentAfterFits(e,a,u,l,c);if(d){for(let h=a-1;h>=0;h--){let{match:m,type:g}=this.frontier[h],y=contentAfterFits(e,h,g,m,!0);if(!y||y.childCount)continue e}return{depth:a,fit:d,move:c?e.doc.resolve(e.after(a+1)):e}}}}close(e){let a=this.findCloseLevel(e);if(!a)return null;for(;this.depth>a.depth;)this.closeFrontierNode();a.fit.childCount&&(this.placed=addToFragment(this.placed,a.depth,a.fit)),e=a.move;for(let l=a.depth+1;l<=e.depth;l++){let u=e.node(l),c=u.type.contentMatch.fillBefore(u.content,!0,e.index(l));this.openFrontierNode(u.type,u.attrs,c)}return e}openFrontierNode(e,a=null,l){let u=this.frontier[this.depth];u.match=u.match.matchType(e),this.placed=addToFragment(this.placed,this.depth,Fragment.from(e.create(a,l))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let a=this.frontier.pop().match.fillBefore(Fragment.empty,!0);a.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,a))}}function dropFromFragment(t,e,a){return e==0?t.cutByIndex(a,t.childCount):t.replaceChild(0,t.firstChild.copy(dropFromFragment(t.firstChild.content,e-1,a)))}function addToFragment(t,e,a){return e==0?t.append(a):t.replaceChild(t.childCount-1,t.lastChild.copy(addToFragment(t.lastChild.content,e-1,a)))}function contentAt(t,e){for(let a=0;a<e;a++)t=t.firstChild.content;return t}function closeNodeStart(t,e,a){if(e<=0)return t;let l=t.content;return e>1&&(l=l.replaceChild(0,closeNodeStart(l.firstChild,e-1,l.childCount==1?a-1:0))),e>0&&(l=t.type.contentMatch.fillBefore(l).append(l),a<=0&&(l=l.append(t.type.contentMatch.matchFragment(l).fillBefore(Fragment.empty,!0)))),t.copy(l)}function contentAfterFits(t,e,a,l,u){let c=t.node(e),d=u?t.indexAfter(e):t.index(e);if(d==c.childCount&&!a.compatibleContent(c.type))return null;let h=l.fillBefore(c.content,!0,d);return h&&!invalidMarks(a,c.content,d)?h:null}function invalidMarks(t,e,a){for(let l=a;l<e.childCount;l++)if(!t.allowsMarks(e.child(l).marks))return!0;return!1}function definesContent(t){return t.spec.defining||t.spec.definingForContent}function replaceRange(t,e,a,l){if(!l.size)return t.deleteRange(e,a);let u=t.doc.resolve(e),c=t.doc.resolve(a);if(fitsTrivially(u,c,l))return t.step(new ReplaceStep(e,a,l));let d=coveredDepths(u,t.doc.resolve(a));d[d.length-1]==0&&d.pop();let h=-(u.depth+1);d.unshift(h);for(let v=u.depth,C=u.pos-1;v>0;v--,C--){let S=u.node(v).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;d.indexOf(v)>-1?h=v:u.before(v)==C&&d.splice(1,0,-v)}let m=d.indexOf(h),g=[],y=l.openStart;for(let v=l.content,C=0;;C++){let S=v.firstChild;if(g.push(S),C==l.openStart)break;v=S.content}for(let v=y-1;v>=0;v--){let C=g[v],S=definesContent(C.type);if(S&&!C.sameMarkup(u.node(Math.abs(h)-1)))y=v;else if(S||!C.type.isTextblock)break}for(let v=l.openStart;v>=0;v--){let C=(v+y+1)%(l.openStart+1),S=g[C];if(S)for(let E=0;E<d.length;E++){let _=d[(E+m)%d.length],A=!0;_<0&&(A=!1,_=-_);let R=u.node(_-1),k=u.index(_-1);if(R.canReplaceWith(k,k,S.type,S.marks))return t.replace(u.before(_),A?c.after(_):a,new Slice(closeFragment(l.content,0,l.openStart,C),C,l.openEnd))}}let b=t.steps.length;for(let v=d.length-1;v>=0&&(t.replace(e,a,l),!(t.steps.length>b));v--){let C=d[v];C<0||(e=u.before(C),a=c.after(C))}}function closeFragment(t,e,a,l,u){if(e<a){let c=t.firstChild;t=t.replaceChild(0,c.copy(closeFragment(c.content,e+1,a,l,c)))}if(e>l){let c=u.contentMatchAt(0),d=c.fillBefore(t).append(t);t=d.append(c.matchFragment(d).fillBefore(Fragment.empty,!0))}return t}function replaceRangeWith(t,e,a,l){if(!l.isInline&&e==a&&t.doc.resolve(e).parent.content.size){let u=insertPoint(t.doc,e,l.type);u!=null&&(e=a=u)}t.replaceRange(e,a,new Slice(Fragment.from(l),0,0))}function deleteRange$1(t,e,a){let l=t.doc.resolve(e),u=t.doc.resolve(a),c=coveredDepths(l,u);for(let d=0;d<c.length;d++){let h=c[d],m=d==c.length-1;if(m&&h==0||l.node(h).type.contentMatch.validEnd)return t.delete(l.start(h),u.end(h));if(h>0&&(m||l.node(h-1).canReplace(l.index(h-1),u.indexAfter(h-1))))return t.delete(l.before(h),u.after(h))}for(let d=1;d<=l.depth&&d<=u.depth;d++)if(e-l.start(d)==l.depth-d&&a>l.end(d)&&u.end(d)-a!=u.depth-d&&l.start(d-1)==u.start(d-1)&&l.node(d-1).canReplace(l.index(d-1),u.index(d-1)))return t.delete(l.before(d),a);t.delete(e,a)}function coveredDepths(t,e){let a=[],l=Math.min(t.depth,e.depth);for(let u=l;u>=0;u--){let c=t.start(u);if(c<t.pos-(t.depth-u)||e.end(u)>e.pos+(e.depth-u)||t.node(u).type.spec.isolating||e.node(u).type.spec.isolating)break;(c==e.start(u)||u==t.depth&&u==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&u&&e.start(u-1)==c-1)&&a.push(u)}return a}class AttrStep extends Step{constructor(e,a,l){super(),this.pos=e,this.attr=a,this.value=l}apply(e){let a=e.nodeAt(this.pos);if(!a)return StepResult.fail("No node at attribute step's position");let l=Object.create(null);for(let c in a.attrs)l[c]=a.attrs[c];l[this.attr]=this.value;let u=a.type.create(l,null,a.marks);return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(u),0,a.isLeaf?0:1))}getMap(){return StepMap.empty}invert(e){return new AttrStep(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let a=e.mapResult(this.pos,1);return a.deletedAfter?null:new AttrStep(a.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,a){if(typeof a.pos!="number"||typeof a.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(a.pos,a.attr,a.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(e,a){super(),this.attr=e,this.value=a}apply(e){let a=Object.create(null);for(let u in e.attrs)a[u]=e.attrs[u];a[this.attr]=this.value;let l=e.type.create(a,e.content,e.marks);return StepResult.ok(l)}getMap(){return StepMap.empty}invert(e){return new DocAttrStep(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,a){if(typeof a.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(a.attr,a.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function t(e){let a=Error.call(this,e);return a.__proto__=t.prototype,a};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let a=this.maybeStep(e);if(a.failed)throw new TransformError(a.failed);return this}maybeStep(e){let a=e.apply(this.doc);return a.failed||this.addStep(e,a.doc),a}get docChanged(){return this.steps.length>0}addStep(e,a){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=a}replace(e,a=e,l=Slice.empty){let u=replaceStep(this.doc,e,a,l);return u&&this.step(u),this}replaceWith(e,a,l){return this.replace(e,a,new Slice(Fragment.from(l),0,0))}delete(e,a){return this.replace(e,a,Slice.empty)}insert(e,a){return this.replaceWith(e,e,a)}replaceRange(e,a,l){return replaceRange(this,e,a,l),this}replaceRangeWith(e,a,l){return replaceRangeWith(this,e,a,l),this}deleteRange(e,a){return deleteRange$1(this,e,a),this}lift(e,a){return lift$2(this,e,a),this}join(e,a=1){return join(this,e,a),this}wrap(e,a){return wrap(this,e,a),this}setBlockType(e,a=e,l,u=null){return setBlockType$1(this,e,a,l,u),this}setNodeMarkup(e,a,l=null,u){return setNodeMarkup(this,e,a,l,u),this}setNodeAttribute(e,a,l){return this.step(new AttrStep(e,a,l)),this}setDocAttribute(e,a){return this.step(new DocAttrStep(e,a)),this}addNodeMark(e,a){return this.step(new AddNodeMarkStep(e,a)),this}removeNodeMark(e,a){let l=this.doc.nodeAt(e);if(!l)throw new RangeError("No node at position "+e);if(a instanceof Mark$1)a.isInSet(l.marks)&&this.step(new RemoveNodeMarkStep(e,a));else{let u=l.marks,c,d=[];for(;c=a.isInSet(u);)d.push(new RemoveNodeMarkStep(e,c)),u=c.removeFromSet(u);for(let h=d.length-1;h>=0;h--)this.step(d[h])}return this}split(e,a=1,l){return split(this,e,a,l),this}addMark(e,a,l){return addMark(this,e,a,l),this}removeMark(e,a,l){return removeMark(this,e,a,l),this}clearIncompatible(e,a,l){return clearIncompatible(this,e,a,l),this}}const classesById=Object.create(null);class Selection{constructor(e,a,l){this.$anchor=e,this.$head=a,this.ranges=l||[new SelectionRange(e.min(a),e.max(a))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let a=0;a<e.length;a++)if(e[a].$from.pos!=e[a].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,a=Slice.empty){let l=a.content.lastChild,u=null;for(let h=0;h<a.openEnd;h++)u=l,l=l.lastChild;let c=e.steps.length,d=this.ranges;for(let h=0;h<d.length;h++){let{$from:m,$to:g}=d[h],y=e.mapping.slice(c);e.replaceRange(y.map(m.pos),y.map(g.pos),h?Slice.empty:a),h==0&&selectionToInsertionEnd$1(e,c,(l?l.isInline:u&&u.isTextblock)?-1:1)}}replaceWith(e,a){let l=e.steps.length,u=this.ranges;for(let c=0;c<u.length;c++){let{$from:d,$to:h}=u[c],m=e.mapping.slice(l),g=m.map(d.pos),y=m.map(h.pos);c?e.deleteRange(g,y):(e.replaceRangeWith(g,y,a),selectionToInsertionEnd$1(e,l,a.isInline?-1:1))}}static findFrom(e,a,l=!1){let u=e.parent.inlineContent?new TextSelection(e):findSelectionIn(e.node(0),e.parent,e.pos,e.index(),a,l);if(u)return u;for(let c=e.depth-1;c>=0;c--){let d=a<0?findSelectionIn(e.node(0),e.node(c),e.before(c+1),e.index(c),a,l):findSelectionIn(e.node(0),e.node(c),e.after(c+1),e.index(c)+1,a,l);if(d)return d}return null}static near(e,a=1){return this.findFrom(e,a)||this.findFrom(e,-a)||new AllSelection(e.node(0))}static atStart(e){return findSelectionIn(e,e,0,0,1)||new AllSelection(e)}static atEnd(e){return findSelectionIn(e,e,e.content.size,e.childCount,-1)||new AllSelection(e)}static fromJSON(e,a){if(!a||!a.type)throw new RangeError("Invalid input for Selection.fromJSON");let l=classesById[a.type];if(!l)throw new RangeError(`No selection type ${a.type} defined`);return l.fromJSON(e,a)}static jsonID(e,a){if(e in classesById)throw new RangeError("Duplicate use of selection JSON ID "+e);return classesById[e]=a,a.prototype.jsonID=e,a}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(e,a){this.$from=e,this.$to=a}}let warnedAboutTextSelection=!1;function checkTextSelection(t){!warnedAboutTextSelection&&!t.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class TextSelection extends Selection{constructor(e,a=e){checkTextSelection(e),checkTextSelection(a),super(e,a)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,a){let l=e.resolve(a.map(this.head));if(!l.parent.inlineContent)return Selection.near(l);let u=e.resolve(a.map(this.anchor));return new TextSelection(u.parent.inlineContent?u:l,l)}replace(e,a=Slice.empty){if(super.replace(e,a),a==Slice.empty){let l=this.$from.marksAcross(this.$to);l&&e.ensureMarks(l)}}eq(e){return e instanceof TextSelection&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,a){if(typeof a.anchor!="number"||typeof a.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(e.resolve(a.anchor),e.resolve(a.head))}static create(e,a,l=a){let u=e.resolve(a);return new this(u,l==a?u:e.resolve(l))}static between(e,a,l){let u=e.pos-a.pos;if((!l||u)&&(l=u>=0?1:-1),!a.parent.inlineContent){let c=Selection.findFrom(a,l,!0)||Selection.findFrom(a,-l,!0);if(c)a=c.$head;else return Selection.near(a,l)}return e.parent.inlineContent||(u==0?e=a:(e=(Selection.findFrom(e,-l,!0)||Selection.findFrom(e,l,!0)).$anchor,e.pos<a.pos!=u<0&&(e=a))),new TextSelection(e,a)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(e,a){this.anchor=e,this.head=a}map(e){return new TextBookmark(e.map(this.anchor),e.map(this.head))}resolve(e){return TextSelection.between(e.resolve(this.anchor),e.resolve(this.head))}}class NodeSelection extends Selection{constructor(e){let a=e.nodeAfter,l=e.node(0).resolve(e.pos+a.nodeSize);super(e,l),this.node=a}map(e,a){let{deleted:l,pos:u}=a.mapResult(this.anchor),c=e.resolve(u);return l?Selection.near(c):new NodeSelection(c)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(e){return e instanceof NodeSelection&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(e,a){if(typeof a.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(e.resolve(a.anchor))}static create(e,a){return new NodeSelection(e.resolve(a))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(e){this.anchor=e}map(e){let{deleted:a,pos:l}=e.mapResult(this.anchor);return a?new TextBookmark(l,l):new NodeBookmark(l)}resolve(e){let a=e.resolve(this.anchor),l=a.nodeAfter;return l&&NodeSelection.isSelectable(l)?new NodeSelection(a):Selection.near(a)}}class AllSelection extends Selection{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,a=Slice.empty){if(a==Slice.empty){e.delete(0,e.doc.content.size);let l=Selection.atStart(e.doc);l.eq(e.selection)||e.setSelection(l)}else super.replace(e,a)}toJSON(){return{type:"all"}}static fromJSON(e){return new AllSelection(e)}map(e){return new AllSelection(e)}eq(e){return e instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(t){return new AllSelection(t)}};function findSelectionIn(t,e,a,l,u,c=!1){if(e.inlineContent)return TextSelection.create(t,a);for(let d=l-(u>0?0:1);u>0?d<e.childCount:d>=0;d+=u){let h=e.child(d);if(h.isAtom){if(!c&&NodeSelection.isSelectable(h))return NodeSelection.create(t,a-(u<0?h.nodeSize:0))}else{let m=findSelectionIn(t,h,a+u,u<0?h.childCount:0,u,c);if(m)return m}a+=h.nodeSize*u}return null}function selectionToInsertionEnd$1(t,e,a){let l=t.steps.length-1;if(l<e)return;let u=t.steps[l];if(!(u instanceof ReplaceStep||u instanceof ReplaceAroundStep))return;let c=t.mapping.maps[l],d;c.forEach((h,m,g,y)=>{d==null&&(d=y)}),t.setSelection(Selection.near(t.doc.resolve(d),a))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=UPDATED_MARKS,this}ensureMarks(e){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(e,a){super.addStep(e,a),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,a=!0){let l=this.selection;return a&&(e=e.mark(this.storedMarks||(l.empty?l.$from.marks():l.$from.marksAcross(l.$to)||Mark$1.none))),l.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,a,l){let u=this.doc.type.schema;if(a==null)return e?this.replaceSelectionWith(u.text(e),!0):this.deleteSelection();{if(l==null&&(l=a),l=l??a,!e)return this.deleteRange(a,l);let c=this.storedMarks;if(!c){let d=this.doc.resolve(a);c=l==a?d.marks():d.marksAcross(this.doc.resolve(l))}return this.replaceRangeWith(a,l,u.text(e,c)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(e,a){return this.meta[typeof e=="string"?e:e.key]=a,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(t,e){return!e||!t?t:t.bind(e)}class FieldDesc{constructor(e,a,l){this.name=e,this.init=bind(a.init,l),this.apply=bind(a.apply,l)}}const baseFields=[new FieldDesc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new FieldDesc("selection",{init(t,e){return t.selection||Selection.atStart(e.doc)},apply(t){return t.selection}}),new FieldDesc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,a,l){return l.selection.$cursor?t.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Configuration{constructor(e,a){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),a&&a.forEach(l=>{if(this.pluginsByKey[l.key])throw new RangeError("Adding different instances of a keyed plugin ("+l.key+")");this.plugins.push(l),this.pluginsByKey[l.key]=l,l.spec.state&&this.fields.push(new FieldDesc(l.key,l.spec.state,l))})}}class EditorState{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,a=-1){for(let l=0;l<this.config.plugins.length;l++)if(l!=a){let u=this.config.plugins[l];if(u.spec.filterTransaction&&!u.spec.filterTransaction.call(u,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let a=[e],l=this.applyInner(e),u=null;for(;;){let c=!1;for(let d=0;d<this.config.plugins.length;d++){let h=this.config.plugins[d];if(h.spec.appendTransaction){let m=u?u[d].n:0,g=u?u[d].state:this,y=m<a.length&&h.spec.appendTransaction.call(h,m?a.slice(m):a,g,l);if(y&&l.filterTransaction(y,d)){if(y.setMeta("appendedTransaction",e),!u){u=[];for(let b=0;b<this.config.plugins.length;b++)u.push(b<d?{state:l,n:a.length}:{state:this,n:0})}a.push(y),l=l.applyInner(y),c=!0}u&&(u[d]={state:l,n:a.length})}}if(!c)return{state:l,transactions:a}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let a=new EditorState(this.config),l=this.config.fields;for(let u=0;u<l.length;u++){let c=l[u];a[c.name]=c.apply(e,this[c.name],this,a)}return a}get tr(){return new Transaction(this)}static create(e){let a=new Configuration(e.doc?e.doc.type.schema:e.schema,e.plugins),l=new EditorState(a);for(let u=0;u<a.fields.length;u++)l[a.fields[u].name]=a.fields[u].init(e,l);return l}reconfigure(e){let a=new Configuration(this.schema,e.plugins),l=a.fields,u=new EditorState(a);for(let c=0;c<l.length;c++){let d=l[c].name;u[d]=this.hasOwnProperty(d)?this[d]:l[c].init(e,u)}return u}toJSON(e){let a={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(a.storedMarks=this.storedMarks.map(l=>l.toJSON())),e&&typeof e=="object")for(let l in e){if(l=="doc"||l=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let u=e[l],c=u.spec.state;c&&c.toJSON&&(a[l]=c.toJSON.call(u,this[u.key]))}return a}static fromJSON(e,a,l){if(!a)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let u=new Configuration(e.schema,e.plugins),c=new EditorState(u);return u.fields.forEach(d=>{if(d.name=="doc")c.doc=Node$2.fromJSON(e.schema,a.doc);else if(d.name=="selection")c.selection=Selection.fromJSON(c.doc,a.selection);else if(d.name=="storedMarks")a.storedMarks&&(c.storedMarks=a.storedMarks.map(e.schema.markFromJSON));else{if(l)for(let h in l){let m=l[h],g=m.spec.state;if(m.key==d.name&&g&&g.fromJSON&&Object.prototype.hasOwnProperty.call(a,h)){c[d.name]=g.fromJSON.call(m,e,a[h],c);return}}c[d.name]=d.init(e,c)}}),c}}function bindProps(t,e,a){for(let l in t){let u=t[l];u instanceof Function?u=u.bind(e):l=="handleDOMEvents"&&(u=bindProps(u,e,{})),a[l]=u}return a}class Plugin{constructor(e){this.spec=e,this.props={},e.props&&bindProps(e.props,this,this.props),this.key=e.key?e.key.key:createKey("plugin")}getState(e){return e[this.key]}}const keys=Object.create(null);function createKey(t){return t in keys?t+"$"+ ++keys[t]:(keys[t]=0,t+"$")}class PluginKey{constructor(e="key"){this.key=createKey(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const domIndex=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},parentNode=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let reusedRange=null;const textRange=function(t,e,a){let l=reusedRange||(reusedRange=document.createRange());return l.setEnd(t,a??t.nodeValue.length),l.setStart(t,e||0),l},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(t,e,a,l){return a&&(scanFor(t,e,a,l,-1)||scanFor(t,e,a,l,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(t,e,a,l,u){for(;;){if(t==a&&e==l)return!0;if(e==(u<0?0:nodeSize(t))){let c=t.parentNode;if(!c||c.nodeType!=1||hasBlockDesc(t)||atomElements.test(t.nodeName)||t.contentEditable=="false")return!1;e=domIndex(t)+(u<0?0:1),t=c}else if(t.nodeType==1){if(t=t.childNodes[e+(u<0?-1:0)],t.contentEditable=="false")return!1;e=u<0?nodeSize(t):0}else return!1}}function nodeSize(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function textNodeBefore$1(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=nodeSize(t)}else if(t.parentNode&&!hasBlockDesc(t))e=domIndex(t),t=t.parentNode;else return null}}function textNodeAfter$1(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!hasBlockDesc(t))e=domIndex(t)+1,t=t.parentNode;else return null}}function isOnEdge(t,e,a){for(let l=e==0,u=e==nodeSize(t);l||u;){if(t==a)return!0;let c=domIndex(t);if(t=t.parentNode,!t)return!1;l=l&&c==0,u=u&&c==nodeSize(t)}}function hasBlockDesc(t){let e;for(let a=t;a&&!(e=a.pmViewDesc);a=a.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const selectionCollapsed=function(t){return t.focusNode&&isEquivalentPosition(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function keyEvent(t,e){let a=document.createEvent("Event");return a.initEvent("keydown",!0,!0),a.keyCode=t,a.key=a.code=e,a}function deepActiveElement(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function caretFromPoint(t,e,a){if(t.caretPositionFromPoint)try{let l=t.caretPositionFromPoint(e,a);if(l)return{node:l.offsetNode,offset:Math.min(nodeSize(l.offsetNode),l.offset)}}catch{}if(t.caretRangeFromPoint){let l=t.caretRangeFromPoint(e,a);if(l)return{node:l.startContainer,offset:Math.min(nodeSize(l.startContainer),l.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function getSide(t,e){return typeof t=="number"?t:t[e]}function clientRect(t){let e=t.getBoundingClientRect(),a=e.width/t.offsetWidth||1,l=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*a,top:e.top,bottom:e.top+t.clientHeight*l}}function scrollRectIntoView(t,e,a){let l=t.someProp("scrollThreshold")||0,u=t.someProp("scrollMargin")||5,c=t.dom.ownerDocument;for(let d=a||t.dom;d;){if(d.nodeType!=1){d=parentNode(d);continue}let h=d,m=h==c.body,g=m?windowRect(c):clientRect(h),y=0,b=0;if(e.top<g.top+getSide(l,"top")?b=-(g.top-e.top+getSide(u,"top")):e.bottom>g.bottom-getSide(l,"bottom")&&(b=e.bottom-e.top>g.bottom-g.top?e.top+getSide(u,"top")-g.top:e.bottom-g.bottom+getSide(u,"bottom")),e.left<g.left+getSide(l,"left")?y=-(g.left-e.left+getSide(u,"left")):e.right>g.right-getSide(l,"right")&&(y=e.right-g.right+getSide(u,"right")),y||b)if(m)c.defaultView.scrollBy(y,b);else{let C=h.scrollLeft,S=h.scrollTop;b&&(h.scrollTop+=b),y&&(h.scrollLeft+=y);let E=h.scrollLeft-C,_=h.scrollTop-S;e={left:e.left-E,top:e.top-_,right:e.right-E,bottom:e.bottom-_}}let v=m?"fixed":getComputedStyle(d).position;if(/^(fixed|sticky)$/.test(v))break;d=v=="absolute"?d.offsetParent:parentNode(d)}}function storeScrollPos(t){let e=t.dom.getBoundingClientRect(),a=Math.max(0,e.top),l,u;for(let c=(e.left+e.right)/2,d=a+1;d<Math.min(innerHeight,e.bottom);d+=5){let h=t.root.elementFromPoint(c,d);if(!h||h==t.dom||!t.dom.contains(h))continue;let m=h.getBoundingClientRect();if(m.top>=a-20){l=h,u=m.top;break}}return{refDOM:l,refTop:u,stack:scrollStack(t.dom)}}function scrollStack(t){let e=[],a=t.ownerDocument;for(let l=t;l&&(e.push({dom:l,top:l.scrollTop,left:l.scrollLeft}),t!=a);l=parentNode(l));return e}function resetScrollPos({refDOM:t,refTop:e,stack:a}){let l=t?t.getBoundingClientRect().top:0;restoreScrollStack(a,l==0?0:l-e)}function restoreScrollStack(t,e){for(let a=0;a<t.length;a++){let{dom:l,top:u,left:c}=t[a];l.scrollTop!=u+e&&(l.scrollTop=u+e),l.scrollLeft!=c&&(l.scrollLeft=c)}}let preventScrollSupported=null;function focusPreventScroll(t){if(t.setActive)return t.setActive();if(preventScrollSupported)return t.focus(preventScrollSupported);let e=scrollStack(t);t.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(e,0))}function findOffsetInNode(t,e){let a,l=2e8,u,c=0,d=e.top,h=e.top,m,g;for(let y=t.firstChild,b=0;y;y=y.nextSibling,b++){let v;if(y.nodeType==1)v=y.getClientRects();else if(y.nodeType==3)v=textRange(y).getClientRects();else continue;for(let C=0;C<v.length;C++){let S=v[C];if(S.top<=d&&S.bottom>=h){d=Math.max(S.bottom,d),h=Math.min(S.top,h);let E=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(E<l){a=y,l=E,u=E&&a.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,y.nodeType==1&&E&&(c=b+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!m&&S.left<=e.left&&S.right>=e.left&&(m=y,g={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!a&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(c=b+1)}}return!a&&m&&(a=m,u=g,l=0),a&&a.nodeType==3?findOffsetInText(a,u):!a||l&&a.nodeType==1?{node:t,offset:c}:findOffsetInNode(a,u)}function findOffsetInText(t,e){let a=t.nodeValue.length,l=document.createRange();for(let u=0;u<a;u++){l.setEnd(t,u+1),l.setStart(t,u);let c=singleRect(l,1);if(c.top!=c.bottom&&inRect(e,c))return{node:t,offset:u+(e.left>=(c.left+c.right)/2?1:0)}}return{node:t,offset:0}}function inRect(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function targetKludge(t,e){let a=t.parentNode;return a&&/^li$/i.test(a.nodeName)&&e.left<t.getBoundingClientRect().left?a:t}function posFromElement(t,e,a){let{node:l,offset:u}=findOffsetInNode(e,a),c=-1;if(l.nodeType==1&&!l.firstChild){let d=l.getBoundingClientRect();c=d.left!=d.right&&a.left>(d.left+d.right)/2?1:-1}return t.docView.posFromDOM(l,u,c)}function posFromCaret(t,e,a,l){let u=-1;for(let c=e,d=!1;c!=t.dom;){let h=t.docView.nearestDesc(c,!0),m;if(!h)return null;if(h.dom.nodeType==1&&(h.node.isBlock&&h.parent||!h.contentDOM)&&((m=h.dom.getBoundingClientRect()).width||m.height)&&(h.node.isBlock&&h.parent&&(!d&&m.left>l.left||m.top>l.top?u=h.posBefore:(!d&&m.right<l.left||m.bottom<l.top)&&(u=h.posAfter),d=!0),!h.contentDOM&&u<0&&!h.node.isText))return(h.node.isBlock?l.top<(m.top+m.bottom)/2:l.left<(m.left+m.right)/2)?h.posBefore:h.posAfter;c=h.dom.parentNode}return u>-1?u:t.docView.posFromDOM(e,a,-1)}function elementFromPoint(t,e,a){let l=t.childNodes.length;if(l&&a.top<a.bottom)for(let u=Math.max(0,Math.min(l-1,Math.floor(l*(e.top-a.top)/(a.bottom-a.top))-2)),c=u;;){let d=t.childNodes[c];if(d.nodeType==1){let h=d.getClientRects();for(let m=0;m<h.length;m++){let g=h[m];if(inRect(e,g))return elementFromPoint(d,e,g)}}if((c=(c+1)%l)==u)break}return t}function posAtCoords(t,e){let a=t.dom.ownerDocument,l,u=0,c=caretFromPoint(a,e.left,e.top);c&&({node:l,offset:u}=c);let d=(t.root.elementFromPoint?t.root:a).elementFromPoint(e.left,e.top),h;if(!d||!t.dom.contains(d.nodeType!=1?d.parentNode:d)){let g=t.dom.getBoundingClientRect();if(!inRect(e,g)||(d=elementFromPoint(t.dom,e,g),!d))return null}if(safari)for(let g=d;l&&g;g=parentNode(g))g.draggable&&(l=void 0);if(d=targetKludge(d,e),l){if(gecko&&l.nodeType==1&&(u=Math.min(u,l.childNodes.length),u<l.childNodes.length)){let y=l.childNodes[u],b;y.nodeName=="IMG"&&(b=y.getBoundingClientRect()).right<=e.left&&b.bottom>e.top&&u++}let g;webkit&&u&&l.nodeType==1&&(g=l.childNodes[u-1]).nodeType==1&&g.contentEditable=="false"&&g.getBoundingClientRect().top>=e.top&&u--,l==t.dom&&u==l.childNodes.length-1&&l.lastChild.nodeType==1&&e.top>l.lastChild.getBoundingClientRect().bottom?h=t.state.doc.content.size:(u==0||l.nodeType!=1||l.childNodes[u-1].nodeName!="BR")&&(h=posFromCaret(t,l,u,e))}h==null&&(h=posFromElement(t,d,e));let m=t.docView.nearestDesc(d,!0);return{pos:h,inside:m?m.posAtStart-m.border:-1}}function nonZero(t){return t.top<t.bottom||t.left<t.right}function singleRect(t,e){let a=t.getClientRects();if(a.length){let l=a[e<0?0:a.length-1];if(nonZero(l))return l}return Array.prototype.find.call(a,nonZero)||t.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(t,e,a){let{node:l,offset:u,atom:c}=t.docView.domFromPos(e,a<0?-1:1),d=webkit||gecko;if(l.nodeType==3)if(d&&(BIDI.test(l.nodeValue)||(a<0?!u:u==l.nodeValue.length))){let m=singleRect(textRange(l,u,u),a);if(gecko&&u&&/\s/.test(l.nodeValue[u-1])&&u<l.nodeValue.length){let g=singleRect(textRange(l,u-1,u-1),-1);if(g.top==m.top){let y=singleRect(textRange(l,u,u+1),-1);if(y.top!=m.top)return flattenV(y,y.left<g.left)}}return m}else{let m=u,g=u,y=a<0?1:-1;return a<0&&!u?(g++,y=-1):a>=0&&u==l.nodeValue.length?(m--,y=1):a<0?m--:g++,flattenV(singleRect(textRange(l,m,g),y),y<0)}if(!t.state.doc.resolve(e-(c||0)).parent.inlineContent){if(c==null&&u&&(a<0||u==nodeSize(l))){let m=l.childNodes[u-1];if(m.nodeType==1)return flattenH(m.getBoundingClientRect(),!1)}if(c==null&&u<nodeSize(l)){let m=l.childNodes[u];if(m.nodeType==1)return flattenH(m.getBoundingClientRect(),!0)}return flattenH(l.getBoundingClientRect(),a>=0)}if(c==null&&u&&(a<0||u==nodeSize(l))){let m=l.childNodes[u-1],g=m.nodeType==3?textRange(m,nodeSize(m)-(d?0:1)):m.nodeType==1&&(m.nodeName!="BR"||!m.nextSibling)?m:null;if(g)return flattenV(singleRect(g,1),!1)}if(c==null&&u<nodeSize(l)){let m=l.childNodes[u];for(;m.pmViewDesc&&m.pmViewDesc.ignoreForCoords;)m=m.nextSibling;let g=m?m.nodeType==3?textRange(m,0,d?0:1):m.nodeType==1?m:null:null;if(g)return flattenV(singleRect(g,-1),!0)}return flattenV(singleRect(l.nodeType==3?textRange(l):l,-a),a>=0)}function flattenV(t,e){if(t.width==0)return t;let a=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:a,right:a}}function flattenH(t,e){if(t.height==0)return t;let a=e?t.top:t.bottom;return{top:a,bottom:a,left:t.left,right:t.right}}function withFlushedState(t,e,a){let l=t.state,u=t.root.activeElement;l!=e&&t.updateState(e),u!=t.dom&&t.focus();try{return a()}finally{l!=e&&t.updateState(l),u!=t.dom&&u&&u.focus()}}function endOfTextblockVertical(t,e,a){let l=e.selection,u=a=="up"?l.$from:l.$to;return withFlushedState(t,e,()=>{let{node:c}=t.docView.domFromPos(u.pos,a=="up"?-1:1);for(;;){let h=t.docView.nearestDesc(c,!0);if(!h)break;if(h.node.isBlock){c=h.contentDOM||h.dom;break}c=h.dom.parentNode}let d=coordsAtPos(t,u.pos,1);for(let h=c.firstChild;h;h=h.nextSibling){let m;if(h.nodeType==1)m=h.getClientRects();else if(h.nodeType==3)m=textRange(h,0,h.nodeValue.length).getClientRects();else continue;for(let g=0;g<m.length;g++){let y=m[g];if(y.bottom>y.top+1&&(a=="up"?d.top-y.top>(y.bottom-d.top)*2:y.bottom-d.bottom>(d.bottom-y.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(t,e,a){let{$head:l}=e.selection;if(!l.parent.isTextblock)return!1;let u=l.parentOffset,c=!u,d=u==l.parent.content.size,h=t.domSelection();return h?!maybeRTL.test(l.parent.textContent)||!h.modify?a=="left"||a=="backward"?c:d:withFlushedState(t,e,()=>{let{focusNode:m,focusOffset:g,anchorNode:y,anchorOffset:b}=t.domSelectionRange(),v=h.caretBidiLevel;h.modify("move",a,"character");let C=l.depth?t.docView.domAfterPos(l.before()):t.dom,{focusNode:S,focusOffset:E}=t.domSelectionRange(),_=S&&!C.contains(S.nodeType==1?S:S.parentNode)||m==S&&g==E;try{h.collapse(y,b),m&&(m!=y||g!=b)&&h.extend&&h.extend(m,g)}catch{}return v!=null&&(h.caretBidiLevel=v),_}):l.pos==l.start()||l.pos==l.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(t,e,a){return cachedState==e&&cachedDir==a?cachedResult:(cachedState=e,cachedDir=a,cachedResult=a=="up"||a=="down"?endOfTextblockVertical(t,e,a):endOfTextblockHorizontal(t,e,a))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(e,a,l,u){this.parent=e,this.children=a,this.dom=l,this.contentDOM=u,this.dirty=NOT_DIRTY,l.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,a,l){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let a=0;a<this.children.length;a++)e+=this.children[a].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let a=0,l=this.posAtStart;;a++){let u=this.children[a];if(u==e)return l;l+=u.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,a,l){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(l<0){let c,d;if(e==this.contentDOM)c=e.childNodes[a-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;c=e.previousSibling}for(;c&&!((d=c.pmViewDesc)&&d.parent==this);)c=c.previousSibling;return c?this.posBeforeChild(d)+d.size:this.posAtStart}else{let c,d;if(e==this.contentDOM)c=e.childNodes[a];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;c=e.nextSibling}for(;c&&!((d=c.pmViewDesc)&&d.parent==this);)c=c.nextSibling;return c?this.posBeforeChild(d):this.posAtEnd}let u;if(e==this.dom&&this.contentDOM)u=a>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))u=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(a==0)for(let c=e;;c=c.parentNode){if(c==this.dom){u=!1;break}if(c.previousSibling)break}if(u==null&&a==e.childNodes.length)for(let c=e;;c=c.parentNode){if(c==this.dom){u=!0;break}if(c.nextSibling)break}}return u??l>0?this.posAtEnd:this.posAtStart}nearestDesc(e,a=!1){for(let l=!0,u=e;u;u=u.parentNode){let c=this.getDesc(u),d;if(c&&(!a||c.node))if(l&&(d=c.nodeDOM)&&!(d.nodeType==1?d.contains(e.nodeType==1?e:e.parentNode):d==e))l=!1;else return c}}getDesc(e){let a=e.pmViewDesc;for(let l=a;l;l=l.parent)if(l==this)return a}posFromDOM(e,a,l){for(let u=e;u;u=u.parentNode){let c=this.getDesc(u);if(c)return c.localPosFromDOM(e,a,l)}return-1}descAt(e){for(let a=0,l=0;a<this.children.length;a++){let u=this.children[a],c=l+u.size;if(l==e&&c!=l){for(;!u.border&&u.children.length;)for(let d=0;d<u.children.length;d++){let h=u.children[d];if(h.size){u=h;break}}return u}if(e<c)return u.descAt(e-l-u.border);l=c}}domFromPos(e,a){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let l=0,u=0;for(let c=0;l<this.children.length;l++){let d=this.children[l],h=c+d.size;if(h>e||d instanceof TrailingHackViewDesc){u=e-c;break}c=h}if(u)return this.children[l].domFromPos(u-this.children[l].border,a);for(let c;l&&!(c=this.children[l-1]).size&&c instanceof WidgetViewDesc&&c.side>=0;l--);if(a<=0){let c,d=!0;for(;c=l?this.children[l-1]:null,!(!c||c.dom.parentNode==this.contentDOM);l--,d=!1);return c&&a&&d&&!c.border&&!c.domAtom?c.domFromPos(c.size,a):{node:this.contentDOM,offset:c?domIndex(c.dom)+1:0}}else{let c,d=!0;for(;c=l<this.children.length?this.children[l]:null,!(!c||c.dom.parentNode==this.contentDOM);l++,d=!1);return c&&d&&!c.border&&!c.domAtom?c.domFromPos(0,a):{node:this.contentDOM,offset:c?domIndex(c.dom):this.contentDOM.childNodes.length}}}parseRange(e,a,l=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:a,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let u=-1,c=-1;for(let d=l,h=0;;h++){let m=this.children[h],g=d+m.size;if(u==-1&&e<=g){let y=d+m.border;if(e>=y&&a<=g-m.border&&m.node&&m.contentDOM&&this.contentDOM.contains(m.contentDOM))return m.parseRange(e,a,y);e=d;for(let b=h;b>0;b--){let v=this.children[b-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){u=domIndex(v.dom)+1;break}e-=v.size}u==-1&&(u=0)}if(u>-1&&(g>a||h==this.children.length-1)){a=g;for(let y=h+1;y<this.children.length;y++){let b=this.children[y];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(-1)){c=domIndex(b.dom);break}a+=b.size}c==-1&&(c=this.contentDOM.childNodes.length);break}d=g}return{node:this.contentDOM,from:e,to:a,fromOffset:u,toOffset:c}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let a=this.children[e<0?0:this.children.length-1];return a.size==0||a.emptyChildAt(e)}domAfterPos(e){let{node:a,offset:l}=this.domFromPos(e,0);if(a.nodeType!=1||l==a.childNodes.length)throw new RangeError("No node after pos "+e);return a.childNodes[l]}setSelection(e,a,l,u=!1){let c=Math.min(e,a),d=Math.max(e,a);for(let C=0,S=0;C<this.children.length;C++){let E=this.children[C],_=S+E.size;if(c>S&&d<_)return E.setSelection(e-S-E.border,a-S-E.border,l,u);S=_}let h=this.domFromPos(e,e?-1:1),m=a==e?h:this.domFromPos(a,a?-1:1),g=l.root.getSelection(),y=l.domSelectionRange(),b=!1;if((gecko||safari)&&e==a){let{node:C,offset:S}=h;if(C.nodeType==3){if(b=!!(S&&C.nodeValue[S-1]==`
`),b&&S==C.nodeValue.length)for(let E=C,_;E;E=E.parentNode){if(_=E.nextSibling){_.nodeName=="BR"&&(h=m={node:_.parentNode,offset:domIndex(_)+1});break}let A=E.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let E=C.childNodes[S-1];b=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(gecko&&y.focusNode&&y.focusNode!=m.node&&y.focusNode.nodeType==1){let C=y.focusNode.childNodes[y.focusOffset];C&&C.contentEditable=="false"&&(u=!0)}if(!(u||b&&safari)&&isEquivalentPosition(h.node,h.offset,y.anchorNode,y.anchorOffset)&&isEquivalentPosition(m.node,m.offset,y.focusNode,y.focusOffset))return;let v=!1;if((g.extend||e==a)&&!b){g.collapse(h.node,h.offset);try{e!=a&&g.extend(m.node,m.offset),v=!0}catch{}}if(!v){if(e>a){let S=h;h=m,m=S}let C=document.createRange();C.setEnd(m.node,m.offset),C.setStart(h.node,h.offset),g.removeAllRanges(),g.addRange(C)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,a){for(let l=0,u=0;u<this.children.length;u++){let c=this.children[u],d=l+c.size;if(l==d?e<=d&&a>=l:e<d&&a>l){let h=l+c.border,m=d-c.border;if(e>=h&&a<=m){this.dirty=e==l||a==d?CONTENT_DIRTY:CHILD_DIRTY,e==h&&a==m&&(c.contentLost||c.dom.parentNode!=this.contentDOM)?c.dirty=NODE_DIRTY:c.markDirty(e-h,a-h);return}else c.dirty=c.dom==c.contentDOM&&c.dom.parentNode==this.contentDOM&&!c.children.length?CONTENT_DIRTY:NODE_DIRTY}l=d}this.dirty=CONTENT_DIRTY}markParentsDirty(){let e=1;for(let a=this.parent;a;a=a.parent,e++){let l=e==1?CONTENT_DIRTY:CHILD_DIRTY;a.dirty<l&&(a.dirty=l)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class WidgetViewDesc extends ViewDesc{constructor(e,a,l,u){let c,d=a.type.toDOM;if(typeof d=="function"&&(d=d(l,()=>{if(!c)return u;if(c.parent)return c.parent.posBeforeChild(c)})),!a.type.spec.raw){if(d.nodeType!=1){let h=document.createElement("span");h.appendChild(d),d=h}d.contentEditable="false",d.classList.add("ProseMirror-widget")}super(e,[],d,null),this.widget=a,this.widget=a,c=this}matchesWidget(e){return this.dirty==NOT_DIRTY&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let a=this.widget.spec.stopEvent;return a?a(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(e,a,l,u){super(e,[],a,null),this.textDOM=l,this.text=u}get size(){return this.text.length}localPosFromDOM(e,a){return e!=this.textDOM?this.posAtStart+(a?this.size:0):this.posAtStart+a}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class MarkViewDesc extends ViewDesc{constructor(e,a,l,u,c){super(e,[],l,u),this.mark=a,this.spec=c}static create(e,a,l,u){let c=u.nodeViews[a.type.name],d=c&&c(a,u,l);return(!d||!d.dom)&&(d=DOMSerializer.renderSpec(document,a.type.spec.toDOM(a,l),null,a.attrs)),new MarkViewDesc(e,a,d.dom,d.contentDOM||d.dom,d)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=NODE_DIRTY&&this.mark.eq(e)}markDirty(e,a){if(super.markDirty(e,a),this.dirty!=NOT_DIRTY){let l=this.parent;for(;!l.node;)l=l.parent;l.dirty<this.dirty&&(l.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(e,a,l){let u=MarkViewDesc.create(this.parent,this.mark,!0,l),c=this.children,d=this.size;a<d&&(c=replaceNodes(c,a,d,l)),e>0&&(c=replaceNodes(c,0,e,l));for(let h=0;h<c.length;h++)c[h].parent=u;return u.children=c,u}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(e,a,l,u,c,d,h,m,g){super(e,[],c,d),this.node=a,this.outerDeco=l,this.innerDeco=u,this.nodeDOM=h}static create(e,a,l,u,c,d){let h=c.nodeViews[a.type.name],m,g=h&&h(a,c,()=>{if(!m)return d;if(m.parent)return m.parent.posBeforeChild(m)},l,u),y=g&&g.dom,b=g&&g.contentDOM;if(a.isText){if(!y)y=document.createTextNode(a.text);else if(y.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else y||({dom:y,contentDOM:b}=DOMSerializer.renderSpec(document,a.type.spec.toDOM(a),null,a.attrs));!b&&!a.isText&&y.nodeName!="BR"&&(y.hasAttribute("contenteditable")||(y.contentEditable="false"),a.type.spec.draggable&&(y.draggable=!0));let v=y;return y=applyOuterDeco(y,l,a),g?m=new CustomNodeViewDesc(e,a,l,u,y,b||null,v,g,c,d+1):a.isText?new TextViewDesc(e,a,l,u,y,v,c):new NodeViewDesc(e,a,l,u,y,b||null,v,c,d+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let a=this.children.length-1;a>=0;a--){let l=this.children[a];if(this.dom.contains(l.dom.parentNode)){e.contentElement=l.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Fragment.empty)}return e}matchesNode(e,a,l){return this.dirty==NOT_DIRTY&&e.eq(this.node)&&sameOuterDeco(a,this.outerDeco)&&l.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,a){let l=this.node.inlineContent,u=a,c=e.composing?this.localCompositionInfo(e,a):null,d=c&&c.pos>-1?c:null,h=c&&c.pos<0,m=new ViewTreeUpdater(this,d&&d.node,e);iterDeco(this.node,this.innerDeco,(g,y,b)=>{g.spec.marks?m.syncToMarks(g.spec.marks,l,e):g.type.side>=0&&!b&&m.syncToMarks(y==this.node.childCount?Mark$1.none:this.node.child(y).marks,l,e),m.placeWidget(g,e,u)},(g,y,b,v)=>{m.syncToMarks(g.marks,l,e);let C;m.findNodeMatch(g,y,b,v)||h&&e.state.selection.from>u&&e.state.selection.to<u+g.nodeSize&&(C=m.findIndexWithChild(c.node))>-1&&m.updateNodeAt(g,y,b,C,e)||m.updateNextNode(g,y,b,e,v,u)||m.addNode(g,y,b,e,u),u+=g.nodeSize}),m.syncToMarks([],l,e),this.node.isTextblock&&m.addTextblockHacks(),m.destroyRest(),(m.changed||this.dirty==CONTENT_DIRTY)&&(d&&this.protectLocalComposition(e,d),renderDescs(this.contentDOM,this.children,e),ios&&iosHacks(this.dom))}localCompositionInfo(e,a){let{from:l,to:u}=e.state.selection;if(!(e.state.selection instanceof TextSelection)||l<a||u>a+this.node.content.size)return null;let c=e.input.compositionNode;if(!c||!this.dom.contains(c.parentNode))return null;if(this.node.inlineContent){let d=c.nodeValue,h=findTextInFragment(this.node.content,d,l-a,u-a);return h<0?null:{node:c,pos:h,text:d}}else return{node:c,pos:-1,text:""}}protectLocalComposition(e,{node:a,pos:l,text:u}){if(this.getDesc(a))return;let c=a;for(;c.parentNode!=this.contentDOM;c=c.parentNode){for(;c.previousSibling;)c.parentNode.removeChild(c.previousSibling);for(;c.nextSibling;)c.parentNode.removeChild(c.nextSibling);c.pmViewDesc&&(c.pmViewDesc=void 0)}let d=new CompositionViewDesc(this,c,a,u);e.input.compositionNodes.push(d),this.children=replaceNodes(this.children,l,l+u.length,e,d)}update(e,a,l,u){return this.dirty==NODE_DIRTY||!e.sameMarkup(this.node)?!1:(this.updateInner(e,a,l,u),!0)}updateInner(e,a,l,u){this.updateOuterDeco(a),this.node=e,this.innerDeco=l,this.contentDOM&&this.updateChildren(u,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(e){if(sameOuterDeco(e,this.outerDeco))return;let a=this.nodeDOM.nodeType!=1,l=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,a),computeOuterDeco(e,this.node,a)),this.dom!=l&&(l.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(t,e,a,l,u){applyOuterDeco(l,e,t);let c=new NodeViewDesc(void 0,t,e,a,l,l,l,u,0);return c.contentDOM&&c.updateChildren(u,0),c}class TextViewDesc extends NodeViewDesc{constructor(e,a,l,u,c,d,h){super(e,a,l,u,c,null,d,h,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,a,l,u){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(a),(this.dirty!=NOT_DIRTY||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,u.trackWrites==this.nodeDOM&&(u.trackWrites=null)),this.node=e,this.dirty=NOT_DIRTY,!0)}inParent(){let e=this.parent.contentDOM;for(let a=this.nodeDOM;a;a=a.parentNode)if(a==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,a,l){return e==this.nodeDOM?this.posAtStart+Math.min(a,this.node.text.length):super.localPosFromDOM(e,a,l)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,a,l){let u=this.node.cut(e,a),c=document.createTextNode(u.text);return new TextViewDesc(this.parent,u,this.outerDeco,this.innerDeco,c,c,l)}markDirty(e,a){super.markDirty(e,a),this.dom!=this.nodeDOM&&(e==0||a==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(e){return this.node.text==e}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==NOT_DIRTY&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(e,a,l,u,c,d,h,m,g,y){super(e,a,l,u,c,d,h,g,y),this.spec=m}update(e,a,l,u){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let c=this.spec.update(e,a,l);return c&&this.updateInner(e,a,l,u),c}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,a,l,u)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,a,l,u){this.spec.setSelection?this.spec.setSelection(e,a,l.root):super.setSelection(e,a,l,u)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function renderDescs(t,e,a){let l=t.firstChild,u=!1;for(let c=0;c<e.length;c++){let d=e[c],h=d.dom;if(h.parentNode==t){for(;h!=l;)l=rm(l),u=!0;l=l.nextSibling}else u=!0,t.insertBefore(h,l);if(d instanceof MarkViewDesc){let m=l?l.previousSibling:t.lastChild;renderDescs(d.contentDOM,d.children,a),l=m?m.nextSibling:t.firstChild}}for(;l;)l=rm(l),u=!0;u&&a.trackWrites==t&&(a.trackWrites=null)}const OuterDecoLevel=function(t){t&&(this.nodeName=t)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(t,e,a){if(t.length==0)return noDeco;let l=a?noDeco[0]:new OuterDecoLevel,u=[l];for(let c=0;c<t.length;c++){let d=t[c].type.attrs;if(d){d.nodeName&&u.push(l=new OuterDecoLevel(d.nodeName));for(let h in d){let m=d[h];m!=null&&(a&&u.length==1&&u.push(l=new OuterDecoLevel(e.isInline?"span":"div")),h=="class"?l.class=(l.class?l.class+" ":"")+m:h=="style"?l.style=(l.style?l.style+";":"")+m:h!="nodeName"&&(l[h]=m))}}}return u}function patchOuterDeco(t,e,a,l){if(a==noDeco&&l==noDeco)return e;let u=e;for(let c=0;c<l.length;c++){let d=l[c],h=a[c];if(c){let m;h&&h.nodeName==d.nodeName&&u!=t&&(m=u.parentNode)&&m.nodeName.toLowerCase()==d.nodeName||(m=document.createElement(d.nodeName),m.pmIsDeco=!0,m.appendChild(u),h=noDeco[0]),u=m}patchAttributes(u,h||noDeco[0],d)}return u}function patchAttributes(t,e,a){for(let l in e)l!="class"&&l!="style"&&l!="nodeName"&&!(l in a)&&t.removeAttribute(l);for(let l in a)l!="class"&&l!="style"&&l!="nodeName"&&a[l]!=e[l]&&t.setAttribute(l,a[l]);if(e.class!=a.class){let l=e.class?e.class.split(" ").filter(Boolean):[],u=a.class?a.class.split(" ").filter(Boolean):[];for(let c=0;c<l.length;c++)u.indexOf(l[c])==-1&&t.classList.remove(l[c]);for(let c=0;c<u.length;c++)l.indexOf(u[c])==-1&&t.classList.add(u[c]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=a.style){if(e.style){let l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,u;for(;u=l.exec(e.style);)t.style.removeProperty(u[1])}a.style&&(t.style.cssText+=a.style)}}function applyOuterDeco(t,e,a){return patchOuterDeco(t,t,noDeco,computeOuterDeco(e,a,t.nodeType!=1))}function sameOuterDeco(t,e){if(t.length!=e.length)return!1;for(let a=0;a<t.length;a++)if(!t[a].type.eq(e[a].type))return!1;return!0}function rm(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ViewTreeUpdater{constructor(e,a,l){this.lock=a,this.view=l,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=preMatch(e.node.content,e)}destroyBetween(e,a){if(e!=a){for(let l=e;l<a;l++)this.top.children[l].destroy();this.top.children.splice(e,a-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,a,l){let u=0,c=this.stack.length>>1,d=Math.min(c,e.length);for(;u<d&&(u==c-1?this.top:this.stack[u+1<<1]).matchesMark(e[u])&&e[u].type.spec.spanning!==!1;)u++;for(;u<c;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<e.length;){this.stack.push(this.top,this.index+1);let h=-1;for(let m=this.index;m<Math.min(this.index+3,this.top.children.length);m++){let g=this.top.children[m];if(g.matchesMark(e[c])&&!this.isLocked(g.dom)){h=m;break}}if(h>-1)h>this.index&&(this.changed=!0,this.destroyBetween(this.index,h)),this.top=this.top.children[this.index];else{let m=MarkViewDesc.create(this.top,e[c],a,l);this.top.children.splice(this.index,0,m),this.top=m,this.changed=!0}this.index=0,c++}}findNodeMatch(e,a,l,u){let c=-1,d;if(u>=this.preMatch.index&&(d=this.preMatch.matches[u-this.preMatch.index]).parent==this.top&&d.matchesNode(e,a,l))c=this.top.children.indexOf(d,this.index);else for(let h=this.index,m=Math.min(this.top.children.length,h+5);h<m;h++){let g=this.top.children[h];if(g.matchesNode(e,a,l)&&!this.preMatch.matched.has(g)){c=h;break}}return c<0?!1:(this.destroyBetween(this.index,c),this.index++,!0)}updateNodeAt(e,a,l,u,c){let d=this.top.children[u];return d.dirty==NODE_DIRTY&&d.dom==d.contentDOM&&(d.dirty=CONTENT_DIRTY),d.update(e,a,l,c)?(this.destroyBetween(this.index,u),this.index++,!0):!1}findIndexWithChild(e){for(;;){let a=e.parentNode;if(!a)return-1;if(a==this.top.contentDOM){let l=e.pmViewDesc;if(l){for(let u=this.index;u<this.top.children.length;u++)if(this.top.children[u]==l)return u}return-1}e=a}}updateNextNode(e,a,l,u,c,d){for(let h=this.index;h<this.top.children.length;h++){let m=this.top.children[h];if(m instanceof NodeViewDesc){let g=this.preMatch.matched.get(m);if(g!=null&&g!=c)return!1;let y=m.dom,b,v=this.isLocked(y)&&!(e.isText&&m.node&&m.node.isText&&m.nodeDOM.nodeValue==e.text&&m.dirty!=NODE_DIRTY&&sameOuterDeco(a,m.outerDeco));if(!v&&m.update(e,a,l,u))return this.destroyBetween(this.index,h),m.dom!=y&&(this.changed=!0),this.index++,!0;if(!v&&(b=this.recreateWrapper(m,e,a,l,u,d)))return this.destroyBetween(this.index,h),this.top.children[this.index]=b,b.contentDOM&&(b.dirty=CONTENT_DIRTY,b.updateChildren(u,d+1),b.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,a,l,u,c,d){if(e.dirty||a.isAtom||!e.children.length||!e.node.content.eq(a.content)||!sameOuterDeco(l,e.outerDeco)||!u.eq(e.innerDeco))return null;let h=NodeViewDesc.create(this.top,a,l,u,c,d);if(h.contentDOM){h.children=e.children,e.children=[];for(let m of h.children)m.parent=h}return e.destroy(),h}addNode(e,a,l,u,c){let d=NodeViewDesc.create(this.top,e,a,l,u,c);d.contentDOM&&d.updateChildren(u,c+1),this.top.children.splice(this.index++,0,d),this.changed=!0}placeWidget(e,a,l){let u=this.index<this.top.children.length?this.top.children[this.index]:null;if(u&&u.matchesWidget(e)&&(e==u.widget||!u.widget.type.toDOM.parentNode))this.index++;else{let c=new WidgetViewDesc(this.top,e,a,l);this.top.children.splice(this.index++,0,c),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],a=this.top;for(;e instanceof MarkViewDesc;)a=e,e=a.children[a.children.length-1];(!e||!(e instanceof TextViewDesc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((safari||chrome)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",a),this.addHackNode("BR",this.top))}addHackNode(e,a){if(a==this.top&&this.index<a.children.length&&a.children[this.index].matchesHack(e))this.index++;else{let l=document.createElement(e);e=="IMG"&&(l.className="ProseMirror-separator",l.alt=""),e=="BR"&&(l.className="ProseMirror-trailingBreak");let u=new TrailingHackViewDesc(this.top,[],l,null);a!=this.top?a.children.push(u):a.children.splice(this.index++,0,u),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function preMatch(t,e){let a=e,l=a.children.length,u=t.childCount,c=new Map,d=[];e:for(;u>0;){let h;for(;;)if(l){let g=a.children[l-1];if(g instanceof MarkViewDesc)a=g,l=g.children.length;else{h=g,l--;break}}else{if(a==e)break e;l=a.parent.children.indexOf(a),a=a.parent}let m=h.node;if(m){if(m!=t.child(u-1))break;--u,c.set(h,u),d.push(h)}}return{index:u,matched:c,matches:d.reverse()}}function compareSide(t,e){return t.type.side-e.type.side}function iterDeco(t,e,a,l){let u=e.locals(t),c=0;if(u.length==0){for(let g=0;g<t.childCount;g++){let y=t.child(g);l(y,u,e.forChild(c,y),g),c+=y.nodeSize}return}let d=0,h=[],m=null;for(let g=0;;){let y,b;for(;d<u.length&&u[d].to==c;){let _=u[d++];_.widget&&(y?(b||(b=[y])).push(_):y=_)}if(y)if(b){b.sort(compareSide);for(let _=0;_<b.length;_++)a(b[_],g,!!m)}else a(y,g,!!m);let v,C;if(m)C=-1,v=m,m=null;else if(g<t.childCount)C=g,v=t.child(g++);else break;for(let _=0;_<h.length;_++)h[_].to<=c&&h.splice(_--,1);for(;d<u.length&&u[d].from<=c&&u[d].to>c;)h.push(u[d++]);let S=c+v.nodeSize;if(v.isText){let _=S;d<u.length&&u[d].from<_&&(_=u[d].from);for(let A=0;A<h.length;A++)h[A].to<_&&(_=h[A].to);_<S&&(m=v.cut(_-c),v=v.cut(0,_-c),S=_,C=-1)}else for(;d<u.length&&u[d].to<S;)d++;let E=v.isInline&&!v.isLeaf?h.filter(_=>!_.inline):h.slice();l(v,E,e.forChild(c,v),C),c=S}}function iosHacks(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function findTextInFragment(t,e,a,l){for(let u=0,c=0;u<t.childCount&&c<=l;){let d=t.child(u++),h=c;if(c+=d.nodeSize,!d.isText)continue;let m=d.text;for(;u<t.childCount;){let g=t.child(u++);if(c+=g.nodeSize,!g.isText)break;m+=g.text}if(c>=a){if(c>=l&&m.slice(l-e.length-h,l-h)==e)return l-e.length;let g=h<l?m.lastIndexOf(e,l-h-1):-1;if(g>=0&&g+e.length+h>=a)return h+g;if(a==l&&m.length>=l+e.length-h&&m.slice(l-h,l-h+e.length)==e)return l}}return-1}function replaceNodes(t,e,a,l,u){let c=[];for(let d=0,h=0;d<t.length;d++){let m=t[d],g=h,y=h+=m.size;g>=a||y<=e?c.push(m):(g<e&&c.push(m.slice(0,e-g,l)),u&&(c.push(u),u=void 0),y>a&&c.push(m.slice(a-g,m.size,l)))}return c}function selectionFromDOM(t,e=null){let a=t.domSelectionRange(),l=t.state.doc;if(!a.focusNode)return null;let u=t.docView.nearestDesc(a.focusNode),c=u&&u.size==0,d=t.docView.posFromDOM(a.focusNode,a.focusOffset,1);if(d<0)return null;let h=l.resolve(d),m,g;if(selectionCollapsed(a)){for(m=d;u&&!u.node;)u=u.parent;let b=u.node;if(u&&b.isAtom&&NodeSelection.isSelectable(b)&&u.parent&&!(b.isInline&&isOnEdge(a.focusNode,a.focusOffset,u.dom))){let v=u.posBefore;g=new NodeSelection(d==v?h:l.resolve(v))}}else{if(a instanceof t.dom.ownerDocument.defaultView.Selection&&a.rangeCount>1){let b=d,v=d;for(let C=0;C<a.rangeCount;C++){let S=a.getRangeAt(C);b=Math.min(b,t.docView.posFromDOM(S.startContainer,S.startOffset,1)),v=Math.max(v,t.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(b<0)return null;[m,d]=v==t.state.selection.anchor?[v,b]:[b,v],h=l.resolve(d)}else m=t.docView.posFromDOM(a.anchorNode,a.anchorOffset,1);if(m<0)return null}let y=l.resolve(m);if(!g){let b=e=="pointer"||t.state.selection.head<h.pos&&!c?1:-1;g=selectionBetween(t,y,h,b)}return g}function editorOwnsSelection(t){return t.editable?t.hasFocus():hasSelection(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function selectionToDOM(t,e=!1){let a=t.state.selection;if(syncNodeSelection(t,a),!!editorOwnsSelection(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&chrome){let l=t.domSelectionRange(),u=t.domObserver.currentSelection;if(l.anchorNode&&u.anchorNode&&isEquivalentPosition(l.anchorNode,l.anchorOffset,u.anchorNode,u.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)selectCursorWrapper(t);else{let{anchor:l,head:u}=a,c,d;brokenSelectBetweenUneditable&&!(a instanceof TextSelection)&&(a.$from.parent.inlineContent||(c=temporarilyEditableNear(t,a.from)),!a.empty&&!a.$from.parent.inlineContent&&(d=temporarilyEditableNear(t,a.to))),t.docView.setSelection(l,u,t,e),brokenSelectBetweenUneditable&&(c&&resetEditable(c),d&&resetEditable(d)),a.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(t,e){let{node:a,offset:l}=t.docView.domFromPos(e,0),u=l<a.childNodes.length?a.childNodes[l]:null,c=l?a.childNodes[l-1]:null;if(safari&&u&&u.contentEditable=="false")return setEditable(u);if((!u||u.contentEditable=="false")&&(!c||c.contentEditable=="false")){if(u)return setEditable(u);if(c)return setEditable(c)}}function setEditable(t){return t.contentEditable="true",safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function resetEditable(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function removeClassOnSelectionChange(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let a=t.domSelectionRange(),l=a.anchorNode,u=a.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(a.anchorNode!=l||a.anchorOffset!=u)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(t){let e=t.domSelection(),a=document.createRange();if(!e)return;let l=t.cursorWrapper.dom,u=l.nodeName=="IMG";u?a.setStart(l.parentNode,domIndex(l)+1):a.setStart(l,0),a.collapse(!0),e.removeAllRanges(),e.addRange(a),!u&&!t.state.selection.visible&&ie$1&&ie_version<=11&&(l.disabled=!0,l.disabled=!1)}function syncNodeSelection(t,e){if(e instanceof NodeSelection){let a=t.docView.descAt(e.from);a!=t.lastSelectedViewDesc&&(clearNodeSelection(t),a&&a.selectNode(),t.lastSelectedViewDesc=a)}else clearNodeSelection(t)}function clearNodeSelection(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function selectionBetween(t,e,a,l){return t.someProp("createSelectionBetween",u=>u(t,e,a))||TextSelection.between(e,a,l)}function hasFocusAndSelection(t){return t.editable&&!t.hasFocus()?!1:hasSelection(t)}function hasSelection(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function anchorInRightPlace(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),a=t.domSelectionRange();return isEquivalentPosition(e.node,e.offset,a.anchorNode,a.anchorOffset)}function moveSelectionBlock(t,e){let{$anchor:a,$head:l}=t.selection,u=e>0?a.max(l):a.min(l),c=u.parent.inlineContent?u.depth?t.doc.resolve(e>0?u.after():u.before()):null:u;return c&&Selection.findFrom(c,e)}function apply(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function selectHorizontally(t,e,a){let l=t.state.selection;if(l instanceof TextSelection)if(a.indexOf("s")>-1){let{$head:u}=l,c=u.textOffset?null:e<0?u.nodeBefore:u.nodeAfter;if(!c||c.isText||!c.isLeaf)return!1;let d=t.state.doc.resolve(u.pos+c.nodeSize*(e<0?-1:1));return apply(t,new TextSelection(l.$anchor,d))}else if(l.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let u=moveSelectionBlock(t.state,e);return u&&u instanceof NodeSelection?apply(t,u):!1}else if(!(mac$2&&a.indexOf("m")>-1)){let u=l.$head,c=u.textOffset?null:e<0?u.nodeBefore:u.nodeAfter,d;if(!c||c.isText)return!1;let h=e<0?u.pos-c.nodeSize:u.pos;return c.isAtom||(d=t.docView.descAt(h))&&!d.contentDOM?NodeSelection.isSelectable(c)?apply(t,new NodeSelection(e<0?t.state.doc.resolve(u.pos-c.nodeSize):u)):webkit?apply(t,new TextSelection(t.state.doc.resolve(e<0?h:h+c.nodeSize))):!1:!1}}else return!1;else{if(l instanceof NodeSelection&&l.node.isInline)return apply(t,new TextSelection(e>0?l.$to:l.$from));{let u=moveSelectionBlock(t.state,e);return u?apply(t,u):!1}}}function nodeLen(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function isIgnorable(t,e){let a=t.pmViewDesc;return a&&a.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function skipIgnoredNodes(t,e){return e<0?skipIgnoredNodesBefore(t):skipIgnoredNodesAfter(t)}function skipIgnoredNodesBefore(t){let e=t.domSelectionRange(),a=e.focusNode,l=e.focusOffset;if(!a)return;let u,c,d=!1;for(gecko&&a.nodeType==1&&l<nodeLen(a)&&isIgnorable(a.childNodes[l],-1)&&(d=!0);;)if(l>0){if(a.nodeType!=1)break;{let h=a.childNodes[l-1];if(isIgnorable(h,-1))u=a,c=--l;else if(h.nodeType==3)a=h,l=a.nodeValue.length;else break}}else{if(isBlockNode(a))break;{let h=a.previousSibling;for(;h&&isIgnorable(h,-1);)u=a.parentNode,c=domIndex(h),h=h.previousSibling;if(h)a=h,l=nodeLen(a);else{if(a=a.parentNode,a==t.dom)break;l=0}}}d?setSelFocus(t,a,l):u&&setSelFocus(t,u,c)}function skipIgnoredNodesAfter(t){let e=t.domSelectionRange(),a=e.focusNode,l=e.focusOffset;if(!a)return;let u=nodeLen(a),c,d;for(;;)if(l<u){if(a.nodeType!=1)break;let h=a.childNodes[l];if(isIgnorable(h,1))c=a,d=++l;else break}else{if(isBlockNode(a))break;{let h=a.nextSibling;for(;h&&isIgnorable(h,1);)c=h.parentNode,d=domIndex(h)+1,h=h.nextSibling;if(h)a=h,l=0,u=nodeLen(a);else{if(a=a.parentNode,a==t.dom)break;l=u=0}}}c&&setSelFocus(t,c,d)}function isBlockNode(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function textNodeAfter(t,e){for(;t&&e==t.childNodes.length&&!hasBlockDesc(t);)e=domIndex(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let a=t.childNodes[e];if(a.nodeType==3)return a;if(a.nodeType==1&&a.contentEditable=="false")break;t=a,e=0}}function textNodeBefore(t,e){for(;t&&!e&&!hasBlockDesc(t);)e=domIndex(t),t=t.parentNode;for(;t&&e;){let a=t.childNodes[e-1];if(a.nodeType==3)return a;if(a.nodeType==1&&a.contentEditable=="false")break;t=a,e=t.childNodes.length}}function setSelFocus(t,e,a){if(e.nodeType!=3){let c,d;(d=textNodeAfter(e,a))?(e=d,a=0):(c=textNodeBefore(e,a))&&(e=c,a=c.nodeValue.length)}let l=t.domSelection();if(!l)return;if(selectionCollapsed(l)){let c=document.createRange();c.setEnd(e,a),c.setStart(e,a),l.removeAllRanges(),l.addRange(c)}else l.extend&&l.extend(e,a);t.domObserver.setCurSelection();let{state:u}=t;setTimeout(()=>{t.state==u&&selectionToDOM(t)},50)}function findDirection(t,e){let a=t.state.doc.resolve(e);if(!(chrome||windows$1)&&a.parent.inlineContent){let u=t.coordsAtPos(e);if(e>a.start()){let c=t.coordsAtPos(e-1),d=(c.top+c.bottom)/2;if(d>u.top&&d<u.bottom&&Math.abs(c.left-u.left)>1)return c.left<u.left?"ltr":"rtl"}if(e<a.end()){let c=t.coordsAtPos(e+1),d=(c.top+c.bottom)/2;if(d>u.top&&d<u.bottom&&Math.abs(c.left-u.left)>1)return c.left>u.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(t,e,a){let l=t.state.selection;if(l instanceof TextSelection&&!l.empty||a.indexOf("s")>-1||mac$2&&a.indexOf("m")>-1)return!1;let{$from:u,$to:c}=l;if(!u.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let d=moveSelectionBlock(t.state,e);if(d&&d instanceof NodeSelection)return apply(t,d)}if(!u.parent.inlineContent){let d=e<0?u:c,h=l instanceof AllSelection?Selection.near(d,e):Selection.findFrom(d,e);return h?apply(t,h):!1}return!1}function stopNativeHorizontalDelete(t,e){if(!(t.state.selection instanceof TextSelection))return!0;let{$head:a,$anchor:l,empty:u}=t.state.selection;if(!a.sameParent(l))return!0;if(!u)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let c=!a.textOffset&&(e<0?a.nodeBefore:a.nodeAfter);if(c&&!c.isText){let d=t.state.tr;return e<0?d.delete(a.pos-c.nodeSize,a.pos):d.delete(a.pos,a.pos+c.nodeSize),t.dispatch(d),!0}return!1}function switchEditable(t,e,a){t.domObserver.stop(),e.contentEditable=a,t.domObserver.start()}function safariDownArrowBug(t){if(!safari||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:a}=t.domSelectionRange();if(e&&e.nodeType==1&&a==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let l=e.firstChild;switchEditable(t,l,"true"),setTimeout(()=>switchEditable(t,l,"false"),20)}return!1}function getMods(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function captureKeyDown(t,e){let a=e.keyCode,l=getMods(e);if(a==8||mac$2&&a==72&&l=="c")return stopNativeHorizontalDelete(t,-1)||skipIgnoredNodes(t,-1);if(a==46&&!e.shiftKey||mac$2&&a==68&&l=="c")return stopNativeHorizontalDelete(t,1)||skipIgnoredNodes(t,1);if(a==13||a==27)return!0;if(a==37||mac$2&&a==66&&l=="c"){let u=a==37?findDirection(t,t.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(t,u,l)||skipIgnoredNodes(t,u)}else if(a==39||mac$2&&a==70&&l=="c"){let u=a==39?findDirection(t,t.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(t,u,l)||skipIgnoredNodes(t,u)}else{if(a==38||mac$2&&a==80&&l=="c")return selectVertically(t,-1,l)||skipIgnoredNodes(t,-1);if(a==40||mac$2&&a==78&&l=="c")return safariDownArrowBug(t)||selectVertically(t,1,l)||skipIgnoredNodes(t,1);if(l==(mac$2?"m":"c")&&(a==66||a==73||a==89||a==90))return!0}return!1}function serializeForClipboard(t,e){t.someProp("transformCopied",C=>{e=C(e,t)});let a=[],{content:l,openStart:u,openEnd:c}=e;for(;u>1&&c>1&&l.childCount==1&&l.firstChild.childCount==1;){u--,c--;let C=l.firstChild;a.push(C.type.name,C.attrs!=C.type.defaultAttrs?C.attrs:null),l=C.content}let d=t.someProp("clipboardSerializer")||DOMSerializer.fromSchema(t.state.schema),h=detachedDoc(),m=h.createElement("div");m.appendChild(d.serializeFragment(l,{document:h}));let g=m.firstChild,y,b=0;for(;g&&g.nodeType==1&&(y=wrapMap[g.nodeName.toLowerCase()]);){for(let C=y.length-1;C>=0;C--){let S=h.createElement(y[C]);for(;m.firstChild;)S.appendChild(m.firstChild);m.appendChild(S),b++}g=m.firstChild}g&&g.nodeType==1&&g.setAttribute("data-pm-slice",`${u} ${c}${b?` -${b}`:""} ${JSON.stringify(a)}`);let v=t.someProp("clipboardTextSerializer",C=>C(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:m,text:v,slice:e}}function parseFromClipboard(t,e,a,l,u){let c=u.parent.type.spec.code,d,h;if(!a&&!e)return null;let m=e&&(l||c||!a);if(m){if(t.someProp("transformPastedText",v=>{e=v(e,c||l,t)}),c)return e?new Slice(Fragment.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Slice.empty;let b=t.someProp("clipboardTextParser",v=>v(e,u,l,t));if(b)h=b;else{let v=u.marks(),{schema:C}=t.state,S=DOMSerializer.fromSchema(C);d=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let _=d.appendChild(document.createElement("p"));E&&_.appendChild(S.serializeNode(C.text(E,v)))})}}else t.someProp("transformPastedHTML",b=>{a=b(a,t)}),d=readHTML(a),webkit&&restoreReplacedSpaces(d);let g=d&&d.querySelector("[data-pm-slice]"),y=g&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(g.getAttribute("data-pm-slice")||"");if(y&&y[3])for(let b=+y[3];b>0;b--){let v=d.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;d=v}if(h||(h=(t.someProp("clipboardParser")||t.someProp("domParser")||DOMParser.fromSchema(t.state.schema)).parseSlice(d,{preserveWhitespace:!!(m||y),context:u,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!inlineParents.test(v.parentNode.nodeName)?{ignore:!0}:null}})),y)h=addContext(closeSlice(h,+y[1],+y[2]),y[4]);else if(h=Slice.maxOpen(normalizeSiblings(h.content,u),!0),h.openStart||h.openEnd){let b=0,v=0;for(let C=h.content.firstChild;b<h.openStart&&!C.type.spec.isolating;b++,C=C.firstChild);for(let C=h.content.lastChild;v<h.openEnd&&!C.type.spec.isolating;v++,C=C.lastChild);h=closeSlice(h,b,v)}return t.someProp("transformPasted",b=>{h=b(h,t)}),h}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(t,e){if(t.childCount<2)return t;for(let a=e.depth;a>=0;a--){let u=e.node(a).contentMatchAt(e.index(a)),c,d=[];if(t.forEach(h=>{if(!d)return;let m=u.findWrapping(h.type),g;if(!m)return d=null;if(g=d.length&&c.length&&addToSibling(m,c,h,d[d.length-1],0))d[d.length-1]=g;else{d.length&&(d[d.length-1]=closeRight(d[d.length-1],c.length));let y=withWrappers(h,m);d.push(y),u=u.matchType(y.type),c=m}}),d)return Fragment.from(d)}return t}function withWrappers(t,e,a=0){for(let l=e.length-1;l>=a;l--)t=e[l].create(null,Fragment.from(t));return t}function addToSibling(t,e,a,l,u){if(u<t.length&&u<e.length&&t[u]==e[u]){let c=addToSibling(t,e,a,l.lastChild,u+1);if(c)return l.copy(l.content.replaceChild(l.childCount-1,c));if(l.contentMatchAt(l.childCount).matchType(u==t.length-1?a.type:t[u+1]))return l.copy(l.content.append(Fragment.from(withWrappers(a,t,u+1))))}}function closeRight(t,e){if(e==0)return t;let a=t.content.replaceChild(t.childCount-1,closeRight(t.lastChild,e-1)),l=t.contentMatchAt(t.childCount).fillBefore(Fragment.empty,!0);return t.copy(a.append(l))}function closeRange(t,e,a,l,u,c){let d=e<0?t.firstChild:t.lastChild,h=d.content;return t.childCount>1&&(c=0),u<l-1&&(h=closeRange(h,e,a,l,u+1,c)),u>=a&&(h=e<0?d.contentMatchAt(0).fillBefore(h,c<=u).append(h):h.append(d.contentMatchAt(d.childCount).fillBefore(Fragment.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,d.copy(h))}function closeSlice(t,e,a){return e<t.openStart&&(t=new Slice(closeRange(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),a<t.openEnd&&(t=new Slice(closeRange(t.content,1,a,t.openEnd,0,0),t.openStart,a)),t}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(t){let e=window.trustedTypes;return e?(_policy||(_policy=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:a=>a})),_policy.createHTML(t)):t}function readHTML(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let a=detachedDoc().createElement("div"),l=/<([a-z][^>\s]+)/i.exec(t),u;if((u=l&&wrapMap[l[1].toLowerCase()])&&(t=u.map(c=>"<"+c+">").join("")+t+u.map(c=>"</"+c+">").reverse().join("")),a.innerHTML=maybeWrapTrusted(t),u)for(let c=0;c<u.length;c++)a=a.querySelector(u[c])||a;return a}function restoreReplacedSpaces(t){let e=t.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let a=0;a<e.length;a++){let l=e[a];l.childNodes.length==1&&l.textContent==""&&l.parentNode&&l.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),l)}}function addContext(t,e){if(!t.size)return t;let a=t.content.firstChild.type.schema,l;try{l=JSON.parse(e)}catch{return t}let{content:u,openStart:c,openEnd:d}=t;for(let h=l.length-2;h>=0;h-=2){let m=a.nodes[l[h]];if(!m||m.hasRequiredAttrs())break;u=Fragment.from(m.create(l[h+1],u)),c++,d++}return new Slice(u,c,d)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(t){for(let e in handlers){let a=handlers[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=l=>{eventBelongsToView(t,l)&&!runCustomHandler(t,l)&&(t.editable||!(l.type in editHandlers))&&a(t,l)},passiveHandlers[e]?{passive:!0}:void 0)}safari&&t.dom.addEventListener("input",()=>null),ensureListeners(t)}function setSelectionOrigin(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function destroyInput(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ensureListeners(t){t.someProp("handleDOMEvents",e=>{for(let a in e)t.input.eventHandlers[a]||t.dom.addEventListener(a,t.input.eventHandlers[a]=l=>runCustomHandler(t,l))})}function runCustomHandler(t,e){return t.someProp("handleDOMEvents",a=>{let l=a[e.type];return l?l(t,e)||e.defaultPrevented:!1})}function eventBelongsToView(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let a=e.target;a!=t.dom;a=a.parentNode)if(!a||a.nodeType==11||a.pmViewDesc&&a.pmViewDesc.stopEvent(e))return!1;return!0}function dispatchEvent(t,e){!runCustomHandler(t,e)&&handlers[e.type]&&(t.editable||!(e.type in editHandlers))&&handlers[e.type](t,e)}editHandlers.keydown=(t,e)=>{let a=e;if(t.input.shiftKey=a.keyCode==16||a.shiftKey,!inOrNearComposition(t,a)&&(t.input.lastKeyCode=a.keyCode,t.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&a.keyCode==13)))if(a.keyCode!=229&&t.domObserver.forceFlush(),ios&&a.keyCode==13&&!a.ctrlKey&&!a.altKey&&!a.metaKey){let l=Date.now();t.input.lastIOSEnter=l,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==l&&(t.someProp("handleKeyDown",u=>u(t,keyEvent(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",l=>l(t,a))||captureKeyDown(t,a)?a.preventDefault():setSelectionOrigin(t,"key")};editHandlers.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};editHandlers.keypress=(t,e)=>{let a=e;if(inOrNearComposition(t,a)||!a.charCode||a.ctrlKey&&!a.altKey||mac$2&&a.metaKey)return;if(t.someProp("handleKeyPress",u=>u(t,a))){a.preventDefault();return}let l=t.state.selection;if(!(l instanceof TextSelection)||!l.$from.sameParent(l.$to)){let u=String.fromCharCode(a.charCode);!/[\r\n]/.test(u)&&!t.someProp("handleTextInput",c=>c(t,l.$from.pos,l.$to.pos,u))&&t.dispatch(t.state.tr.insertText(u).scrollIntoView()),a.preventDefault()}};function eventCoords(t){return{left:t.clientX,top:t.clientY}}function isNear(t,e){let a=e.x-t.clientX,l=e.y-t.clientY;return a*a+l*l<100}function runHandlerOnContext(t,e,a,l,u){if(l==-1)return!1;let c=t.state.doc.resolve(l);for(let d=c.depth+1;d>0;d--)if(t.someProp(e,h=>d>c.depth?h(t,a,c.nodeAfter,c.before(d),u,!0):h(t,a,c.node(d),c.before(d),u,!1)))return!0;return!1}function updateSelection(t,e,a){if(t.focused||t.focus(),t.state.selection.eq(e))return;let l=t.state.tr.setSelection(e);l.setMeta("pointer",!0),t.dispatch(l)}function selectClickedLeaf(t,e){if(e==-1)return!1;let a=t.state.doc.resolve(e),l=a.nodeAfter;return l&&l.isAtom&&NodeSelection.isSelectable(l)?(updateSelection(t,new NodeSelection(a)),!0):!1}function selectClickedNode(t,e){if(e==-1)return!1;let a=t.state.selection,l,u;a instanceof NodeSelection&&(l=a.node);let c=t.state.doc.resolve(e);for(let d=c.depth+1;d>0;d--){let h=d>c.depth?c.nodeAfter:c.node(d);if(NodeSelection.isSelectable(h)){l&&a.$from.depth>0&&d>=a.$from.depth&&c.before(a.$from.depth+1)==a.$from.pos?u=c.before(a.$from.depth):u=c.before(d);break}}return u!=null?(updateSelection(t,NodeSelection.create(t.state.doc,u)),!0):!1}function handleSingleClick(t,e,a,l,u){return runHandlerOnContext(t,"handleClickOn",e,a,l)||t.someProp("handleClick",c=>c(t,e,l))||(u?selectClickedNode(t,a):selectClickedLeaf(t,a))}function handleDoubleClick(t,e,a,l){return runHandlerOnContext(t,"handleDoubleClickOn",e,a,l)||t.someProp("handleDoubleClick",u=>u(t,e,l))}function handleTripleClick(t,e,a,l){return runHandlerOnContext(t,"handleTripleClickOn",e,a,l)||t.someProp("handleTripleClick",u=>u(t,e,l))||defaultTripleClick(t,a,l)}function defaultTripleClick(t,e,a){if(a.button!=0)return!1;let l=t.state.doc;if(e==-1)return l.inlineContent?(updateSelection(t,TextSelection.create(l,0,l.content.size)),!0):!1;let u=l.resolve(e);for(let c=u.depth+1;c>0;c--){let d=c>u.depth?u.nodeAfter:u.node(c),h=u.before(c);if(d.inlineContent)updateSelection(t,TextSelection.create(l,h+1,h+1+d.content.size));else if(NodeSelection.isSelectable(d))updateSelection(t,NodeSelection.create(l,h));else continue;return!0}}function forceDOMFlush(t){return endComposition(t)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(t,e)=>{let a=e;t.input.shiftKey=a.shiftKey;let l=forceDOMFlush(t),u=Date.now(),c="singleClick";u-t.input.lastClick.time<500&&isNear(a,t.input.lastClick)&&!a[selectNodeModifier]&&t.input.lastClick.button==a.button&&(t.input.lastClick.type=="singleClick"?c="doubleClick":t.input.lastClick.type=="doubleClick"&&(c="tripleClick")),t.input.lastClick={time:u,x:a.clientX,y:a.clientY,type:c,button:a.button};let d=t.posAtCoords(eventCoords(a));d&&(c=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new MouseDown(t,d,a,!!l)):(c=="doubleClick"?handleDoubleClick:handleTripleClick)(t,d.pos,d.inside,a)?a.preventDefault():setSelectionOrigin(t,"pointer"))};class MouseDown{constructor(e,a,l,u){this.view=e,this.pos=a,this.event=l,this.flushed=u,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!l[selectNodeModifier],this.allowDefault=l.shiftKey;let c,d;if(a.inside>-1)c=e.state.doc.nodeAt(a.inside),d=a.inside;else{let y=e.state.doc.resolve(a.pos);c=y.parent,d=y.depth?y.before():0}const h=u?null:l.target,m=h?e.docView.nearestDesc(h,!0):null;this.target=m&&m.dom.nodeType==1?m.dom:null;let{selection:g}=e.state;(l.button==0&&c.type.spec.draggable&&c.type.spec.selectable!==!1||g instanceof NodeSelection&&g.from<=d&&g.to>d)&&(this.mightDrag={node:c,pos:d,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let a=this.pos;this.view.state.doc!=this.startDoc&&(a=this.view.posAtCoords(eventCoords(e))),this.updateAllowDefault(e),this.allowDefault||!a?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,a.pos,a.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(a.pos-this.view.state.selection.from),Math.abs(a.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(a.pos))),e.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(e){this.updateAllowDefault(e),setSelectionOrigin(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=t=>{t.input.lastTouch=Date.now(),forceDOMFlush(t),setSelectionOrigin(t,"pointer")};handlers.touchmove=t=>{t.input.lastTouch=Date.now(),setSelectionOrigin(t,"pointer")};handlers.contextmenu=t=>forceDOMFlush(t);function inOrNearComposition(t,e){return t.composing?!0:safari&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,a=e.selection.$to;if(e.selection instanceof TextSelection&&(e.storedMarks||!a.textOffset&&a.parentOffset&&a.nodeBefore.marks.some(l=>l.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||a.marks(),endComposition(t,!0),t.markCursor=null;else if(endComposition(t,!e.selection.empty),gecko&&e.selection.empty&&a.parentOffset&&!a.textOffset&&a.nodeBefore.marks.length){let l=t.domSelectionRange();for(let u=l.focusNode,c=l.focusOffset;u&&u.nodeType==1&&c!=0;){let d=c<0?u.lastChild:u.childNodes[c-1];if(!d)break;if(d.nodeType==3){let h=t.domSelection();h&&h.collapse(d,d.nodeValue.length);break}else u=d,c=-1}}t.input.composing=!0}scheduleComposeEnd(t,timeoutComposition)};editHandlers.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,scheduleComposeEnd(t,20))};function scheduleComposeEnd(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>endComposition(t),e))}function clearComposition(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=timestampFromCustomEvent());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let a=textNodeBefore$1(e.focusNode,e.focusOffset),l=textNodeAfter$1(e.focusNode,e.focusOffset);if(a&&l&&a!=l){let u=l.pmViewDesc,c=t.domObserver.lastChangedTextNode;if(a==c||l==c)return c;if(!u||!u.isText(l.nodeValue))return l;if(t.input.compositionNode==l){let d=a.pmViewDesc;if(!(!d||!d.isText(a.nodeValue)))return l}}return a||l}function timestampFromCustomEvent(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function endComposition(t,e=!1){if(!(android&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),clearComposition(t),e||t.docView&&t.docView.dirty){let a=selectionFromDOM(t),l=t.state.selection;return a&&!a.eq(l)?t.dispatch(t.state.tr.setSelection(a)):(t.markCursor||e)&&!l.$from.node(l.$from.sharedDepth(l.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function captureCopy(t,e){if(!t.dom.parentNode)return;let a=t.dom.parentNode.appendChild(document.createElement("div"));a.appendChild(e),a.style.cssText="position: fixed; left: -10000px; top: 10px";let l=getSelection(),u=document.createRange();u.selectNodeContents(e),t.dom.blur(),l.removeAllRanges(),l.addRange(u),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a),t.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(t,e)=>{let a=e,l=t.state.selection,u=a.type=="cut";if(l.empty)return;let c=brokenClipboardAPI?null:a.clipboardData,d=l.content(),{dom:h,text:m}=serializeForClipboard(t,d);c?(a.preventDefault(),c.clearData(),c.setData("text/html",h.innerHTML),c.setData("text/plain",m)):captureCopy(t,h),u&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function capturePaste(t,e){if(!t.dom.parentNode)return;let a=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,l=t.dom.parentNode.appendChild(document.createElement(a?"textarea":"div"));a||(l.contentEditable="true"),l.style.cssText="position: fixed; left: -10000px; top: 10px",l.focus();let u=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),l.parentNode&&l.parentNode.removeChild(l),a?doPaste(t,l.value,null,u,e):doPaste(t,l.textContent,l.innerHTML,u,e)},50)}function doPaste(t,e,a,l,u){let c=parseFromClipboard(t,e,a,l,t.state.selection.$from);if(t.someProp("handlePaste",m=>m(t,u,c||Slice.empty)))return!0;if(!c)return!1;let d=sliceSingleNode(c),h=d?t.state.tr.replaceSelectionWith(d,l):t.state.tr.replaceSelection(c);return t.dispatch(h.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let a=t.getData("text/uri-list");return a?a.replace(/\r?\n/g," "):""}editHandlers.paste=(t,e)=>{let a=e;if(t.composing&&!android)return;let l=brokenClipboardAPI?null:a.clipboardData,u=t.input.shiftKey&&t.input.lastKeyCode!=45;l&&doPaste(t,getText$1(l),l.getData("text/html"),u,a)?a.preventDefault():capturePaste(t,a)};class Dragging{constructor(e,a,l){this.slice=e,this.move=a,this.node=l}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(t,e){let a=t.someProp("dragCopies",l=>!l(e));return a??!e[dragCopyModifier]}handlers.dragstart=(t,e)=>{let a=e,l=t.input.mouseDown;if(l&&l.done(),!a.dataTransfer)return;let u=t.state.selection,c=u.empty?null:t.posAtCoords(eventCoords(a)),d;if(!(c&&c.pos>=u.from&&c.pos<=(u instanceof NodeSelection?u.to-1:u.to))){if(l&&l.mightDrag)d=NodeSelection.create(t.state.doc,l.mightDrag.pos);else if(a.target&&a.target.nodeType==1){let b=t.docView.nearestDesc(a.target,!0);b&&b.node.type.spec.draggable&&b!=t.docView&&(d=NodeSelection.create(t.state.doc,b.posBefore))}}let h=(d||t.state.selection).content(),{dom:m,text:g,slice:y}=serializeForClipboard(t,h);(!a.dataTransfer.files.length||!chrome||chrome_version>120)&&a.dataTransfer.clearData(),a.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",m.innerHTML),a.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||a.dataTransfer.setData("text/plain",g),t.dragging=new Dragging(y,dragMoves(t,a),d)};handlers.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(t,e)=>e.preventDefault();editHandlers.drop=(t,e)=>{let a=e,l=t.dragging;if(t.dragging=null,!a.dataTransfer)return;let u=t.posAtCoords(eventCoords(a));if(!u)return;let c=t.state.doc.resolve(u.pos),d=l&&l.slice;d?t.someProp("transformPasted",S=>{d=S(d,t)}):d=parseFromClipboard(t,getText$1(a.dataTransfer),brokenClipboardAPI?null:a.dataTransfer.getData("text/html"),!1,c);let h=!!(l&&dragMoves(t,a));if(t.someProp("handleDrop",S=>S(t,a,d||Slice.empty,h))){a.preventDefault();return}if(!d)return;a.preventDefault();let m=d?dropPoint(t.state.doc,c.pos,d):c.pos;m==null&&(m=c.pos);let g=t.state.tr;if(h){let{node:S}=l;S?S.replace(g):g.deleteSelection()}let y=g.mapping.map(m),b=d.openStart==0&&d.openEnd==0&&d.content.childCount==1,v=g.doc;if(b?g.replaceRangeWith(y,y,d.content.firstChild):g.replaceRange(y,y,d),g.doc.eq(v))return;let C=g.doc.resolve(y);if(b&&NodeSelection.isSelectable(d.content.firstChild)&&C.nodeAfter&&C.nodeAfter.sameMarkup(d.content.firstChild))g.setSelection(new NodeSelection(C));else{let S=g.mapping.map(m);g.mapping.maps[g.mapping.maps.length-1].forEach((E,_,A,R)=>S=R),g.setSelection(selectionBetween(t,C,g.doc.resolve(S)))}t.focus(),t.dispatch(g.setMeta("uiEvent","drop"))};handlers.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&selectionToDOM(t)},20))};handlers.blur=(t,e)=>{let a=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),a.relatedTarget&&t.dom.contains(a.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};handlers.beforeinput=(t,e)=>{if(chrome&&android&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:l}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=l||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",c=>c(t,keyEvent(8,"Backspace")))))return;let{$cursor:u}=t.state.selection;u&&u.pos>0&&t.dispatch(t.state.tr.delete(u.pos-1,u.pos).scrollIntoView())},50)}};for(let t in editHandlers)handlers[t]=editHandlers[t];function compareObjs(t,e){if(t==e)return!0;for(let a in t)if(t[a]!==e[a])return!1;for(let a in e)if(!(a in t))return!1;return!0}class WidgetType{constructor(e,a){this.toDOM=e,this.spec=a||noSpec,this.side=this.spec.side||0}map(e,a,l,u){let{pos:c,deleted:d}=e.mapResult(a.from+u,this.side<0?-1:1);return d?null:new Decoration(c-l,c-l,this)}valid(){return!0}eq(e){return this==e||e instanceof WidgetType&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&compareObjs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class InlineType{constructor(e,a){this.attrs=e,this.spec=a||noSpec}map(e,a,l,u){let c=e.map(a.from+u,this.spec.inclusiveStart?-1:1)-l,d=e.map(a.to+u,this.spec.inclusiveEnd?1:-1)-l;return c>=d?null:new Decoration(c,d,this)}valid(e,a){return a.from<a.to}eq(e){return this==e||e instanceof InlineType&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}static is(e){return e.type instanceof InlineType}destroy(){}}class NodeType{constructor(e,a){this.attrs=e,this.spec=a||noSpec}map(e,a,l,u){let c=e.mapResult(a.from+u,1);if(c.deleted)return null;let d=e.mapResult(a.to+u,-1);return d.deleted||d.pos<=c.pos?null:new Decoration(c.pos-l,d.pos-l,this)}valid(e,a){let{index:l,offset:u}=e.content.findIndex(a.from),c;return u==a.from&&!(c=e.child(l)).isText&&u+c.nodeSize==a.to}eq(e){return this==e||e instanceof NodeType&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}destroy(){}}class Decoration{constructor(e,a,l){this.from=e,this.to=a,this.type=l}copy(e,a){return new Decoration(e,a,this.type)}eq(e,a=0){return this.type.eq(e.type)&&this.from+a==e.from&&this.to+a==e.to}map(e,a,l){return this.type.map(e,this,a,l)}static widget(e,a,l){return new Decoration(e,e,new WidgetType(a,l))}static inline(e,a,l,u){return new Decoration(e,a,new InlineType(l,u))}static node(e,a,l,u){return new Decoration(e,a,new NodeType(l,u))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(e,a){this.local=e.length?e:none,this.children=a.length?a:none}static create(e,a){return a.length?buildTree(a,e,0,noSpec):empty}find(e,a,l){let u=[];return this.findInner(e??0,a??1e9,u,0,l),u}findInner(e,a,l,u,c){for(let d=0;d<this.local.length;d++){let h=this.local[d];h.from<=a&&h.to>=e&&(!c||c(h.spec))&&l.push(h.copy(h.from+u,h.to+u))}for(let d=0;d<this.children.length;d+=3)if(this.children[d]<a&&this.children[d+1]>e){let h=this.children[d]+1;this.children[d+2].findInner(e-h,a-h,l,u+h,c)}}map(e,a,l){return this==empty||e.maps.length==0?this:this.mapInner(e,a,0,0,l||noSpec)}mapInner(e,a,l,u,c){let d;for(let h=0;h<this.local.length;h++){let m=this.local[h].map(e,l,u);m&&m.type.valid(a,m)?(d||(d=[])).push(m):c.onRemove&&c.onRemove(this.local[h].spec)}return this.children.length?mapChildren(this.children,d||[],e,a,l,u,c):d?new DecorationSet(d.sort(byPos),none):empty}add(e,a){return a.length?this==empty?DecorationSet.create(e,a):this.addInner(e,a,0):this}addInner(e,a,l){let u,c=0;e.forEach((h,m)=>{let g=m+l,y;if(y=takeSpansForNode(a,h,g)){for(u||(u=this.children.slice());c<u.length&&u[c]<m;)c+=3;u[c]==m?u[c+2]=u[c+2].addInner(h,y,g+1):u.splice(c,0,m,m+h.nodeSize,buildTree(y,h,g+1,noSpec)),c+=3}});let d=moveSpans(c?withoutNulls(a):a,-l);for(let h=0;h<d.length;h++)d[h].type.valid(e,d[h])||d.splice(h--,1);return new DecorationSet(d.length?this.local.concat(d).sort(byPos):this.local,u||this.children)}remove(e){return e.length==0||this==empty?this:this.removeInner(e,0)}removeInner(e,a){let l=this.children,u=this.local;for(let c=0;c<l.length;c+=3){let d,h=l[c]+a,m=l[c+1]+a;for(let y=0,b;y<e.length;y++)(b=e[y])&&b.from>h&&b.to<m&&(e[y]=null,(d||(d=[])).push(b));if(!d)continue;l==this.children&&(l=this.children.slice());let g=l[c+2].removeInner(d,h+1);g!=empty?l[c+2]=g:(l.splice(c,3),c-=3)}if(u.length){for(let c=0,d;c<e.length;c++)if(d=e[c])for(let h=0;h<u.length;h++)u[h].eq(d,a)&&(u==this.local&&(u=this.local.slice()),u.splice(h--,1))}return l==this.children&&u==this.local?this:u.length||l.length?new DecorationSet(u,l):empty}forChild(e,a){if(this==empty)return this;if(a.isLeaf)return DecorationSet.empty;let l,u;for(let h=0;h<this.children.length;h+=3)if(this.children[h]>=e){this.children[h]==e&&(l=this.children[h+2]);break}let c=e+1,d=c+a.content.size;for(let h=0;h<this.local.length;h++){let m=this.local[h];if(m.from<d&&m.to>c&&m.type instanceof InlineType){let g=Math.max(c,m.from)-c,y=Math.min(d,m.to)-c;g<y&&(u||(u=[])).push(m.copy(g,y))}}if(u){let h=new DecorationSet(u.sort(byPos),none);return l?new DecorationGroup([h,l]):h}return l||empty}eq(e){if(this==e)return!0;if(!(e instanceof DecorationSet)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let a=0;a<this.local.length;a++)if(!this.local[a].eq(e.local[a]))return!1;for(let a=0;a<this.children.length;a+=3)if(this.children[a]!=e.children[a]||this.children[a+1]!=e.children[a+1]||!this.children[a+2].eq(e.children[a+2]))return!1;return!0}locals(e){return removeOverlap(this.localsInner(e))}localsInner(e){if(this==empty)return none;if(e.inlineContent||!this.local.some(InlineType.is))return this.local;let a=[];for(let l=0;l<this.local.length;l++)this.local[l].type instanceof InlineType||a.push(this.local[l]);return a}forEachSet(e){e(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(e){this.members=e}map(e,a){const l=this.members.map(u=>u.map(e,a,noSpec));return DecorationGroup.from(l)}forChild(e,a){if(a.isLeaf)return DecorationSet.empty;let l=[];for(let u=0;u<this.members.length;u++){let c=this.members[u].forChild(e,a);c!=empty&&(c instanceof DecorationGroup?l=l.concat(c.members):l.push(c))}return DecorationGroup.from(l)}eq(e){if(!(e instanceof DecorationGroup)||e.members.length!=this.members.length)return!1;for(let a=0;a<this.members.length;a++)if(!this.members[a].eq(e.members[a]))return!1;return!0}locals(e){let a,l=!0;for(let u=0;u<this.members.length;u++){let c=this.members[u].localsInner(e);if(c.length)if(!a)a=c;else{l&&(a=a.slice(),l=!1);for(let d=0;d<c.length;d++)a.push(c[d])}}return a?removeOverlap(l?a:a.sort(byPos)):none}static from(e){switch(e.length){case 0:return empty;case 1:return e[0];default:return new DecorationGroup(e.every(a=>a instanceof DecorationSet)?e:e.reduce((a,l)=>a.concat(l instanceof DecorationSet?l:l.members),[]))}}forEachSet(e){for(let a=0;a<this.members.length;a++)this.members[a].forEachSet(e)}}function mapChildren(t,e,a,l,u,c,d){let h=t.slice();for(let g=0,y=c;g<a.maps.length;g++){let b=0;a.maps[g].forEach((v,C,S,E)=>{let _=E-S-(C-v);for(let A=0;A<h.length;A+=3){let R=h[A+1];if(R<0||v>R+y-b)continue;let k=h[A]+y-b;C>=k?h[A+1]=v<=k?-2:-1:v>=y&&_&&(h[A]+=_,h[A+1]+=_)}b+=_}),y=a.maps[g].map(y,-1)}let m=!1;for(let g=0;g<h.length;g+=3)if(h[g+1]<0){if(h[g+1]==-2){m=!0,h[g+1]=-1;continue}let y=a.map(t[g]+c),b=y-u;if(b<0||b>=l.content.size){m=!0;continue}let v=a.map(t[g+1]+c,-1),C=v-u,{index:S,offset:E}=l.content.findIndex(b),_=l.maybeChild(S);if(_&&E==b&&E+_.nodeSize==C){let A=h[g+2].mapInner(a,_,y+1,t[g]+c+1,d);A!=empty?(h[g]=b,h[g+1]=C,h[g+2]=A):(h[g+1]=-2,m=!0)}else m=!0}if(m){let g=mapAndGatherRemainingDecorations(h,t,e,a,u,c,d),y=buildTree(g,l,0,d);e=y.local;for(let b=0;b<h.length;b+=3)h[b+1]<0&&(h.splice(b,3),b-=3);for(let b=0,v=0;b<y.children.length;b+=3){let C=y.children[b];for(;v<h.length&&h[v]<C;)v+=3;h.splice(v,0,y.children[b],y.children[b+1],y.children[b+2])}}return new DecorationSet(e.sort(byPos),h)}function moveSpans(t,e){if(!e||!t.length)return t;let a=[];for(let l=0;l<t.length;l++){let u=t[l];a.push(new Decoration(u.from+e,u.to+e,u.type))}return a}function mapAndGatherRemainingDecorations(t,e,a,l,u,c,d){function h(m,g){for(let y=0;y<m.local.length;y++){let b=m.local[y].map(l,u,g);b?a.push(b):d.onRemove&&d.onRemove(m.local[y].spec)}for(let y=0;y<m.children.length;y+=3)h(m.children[y+2],m.children[y]+g+1)}for(let m=0;m<t.length;m+=3)t[m+1]==-1&&h(t[m+2],e[m]+c+1);return a}function takeSpansForNode(t,e,a){if(e.isLeaf)return null;let l=a+e.nodeSize,u=null;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>a&&d.to<l&&((u||(u=[])).push(d),t[c]=null);return u}function withoutNulls(t){let e=[];for(let a=0;a<t.length;a++)t[a]!=null&&e.push(t[a]);return e}function buildTree(t,e,a,l){let u=[],c=!1;e.forEach((h,m)=>{let g=takeSpansForNode(t,h,m+a);if(g){c=!0;let y=buildTree(g,h,a+m+1,l);y!=empty&&u.push(m,m+h.nodeSize,y)}});let d=moveSpans(c?withoutNulls(t):t,-a).sort(byPos);for(let h=0;h<d.length;h++)d[h].type.valid(e,d[h])||(l.onRemove&&l.onRemove(d[h].spec),d.splice(h--,1));return d.length||u.length?new DecorationSet(d,u):empty}function byPos(t,e){return t.from-e.from||t.to-e.to}function removeOverlap(t){let e=t;for(let a=0;a<e.length-1;a++){let l=e[a];if(l.from!=l.to)for(let u=a+1;u<e.length;u++){let c=e[u];if(c.from==l.from){c.to!=l.to&&(e==t&&(e=t.slice()),e[u]=c.copy(c.from,l.to),insertAhead(e,u+1,c.copy(l.to,c.to)));continue}else{c.from<l.to&&(e==t&&(e=t.slice()),e[a]=l.copy(l.from,c.from),insertAhead(e,u,l.copy(c.from,l.to)));break}}}return e}function insertAhead(t,e,a){for(;e<t.length&&byPos(a,t[e])>0;)e++;t.splice(e,0,a)}function viewDecorations(t){let e=[];return t.someProp("decorations",a=>{let l=a(t.state);l&&l!=empty&&e.push(l)}),t.cursorWrapper&&e.push(DecorationSet.create(t.state.doc,[t.cursorWrapper.deco])),DecorationGroup.from(e)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class DOMObserver{constructor(e,a){this.view=e,this.handleDOMChange=a,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(l=>{for(let u=0;u<l.length;u++)this.queue.push(l[u]);ie$1&&ie_version<=11&&l.some(u=>u.type=="childList"&&u.removedNodes.length||u.type=="characterData"&&u.oldValue.length>u.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=l=>{this.queue.push({target:l.target,type:"characterData",oldValue:l.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let a=0;a<e.length;a++)this.queue.push(e[a]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let a=new Set,l;for(let c=e.focusNode;c;c=parentNode(c))a.add(c);for(let c=e.anchorNode;c;c=parentNode(c))if(a.has(c)){l=c;break}let u=l&&this.view.docView.nearestDesc(l);if(u&&u.ignoreMutation({type:"selection",target:l.nodeType==3?l.parentNode:l}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let a=this.pendingRecords();a.length&&(this.queue=[]);let l=e.domSelectionRange(),u=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(l)&&hasFocusAndSelection(e)&&!this.ignoreSelectionChange(l),c=-1,d=-1,h=!1,m=[];if(e.editable)for(let y=0;y<a.length;y++){let b=this.registerMutation(a[y],m);b&&(c=c<0?b.from:Math.min(b.from,c),d=d<0?b.to:Math.max(b.to,d),b.typeOver&&(h=!0))}if(gecko&&m.length){let y=m.filter(b=>b.nodeName=="BR");if(y.length==2){let[b,v]=y;b.parentNode&&b.parentNode.parentNode==v.parentNode?v.remove():b.remove()}else{let{focusNode:b}=this.currentSelection;for(let v of y){let C=v.parentNode;C&&C.nodeName=="LI"&&(!b||blockParent(e,b)!=C)&&v.remove()}}}let g=null;c<0&&u&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&selectionCollapsed(l)&&(g=selectionFromDOM(e))&&g.eq(Selection.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,selectionToDOM(e),this.currentSelection.set(l),e.scrollToSelection()):(c>-1||u)&&(c>-1&&(e.docView.markDirty(c,d),checkCSS(e)),this.handleDOMChange(c,d,h,m),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(l)||selectionToDOM(e),this.currentSelection.set(l))}registerMutation(e,a){if(a.indexOf(e.target)>-1)return null;let l=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(l==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!l||l.ignoreMutation(e))return null;if(e.type=="childList"){for(let y=0;y<e.addedNodes.length;y++){let b=e.addedNodes[y];a.push(b),b.nodeType==3&&(this.lastChangedTextNode=b)}if(l.contentDOM&&l.contentDOM!=l.dom&&!l.contentDOM.contains(e.target))return{from:l.posBefore,to:l.posAfter};let u=e.previousSibling,c=e.nextSibling;if(ie$1&&ie_version<=11&&e.addedNodes.length)for(let y=0;y<e.addedNodes.length;y++){let{previousSibling:b,nextSibling:v}=e.addedNodes[y];(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(u=b),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(c=v)}let d=u&&u.parentNode==e.target?domIndex(u)+1:0,h=l.localPosFromDOM(e.target,d,-1),m=c&&c.parentNode==e.target?domIndex(c):e.target.childNodes.length,g=l.localPosFromDOM(e.target,m,1);return{from:h,to:g}}else return e.type=="attributes"?{from:l.posAtStart-l.border,to:l.posAtEnd+l.border}:(this.lastChangedTextNode=e.target,{from:l.posAtStart,to:l.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(t){if(!cssChecked.has(t)&&(cssChecked.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(t,e){let a=e.startContainer,l=e.startOffset,u=e.endContainer,c=e.endOffset,d=t.domAtPos(t.state.selection.anchor);return isEquivalentPosition(d.node,d.offset,u,c)&&([a,l,u,c]=[u,c,a,l]),{anchorNode:a,anchorOffset:l,focusNode:u,focusOffset:c}}function safariShadowSelectionRange(t,e){if(e.getComposedRanges){let u=e.getComposedRanges(t.root)[0];if(u)return rangeToSelectionRange(t,u)}let a;function l(u){u.preventDefault(),u.stopImmediatePropagation(),a=u.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",l,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",l,!0),a?rangeToSelectionRange(t,a):null}function blockParent(t,e){for(let a=e.parentNode;a&&a!=t.dom;a=a.parentNode){let l=t.docView.nearestDesc(a,!0);if(l&&l.node.isBlock)return a}return null}function parseBetween(t,e,a){let{node:l,fromOffset:u,toOffset:c,from:d,to:h}=t.docView.parseRange(e,a),m=t.domSelectionRange(),g,y=m.anchorNode;if(y&&t.dom.contains(y.nodeType==1?y:y.parentNode)&&(g=[{node:y,offset:m.anchorOffset}],selectionCollapsed(m)||g.push({node:m.focusNode,offset:m.focusOffset})),chrome&&t.input.lastKeyCode===8)for(let _=c;_>u;_--){let A=l.childNodes[_-1],R=A.pmViewDesc;if(A.nodeName=="BR"&&!R){c=_;break}if(!R||R.size)break}let b=t.state.doc,v=t.someProp("domParser")||DOMParser.fromSchema(t.state.schema),C=b.resolve(d),S=null,E=v.parse(l,{topNode:C.parent,topMatch:C.parent.contentMatchAt(C.index()),topOpen:!0,from:u,to:c,preserveWhitespace:C.parent.type.whitespace=="pre"?"full":!0,findPositions:g,ruleFromNode,context:C});if(g&&g[0].pos!=null){let _=g[0].pos,A=g[1]&&g[1].pos;A==null&&(A=_),S={anchor:_+d,head:A+d}}return{doc:E,sel:S,from:d,to:h}}function ruleFromNode(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let a=document.createElement("div");return a.appendChild(document.createElement("li")),{skip:a}}else if(t.parentNode.lastChild==t||safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(t,e,a,l,u){let c=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let $=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,G=selectionFromDOM(t,$);if(G&&!t.state.selection.eq(G)){if(chrome&&android&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",te=>te(t,keyEvent(13,"Enter"))))return;let ue=t.state.tr.setSelection(G);$=="pointer"?ue.setMeta("pointer",!0):$=="key"&&ue.scrollIntoView(),c&&ue.setMeta("composition",c),t.dispatch(ue)}return}let d=t.state.doc.resolve(e),h=d.sharedDepth(a);e=d.before(h+1),a=t.state.doc.resolve(a).after(h+1);let m=t.state.selection,g=parseBetween(t,e,a),y=t.state.doc,b=y.slice(g.from,g.to),v,C;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(v=t.state.selection.to,C="end"):(v=t.state.selection.from,C="start"),t.input.lastKeyCode=null;let S=findDiff(b.content,g.doc.content,g.from,v,C);if(S&&t.input.domChangeCount++,(ios&&t.input.lastIOSEnter>Date.now()-225||android)&&u.some($=>$.nodeType==1&&!isInline.test($.nodeName))&&(!S||S.endA>=S.endB)&&t.someProp("handleKeyDown",$=>$(t,keyEvent(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!S)if(l&&m instanceof TextSelection&&!m.empty&&m.$head.sameParent(m.$anchor)&&!t.composing&&!(g.sel&&g.sel.anchor!=g.sel.head))S={start:m.from,endA:m.to,endB:m.to};else{if(g.sel){let $=resolveSelection(t,t.state.doc,g.sel);if($&&!$.eq(t.state.selection)){let G=t.state.tr.setSelection($);c&&G.setMeta("composition",c),t.dispatch(G)}}return}t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof TextSelection&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2&&t.state.selection.from>=g.from?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&t.state.selection.to<=g.to&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),ie$1&&ie_version<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>g.from&&g.doc.textBetween(S.start-g.from-1,S.start-g.from+1)==" "&&(S.start--,S.endA--,S.endB--);let E=g.doc.resolveNoCache(S.start-g.from),_=g.doc.resolveNoCache(S.endB-g.from),A=y.resolve(S.start),R=E.sameParent(_)&&E.parent.inlineContent&&A.end()>=S.endA,k;if((ios&&t.input.lastIOSEnter>Date.now()-225&&(!R||u.some($=>$.nodeName=="DIV"||$.nodeName=="P"))||!R&&E.pos<g.doc.content.size&&(!E.sameParent(_)||!E.parent.inlineContent)&&!/\S/.test(g.doc.textBetween(E.pos,_.pos,"",""))&&(k=Selection.findFrom(g.doc.resolve(E.pos+1),1,!0))&&k.head>E.pos)&&t.someProp("handleKeyDown",$=>$(t,keyEvent(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>S.start&&looksLikeBackspace(y,S.start,S.endA,E,_)&&t.someProp("handleKeyDown",$=>$(t,keyEvent(8,"Backspace")))){android&&chrome&&t.domObserver.suppressSelectionUpdates();return}chrome&&S.endB==S.start&&(t.input.lastChromeDelete=Date.now()),android&&!R&&E.start()!=_.start()&&_.parentOffset==0&&E.depth==_.depth&&g.sel&&g.sel.anchor==g.sel.head&&g.sel.head==S.endA&&(S.endB-=2,_=g.doc.resolveNoCache(S.endB-g.from),setTimeout(()=>{t.someProp("handleKeyDown",function($){return $(t,keyEvent(13,"Enter"))})},20));let M=S.start,D=S.endA,B,U,T;if(R){if(E.pos==_.pos)ie$1&&ie_version<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(t),20)),B=t.state.tr.delete(M,D),U=y.resolve(S.start).marksAcross(y.resolve(S.endA));else if(S.endA==S.endB&&(T=isMarkChange(E.parent.content.cut(E.parentOffset,_.parentOffset),A.parent.content.cut(A.parentOffset,S.endA-A.start()))))B=t.state.tr,T.type=="add"?B.addMark(M,D,T.mark):B.removeMark(M,D,T.mark);else if(E.parent.child(E.index()).isText&&E.index()==_.index()-(_.textOffset?0:1)){let $=E.parent.textBetween(E.parentOffset,_.parentOffset);if(t.someProp("handleTextInput",G=>G(t,M,D,$)))return;B=t.state.tr.insertText($,M,D)}}if(B||(B=t.state.tr.replace(M,D,g.doc.slice(S.start-g.from,S.endB-g.from))),g.sel){let $=resolveSelection(t,B.doc,g.sel);$&&!(chrome&&t.composing&&$.empty&&(S.start!=S.endB||t.input.lastChromeDelete<Date.now()-100)&&($.head==M||$.head==B.mapping.map(D)-1)||ie$1&&$.empty&&$.head==M)&&B.setSelection($)}U&&B.ensureMarks(U),c&&B.setMeta("composition",c),t.dispatch(B.scrollIntoView())}function resolveSelection(t,e,a){return Math.max(a.anchor,a.head)>e.content.size?null:selectionBetween(t,e.resolve(a.anchor),e.resolve(a.head))}function isMarkChange(t,e){let a=t.firstChild.marks,l=e.firstChild.marks,u=a,c=l,d,h,m;for(let y=0;y<l.length;y++)u=l[y].removeFromSet(u);for(let y=0;y<a.length;y++)c=a[y].removeFromSet(c);if(u.length==1&&c.length==0)h=u[0],d="add",m=y=>y.mark(h.addToSet(y.marks));else if(u.length==0&&c.length==1)h=c[0],d="remove",m=y=>y.mark(h.removeFromSet(y.marks));else return null;let g=[];for(let y=0;y<e.childCount;y++)g.push(m(e.child(y)));if(Fragment.from(g).eq(t))return{mark:h,type:d}}function looksLikeBackspace(t,e,a,l,u){if(a-e<=u.pos-l.pos||skipClosingAndOpening(l,!0,!1)<u.pos)return!1;let c=t.resolve(e);if(!l.parent.isTextblock){let h=c.nodeAfter;return h!=null&&a==e+h.nodeSize}if(c.parentOffset<c.parent.content.size||!c.parent.isTextblock)return!1;let d=t.resolve(skipClosingAndOpening(c,!0,!0));return!d.parent.isTextblock||d.pos>a||skipClosingAndOpening(d,!0,!1)<a?!1:l.parent.content.cut(l.parentOffset).eq(d.parent.content)}function skipClosingAndOpening(t,e,a){let l=t.depth,u=e?t.end():t.pos;for(;l>0&&(e||t.indexAfter(l)==t.node(l).childCount);)l--,u++,e=!1;if(a){let c=t.node(l).maybeChild(t.indexAfter(l));for(;c&&!c.isLeaf;)c=c.firstChild,u++}return u}function findDiff(t,e,a,l,u){let c=t.findDiffStart(e,a);if(c==null)return null;let{a:d,b:h}=t.findDiffEnd(e,a+t.size,a+e.size);if(u=="end"){let m=Math.max(0,c-Math.min(d,h));l-=d+m-c}if(d<c&&t.size<e.size){let m=l<=c&&l>=d?c-l:0;c-=m,c&&c<e.size&&isSurrogatePair(e.textBetween(c-1,c+1))&&(c+=m?1:-1),h=c+(h-d),d=c}else if(h<c){let m=l<=c&&l>=h?c-l:0;c-=m,c&&c<t.size&&isSurrogatePair(t.textBetween(c-1,c+1))&&(c+=m?1:-1),d=c+(d-h),h=c}return{start:c,endA:d,endB:h}}function isSurrogatePair(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),a=t.charCodeAt(1);return e>=56320&&e<=57343&&a>=55296&&a<=56319}class EditorView{constructor(e,a){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=a,this.state=a.state,this.directPlugins=a.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(l,u,c,d)=>readDOMChange(this,l,u,c,d)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let a in e)this._props[a]=e[a];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let a=this._props;this._props=e,e.plugins&&(e.plugins.forEach(checkStateComponent),this.directPlugins=e.plugins),this.updateStateInner(e.state,a)}setProps(e){let a={};for(let l in this._props)a[l]=this._props[l];a.state=this.state;for(let l in e)a[l]=e[l];this.update(a)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,a){var l;let u=this.state,c=!1,d=!1;e.storedMarks&&this.composing&&(clearComposition(this),d=!0),this.state=e;let h=u.plugins!=e.plugins||this._props.plugins!=a.plugins;if(h||this._props.plugins!=a.plugins||this._props.nodeViews!=a.nodeViews){let C=buildNodeViews(this);changedNodeViews(C,this.nodeViews)&&(this.nodeViews=C,c=!0)}(h||a.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let m=viewDecorations(this),g=computeDocDeco(this),y=u.plugins!=e.plugins&&!u.doc.eq(e.doc)?"reset":e.scrollToSelection>u.scrollToSelection?"to selection":"preserve",b=c||!this.docView.matchesNode(e.doc,g,m);(b||!e.selection.eq(u.selection))&&(d=!0);let v=y=="preserve"&&d&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(d){this.domObserver.stop();let C=b&&(ie$1||chrome)&&!this.composing&&!u.selection.empty&&!e.selection.empty&&selectionContextChanged(u.selection,e.selection);if(b){let S=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(c||!this.docView.update(e.doc,g,m,this))&&(this.docView.updateOuterDeco(g),this.docView.destroy(),this.docView=docViewDesc(e.doc,g,m,this.dom,this)),S&&!this.trackWrites&&(C=!0)}C||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,C):(syncNodeSelection(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(u),!((l=this.dragging)===null||l===void 0)&&l.node&&!u.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,u),y=="reset"?this.dom.scrollTop=0:y=="to selection"?this.scrollToSelection():v&&resetScrollPos(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",a=>a(this)))if(this.state.selection instanceof NodeSelection){let a=this.docView.domAfterPos(this.state.selection.from);a.nodeType==1&&scrollRectIntoView(this,a.getBoundingClientRect(),e)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a];l.spec.view&&this.pluginViews.push(l.spec.view(this))}for(let a=0;a<this.state.plugins.length;a++){let l=this.state.plugins[a];l.spec.view&&this.pluginViews.push(l.spec.view(this))}}else for(let a=0;a<this.pluginViews.length;a++){let l=this.pluginViews[a];l.update&&l.update(this,e)}}updateDraggedNode(e,a){let l=e.node,u=-1;if(this.state.doc.nodeAt(l.from)==l.node)u=l.from;else{let c=l.from+(this.state.doc.content.size-a.doc.content.size);(c>0&&this.state.doc.nodeAt(c))==l.node&&(u=c)}this.dragging=new Dragging(e.slice,e.move,u<0?void 0:NodeSelection.create(this.state.doc,u))}someProp(e,a){let l=this._props&&this._props[e],u;if(l!=null&&(u=a?a(l):l))return u;for(let d=0;d<this.directPlugins.length;d++){let h=this.directPlugins[d].props[e];if(h!=null&&(u=a?a(h):h))return u}let c=this.state.plugins;if(c)for(let d=0;d<c.length;d++){let h=c[d].props[e];if(h!=null&&(u=a?a(h):h))return u}}hasFocus(){if(ie$1){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let a=this.dom.parentNode;a;a=a.parentNode)if(a.nodeType==9||a.nodeType==11&&a.host)return a.getSelection||(Object.getPrototypeOf(a).getSelection=()=>a.ownerDocument.getSelection()),this._root=a}return e||document}updateRoot(){this._root=null}posAtCoords(e){return posAtCoords(this,e)}coordsAtPos(e,a=1){return coordsAtPos(this,e,a)}domAtPos(e,a=0){return this.docView.domFromPos(e,a)}nodeDOM(e){let a=this.docView.descAt(e);return a?a.nodeDOM:null}posAtDOM(e,a,l=-1){let u=this.docView.posFromDOM(e,a,l);if(u==null)throw new RangeError("DOM position not inside the editor");return u}endOfTextblock(e,a){return endOfTextblock(this,a||this.state,e)}pasteHTML(e,a){return doPaste(this,"",e,!1,a||new ClipboardEvent("paste"))}pasteText(e,a){return doPaste(this,e,null,!0,a||new ClipboardEvent("paste"))}serializeForClipboard(e){return serializeForClipboard(this,e)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return dispatchEvent(this,e)}dispatch(e){let a=this._props.dispatchTransaction;a?a.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function computeDocDeco(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",a=>{if(typeof a=="function"&&(a=a(t.state)),a)for(let l in a)l=="class"?e.class+=" "+a[l]:l=="style"?e.style=(e.style?e.style+";":"")+a[l]:!e[l]&&l!="contenteditable"&&l!="nodeName"&&(e[l]=String(a[l]))}),e.translate||(e.translate="no"),[Decoration.node(0,t.state.doc.content.size,e)]}function updateCursorWrapper(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Decoration.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function getEditable(t){return!t.someProp("editable",e=>e(t.state)===!1)}function selectionContextChanged(t,e){let a=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(a)!=e.$anchor.start(a)}function buildNodeViews(t){let e=Object.create(null);function a(l){for(let u in l)Object.prototype.hasOwnProperty.call(e,u)||(e[u]=l[u])}return t.someProp("nodeViews",a),t.someProp("markViews",a),e}function changedNodeViews(t,e){let a=0,l=0;for(let u in t){if(t[u]!=e[u])return!0;a++}for(let u in e)l++;return a!=l}function checkStateComponent(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base$1={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base$1[48+i]=base$1[96+i]=String(i);for(var i=1;i<=24;i++)base$1[i+111]="F"+i;for(var i=65;i<=90;i++)base$1[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code$1 in base$1)shift.hasOwnProperty(code$1)||(shift[code$1]=base$1[code$1]);function keyName(t){var e=mac$1&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ie&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",a=!e&&t.key||(t.shiftKey?shift:base$1)[t.keyCode]||t.key||"Unidentified";return a=="Esc"&&(a="Escape"),a=="Del"&&(a="Delete"),a=="Left"&&(a="ArrowLeft"),a=="Up"&&(a="ArrowUp"),a=="Right"&&(a="ArrowRight"),a=="Down"&&(a="ArrowDown"),a}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(t){let e=t.split(/-(?!$)/),a=e[e.length-1];a=="Space"&&(a=" ");let l,u,c,d;for(let h=0;h<e.length-1;h++){let m=e[h];if(/^(cmd|meta|m)$/i.test(m))d=!0;else if(/^a(lt)?$/i.test(m))l=!0;else if(/^(c|ctrl|control)$/i.test(m))u=!0;else if(/^s(hift)?$/i.test(m))c=!0;else if(/^mod$/i.test(m))mac?d=!0:u=!0;else throw new Error("Unrecognized modifier name: "+m)}return l&&(a="Alt-"+a),u&&(a="Ctrl-"+a),d&&(a="Meta-"+a),c&&(a="Shift-"+a),a}function normalize$1(t){let e=Object.create(null);for(let a in t)e[normalizeKeyName$1(a)]=t[a];return e}function modifiers(t,e,a=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),a&&e.shiftKey&&(t="Shift-"+t),t}function keymap(t){return new Plugin({props:{handleKeyDown:keydownHandler(t)}})}function keydownHandler(t){let e=normalize$1(t);return function(a,l){let u=keyName(l),c,d=e[modifiers(u,l)];if(d&&d(a.state,a.dispatch,a))return!0;if(u.length==1&&u!=" "){if(l.shiftKey){let h=e[modifiers(u,l,!1)];if(h&&h(a.state,a.dispatch,a))return!0}if((l.altKey||l.metaKey||l.ctrlKey)&&!(windows&&l.ctrlKey&&l.altKey)&&(c=base$1[l.keyCode])&&c!=u){let h=e[modifiers(c,l)];if(h&&h(a.state,a.dispatch,a))return!0}}return!1}}const deleteSelection$1=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(t,e){let{$cursor:a}=t.selection;return!a||(e?!e.endOfTextblock("backward",t):a.parentOffset>0)?null:a}const joinBackward$1=(t,e,a)=>{let l=atBlockStart(t,a);if(!l)return!1;let u=findCutBefore(l);if(!u){let d=l.blockRange(),h=d&&liftTarget(d);return h==null?!1:(e&&e(t.tr.lift(d,h).scrollIntoView()),!0)}let c=u.nodeBefore;if(deleteBarrier(t,u,e,-1))return!0;if(l.parent.content.size==0&&(textblockAt(c,"end")||NodeSelection.isSelectable(c)))for(let d=l.depth;;d--){let h=replaceStep(t.doc,l.before(d),l.after(d),Slice.empty);if(h&&h.slice.size<h.to-h.from){if(e){let m=t.tr.step(h);m.setSelection(textblockAt(c,"end")?Selection.findFrom(m.doc.resolve(m.mapping.map(u.pos,-1)),-1):NodeSelection.create(m.doc,u.pos-c.nodeSize)),e(m.scrollIntoView())}return!0}if(d==1||l.node(d-1).childCount>1)break}return c.isAtom&&u.depth==l.depth-1?(e&&e(t.tr.delete(u.pos-c.nodeSize,u.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(t,e,a)=>{let l=atBlockStart(t,a);if(!l)return!1;let u=findCutBefore(l);return u?joinTextblocksAround(t,u,e):!1},joinTextblockForward$1=(t,e,a)=>{let l=atBlockEnd(t,a);if(!l)return!1;let u=findCutAfter(l);return u?joinTextblocksAround(t,u,e):!1};function joinTextblocksAround(t,e,a){let l=e.nodeBefore,u=l,c=e.pos-1;for(;!u.isTextblock;c--){if(u.type.spec.isolating)return!1;let y=u.lastChild;if(!y)return!1;u=y}let d=e.nodeAfter,h=d,m=e.pos+1;for(;!h.isTextblock;m++){if(h.type.spec.isolating)return!1;let y=h.firstChild;if(!y)return!1;h=y}let g=replaceStep(t.doc,c,m,Slice.empty);if(!g||g.from!=c||g instanceof ReplaceStep&&g.slice.size>=m-c)return!1;if(a){let y=t.tr.step(g);y.setSelection(TextSelection.create(y.doc,c)),a(y.scrollIntoView())}return!0}function textblockAt(t,e,a=!1){for(let l=t;l;l=e=="start"?l.firstChild:l.lastChild){if(l.isTextblock)return!0;if(a&&l.childCount!=1)return!1}return!1}const selectNodeBackward$1=(t,e,a)=>{let{$head:l,empty:u}=t.selection,c=l;if(!u)return!1;if(l.parent.isTextblock){if(a?!a.endOfTextblock("backward",t):l.parentOffset>0)return!1;c=findCutBefore(l)}let d=c&&c.nodeBefore;return!d||!NodeSelection.isSelectable(d)?!1:(e&&e(t.tr.setSelection(NodeSelection.create(t.doc,c.pos-d.nodeSize)).scrollIntoView()),!0)};function findCutBefore(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function atBlockEnd(t,e){let{$cursor:a}=t.selection;return!a||(e?!e.endOfTextblock("forward",t):a.parentOffset<a.parent.content.size)?null:a}const joinForward$1=(t,e,a)=>{let l=atBlockEnd(t,a);if(!l)return!1;let u=findCutAfter(l);if(!u)return!1;let c=u.nodeAfter;if(deleteBarrier(t,u,e,1))return!0;if(l.parent.content.size==0&&(textblockAt(c,"start")||NodeSelection.isSelectable(c))){let d=replaceStep(t.doc,l.before(),l.after(),Slice.empty);if(d&&d.slice.size<d.to-d.from){if(e){let h=t.tr.step(d);h.setSelection(textblockAt(c,"start")?Selection.findFrom(h.doc.resolve(h.mapping.map(u.pos)),1):NodeSelection.create(h.doc,h.mapping.map(u.pos))),e(h.scrollIntoView())}return!0}}return c.isAtom&&u.depth==l.depth-1?(e&&e(t.tr.delete(u.pos,u.pos+c.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(t,e,a)=>{let{$head:l,empty:u}=t.selection,c=l;if(!u)return!1;if(l.parent.isTextblock){if(a?!a.endOfTextblock("forward",t):l.parentOffset<l.parent.content.size)return!1;c=findCutAfter(l)}let d=c&&c.nodeAfter;return!d||!NodeSelection.isSelectable(d)?!1:(e&&e(t.tr.setSelection(NodeSelection.create(t.doc,c.pos)).scrollIntoView()),!0)};function findCutAfter(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let a=t.node(e);if(t.index(e)+1<a.childCount)return t.doc.resolve(t.after(e+1));if(a.type.spec.isolating)break}return null}const joinUp$1=(t,e)=>{let a=t.selection,l=a instanceof NodeSelection,u;if(l){if(a.node.isTextblock||!canJoin(t.doc,a.from))return!1;u=a.from}else if(u=joinPoint(t.doc,a.from,-1),u==null)return!1;if(e){let c=t.tr.join(u);l&&c.setSelection(NodeSelection.create(c.doc,u-t.doc.resolve(u).nodeBefore.nodeSize)),e(c.scrollIntoView())}return!0},joinDown$1=(t,e)=>{let a=t.selection,l;if(a instanceof NodeSelection){if(a.node.isTextblock||!canJoin(t.doc,a.to))return!1;l=a.to}else if(l=joinPoint(t.doc,a.to,1),l==null)return!1;return e&&e(t.tr.join(l).scrollIntoView()),!0},lift$1=(t,e)=>{let{$from:a,$to:l}=t.selection,u=a.blockRange(l),c=u&&liftTarget(u);return c==null?!1:(e&&e(t.tr.lift(u,c).scrollIntoView()),!0)},newlineInCode$1=(t,e)=>{let{$head:a,$anchor:l}=t.selection;return!a.parent.type.spec.code||!a.sameParent(l)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(t){for(let e=0;e<t.edgeCount;e++){let{type:a}=t.edge(e);if(a.isTextblock&&!a.hasRequiredAttrs())return a}return null}const exitCode$1=(t,e)=>{let{$head:a,$anchor:l}=t.selection;if(!a.parent.type.spec.code||!a.sameParent(l))return!1;let u=a.node(-1),c=a.indexAfter(-1),d=defaultBlockAt$1(u.contentMatchAt(c));if(!d||!u.canReplaceWith(c,c,d))return!1;if(e){let h=a.after(),m=t.tr.replaceWith(h,h,d.createAndFill());m.setSelection(Selection.near(m.doc.resolve(h),1)),e(m.scrollIntoView())}return!0},createParagraphNear$1=(t,e)=>{let a=t.selection,{$from:l,$to:u}=a;if(a instanceof AllSelection||l.parent.inlineContent||u.parent.inlineContent)return!1;let c=defaultBlockAt$1(u.parent.contentMatchAt(u.indexAfter()));if(!c||!c.isTextblock)return!1;if(e){let d=(!l.parentOffset&&u.index()<u.parent.childCount?l:u).pos,h=t.tr.insert(d,c.createAndFill());h.setSelection(TextSelection.create(h.doc,d+1)),e(h.scrollIntoView())}return!0},liftEmptyBlock$1=(t,e)=>{let{$cursor:a}=t.selection;if(!a||a.parent.content.size)return!1;if(a.depth>1&&a.after()!=a.end(-1)){let c=a.before();if(canSplit(t.doc,c))return e&&e(t.tr.split(c).scrollIntoView()),!0}let l=a.blockRange(),u=l&&liftTarget(l);return u==null?!1:(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)},selectParentNode$1=(t,e)=>{let{$from:a,to:l}=t.selection,u,c=a.sharedDepth(l);return c==0?!1:(u=a.before(c),e&&e(t.tr.setSelection(NodeSelection.create(t.doc,u))),!0)};function joinMaybeClear(t,e,a){let l=e.nodeBefore,u=e.nodeAfter,c=e.index();return!l||!u||!l.type.compatibleContent(u.type)?!1:!l.content.size&&e.parent.canReplace(c-1,c)?(a&&a(t.tr.delete(e.pos-l.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(c,c+1)||!(u.isTextblock||canJoin(t.doc,e.pos))?!1:(a&&a(t.tr.join(e.pos).scrollIntoView()),!0)}function deleteBarrier(t,e,a,l){let u=e.nodeBefore,c=e.nodeAfter,d,h,m=u.type.spec.isolating||c.type.spec.isolating;if(!m&&joinMaybeClear(t,e,a))return!0;let g=!m&&e.parent.canReplace(e.index(),e.index()+1);if(g&&(d=(h=u.contentMatchAt(u.childCount)).findWrapping(c.type))&&h.matchType(d[0]||c.type).validEnd){if(a){let C=e.pos+c.nodeSize,S=Fragment.empty;for(let A=d.length-1;A>=0;A--)S=Fragment.from(d[A].create(null,S));S=Fragment.from(u.copy(S));let E=t.tr.step(new ReplaceAroundStep(e.pos-1,C,e.pos,C,new Slice(S,1,0),d.length,!0)),_=E.doc.resolve(C+2*d.length);_.nodeAfter&&_.nodeAfter.type==u.type&&canJoin(E.doc,_.pos)&&E.join(_.pos),a(E.scrollIntoView())}return!0}let y=c.type.spec.isolating||l>0&&m?null:Selection.findFrom(e,1),b=y&&y.$from.blockRange(y.$to),v=b&&liftTarget(b);if(v!=null&&v>=e.depth)return a&&a(t.tr.lift(b,v).scrollIntoView()),!0;if(g&&textblockAt(c,"start",!0)&&textblockAt(u,"end")){let C=u,S=[];for(;S.push(C),!C.isTextblock;)C=C.lastChild;let E=c,_=1;for(;!E.isTextblock;E=E.firstChild)_++;if(C.canReplace(C.childCount,C.childCount,E.content)){if(a){let A=Fragment.empty;for(let k=S.length-1;k>=0;k--)A=Fragment.from(S[k].copy(A));let R=t.tr.step(new ReplaceAroundStep(e.pos-S.length,e.pos+c.nodeSize,e.pos+_,e.pos+c.nodeSize-_,new Slice(A,S.length,0),0,!0));a(R.scrollIntoView())}return!0}}return!1}function selectTextblockSide(t){return function(e,a){let l=e.selection,u=t<0?l.$from:l.$to,c=u.depth;for(;u.node(c).isInline;){if(!c)return!1;c--}return u.node(c).isTextblock?(a&&a(e.tr.setSelection(TextSelection.create(e.doc,t<0?u.start(c):u.end(c)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(t,e=null){return function(a,l){let{$from:u,$to:c}=a.selection,d=u.blockRange(c),h=d&&findWrapping(d,t,e);return h?(l&&l(a.tr.wrap(d,h).scrollIntoView()),!0):!1}}function setBlockType(t,e=null){return function(a,l){let u=!1;for(let c=0;c<a.selection.ranges.length&&!u;c++){let{$from:{pos:d},$to:{pos:h}}=a.selection.ranges[c];a.doc.nodesBetween(d,h,(m,g)=>{if(u)return!1;if(!(!m.isTextblock||m.hasMarkup(t,e)))if(m.type==t)u=!0;else{let y=a.doc.resolve(g),b=y.index();u=y.parent.canReplaceWith(b,b+1,t)}})}if(!u)return!1;if(l){let c=a.tr;for(let d=0;d<a.selection.ranges.length;d++){let{$from:{pos:h},$to:{pos:m}}=a.selection.ranges[d];c.setBlockType(h,m,t,e)}l(c.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(t,e=null){return function(a,l){let{$from:u,$to:c}=a.selection,d=u.blockRange(c);if(!d)return!1;let h=l?a.tr:null;return wrapRangeInList(h,d,t,e)?(l&&l(h.scrollIntoView()),!0):!1}}function wrapRangeInList(t,e,a,l=null){let u=!1,c=e,d=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(a)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let m=d.resolve(e.start-2);c=new NodeRange(m,m,e.depth),e.endIndex<e.parent.childCount&&(e=new NodeRange(e.$from,d.resolve(e.$to.end(e.depth)),e.depth)),u=!0}let h=findWrapping(c,a,l,e);return h?(t&&doWrapInList(t,e,h,u,a),!0):!1}function doWrapInList(t,e,a,l,u){let c=Fragment.empty;for(let y=a.length-1;y>=0;y--)c=Fragment.from(a[y].type.create(a[y].attrs,c));t.step(new ReplaceAroundStep(e.start-(l?2:0),e.end,e.start,e.end,new Slice(c,0,0),a.length,!0));let d=0;for(let y=0;y<a.length;y++)a[y].type==u&&(d=y+1);let h=a.length-d,m=e.start+a.length-(l?2:0),g=e.parent;for(let y=e.startIndex,b=e.endIndex,v=!0;y<b;y++,v=!1)!v&&canSplit(t.doc,m,h)&&(t.split(m,h),m+=2*h),m+=g.child(y).nodeSize;return t}function liftListItem$1(t){return function(e,a){let{$from:l,$to:u}=e.selection,c=l.blockRange(u,d=>d.childCount>0&&d.firstChild.type==t);return c?a?l.node(c.depth-1).type==t?liftToOuterList(e,a,t,c):liftOutOfList(e,a,c):!0:!1}}function liftToOuterList(t,e,a,l){let u=t.tr,c=l.end,d=l.$to.end(l.depth);c<d&&(u.step(new ReplaceAroundStep(c-1,d,c,d,new Slice(Fragment.from(a.create(null,l.parent.copy())),1,0),1,!0)),l=new NodeRange(u.doc.resolve(l.$from.pos),u.doc.resolve(d),l.depth));const h=liftTarget(l);if(h==null)return!1;u.lift(l,h);let m=u.doc.resolve(u.mapping.map(c,-1)-1);return canJoin(u.doc,m.pos)&&m.nodeBefore.type==m.nodeAfter.type&&u.join(m.pos),e(u.scrollIntoView()),!0}function liftOutOfList(t,e,a){let l=t.tr,u=a.parent;for(let C=a.end,S=a.endIndex-1,E=a.startIndex;S>E;S--)C-=u.child(S).nodeSize,l.delete(C-1,C+1);let c=l.doc.resolve(a.start),d=c.nodeAfter;if(l.mapping.map(a.end)!=a.start+c.nodeAfter.nodeSize)return!1;let h=a.startIndex==0,m=a.endIndex==u.childCount,g=c.node(-1),y=c.index(-1);if(!g.canReplace(y+(h?0:1),y+1,d.content.append(m?Fragment.empty:Fragment.from(u))))return!1;let b=c.pos,v=b+d.nodeSize;return l.step(new ReplaceAroundStep(b-(h?1:0),v+(m?1:0),b+1,v-1,new Slice((h?Fragment.empty:Fragment.from(u.copy(Fragment.empty))).append(m?Fragment.empty:Fragment.from(u.copy(Fragment.empty))),h?0:1,m?0:1),h?0:1)),e(l.scrollIntoView()),!0}function sinkListItem$1(t){return function(e,a){let{$from:l,$to:u}=e.selection,c=l.blockRange(u,g=>g.childCount>0&&g.firstChild.type==t);if(!c)return!1;let d=c.startIndex;if(d==0)return!1;let h=c.parent,m=h.child(d-1);if(m.type!=t)return!1;if(a){let g=m.lastChild&&m.lastChild.type==h.type,y=Fragment.from(g?t.create():null),b=new Slice(Fragment.from(t.create(null,Fragment.from(h.type.create(null,y)))),g?3:1,0),v=c.start,C=c.end;a(e.tr.step(new ReplaceAroundStep(v-(g?3:1),C,v,C,b,1,!0)).scrollIntoView())}return!0}}function createChainableState(t){const{state:e,transaction:a}=t;let{selection:l}=a,{doc:u}=a,{storedMarks:c}=a;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return c},get selection(){return l},get doc(){return u},get tr(){return l=a.selection,u=a.doc,c=a.storedMarks,a}}}class CommandManager{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:a,state:l}=this,{view:u}=a,{tr:c}=l,d=this.buildProps(c);return Object.fromEntries(Object.entries(e).map(([h,m])=>[h,(...y)=>{const b=m(...y)(d);return!c.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(c),b}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,a=!0){const{rawCommands:l,editor:u,state:c}=this,{view:d}=u,h=[],m=!!e,g=e||c.tr,y=()=>(!m&&a&&!g.getMeta("preventDispatch")&&!this.hasCustomState&&d.dispatch(g),h.every(v=>v===!0)),b={...Object.fromEntries(Object.entries(l).map(([v,C])=>[v,(...E)=>{const _=this.buildProps(g,a),A=C(...E)(_);return h.push(A),b}])),run:y};return b}createCan(e){const{rawCommands:a,state:l}=this,u=!1,c=e||l.tr,d=this.buildProps(c,u);return{...Object.fromEntries(Object.entries(a).map(([m,g])=>[m,(...y)=>g(...y)({...d,dispatch:void 0})])),chain:()=>this.createChain(c,u)}}buildProps(e,a=!0){const{rawCommands:l,editor:u,state:c}=this,{view:d}=u,h={tr:e,editor:u,view:d,state:createChainableState({state:c,transaction:e}),dispatch:a?()=>{}:void 0,chain:()=>this.createChain(e,a),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(l).map(([m,g])=>[m,(...y)=>g(...y)(h)]))}};return h}}class EventEmitter{constructor(){this.callbacks={}}on(e,a){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(a),this}emit(e,...a){const l=this.callbacks[e];return l&&l.forEach(u=>u.apply(this,a)),this}off(e,a){const l=this.callbacks[e];return l&&(a?this.callbacks[e]=l.filter(u=>u!==a):delete this.callbacks[e]),this}once(e,a){const l=(...u)=>{this.off(e,l),a.apply(this,u)};return this.on(e,l)}removeAllListeners(){this.callbacks={}}}function getExtensionField(t,e,a){return t.config[e]===void 0&&t.parent?getExtensionField(t.parent,e,a):typeof t.config[e]=="function"?t.config[e].bind({...a,parent:t.parent?getExtensionField(t.parent,e,a):null}):t.config[e]}function splitExtensions(t){const e=t.filter(u=>u.type==="extension"),a=t.filter(u=>u.type==="node"),l=t.filter(u=>u.type==="mark");return{baseExtensions:e,nodeExtensions:a,markExtensions:l}}function getAttributesFromExtensions(t){const e=[],{nodeExtensions:a,markExtensions:l}=splitExtensions(t),u=[...a,...l],c={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(d=>{const h={name:d.name,options:d.options,storage:d.storage,extensions:u},m=getExtensionField(d,"addGlobalAttributes",h);if(!m)return;m().forEach(y=>{y.types.forEach(b=>{Object.entries(y.attributes).forEach(([v,C])=>{e.push({type:b,name:v,attribute:{...c,...C}})})})})}),u.forEach(d=>{const h={name:d.name,options:d.options,storage:d.storage},m=getExtensionField(d,"addAttributes",h);if(!m)return;const g=m();Object.entries(g).forEach(([y,b])=>{const v={...c,...b};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:d.name,name:y,attribute:v})})}),e}function getNodeType(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function mergeAttributes(...t){return t.filter(e=>!!e).reduce((e,a)=>{const l={...e};return Object.entries(a).forEach(([u,c])=>{if(!l[u]){l[u]=c;return}if(u==="class"){const h=c?String(c).split(" "):[],m=l[u]?l[u].split(" "):[],g=h.filter(y=>!m.includes(y));l[u]=[...m,...g].join(" ")}else if(u==="style"){const h=c?c.split(";").map(y=>y.trim()).filter(Boolean):[],m=l[u]?l[u].split(";").map(y=>y.trim()).filter(Boolean):[],g=new Map;m.forEach(y=>{const[b,v]=y.split(":").map(C=>C.trim());g.set(b,v)}),h.forEach(y=>{const[b,v]=y.split(":").map(C=>C.trim());g.set(b,v)}),l[u]=Array.from(g.entries()).map(([y,b])=>`${y}: ${b}`).join("; ")}else l[u]=c}),l},{})}function getRenderedAttributes(t,e){return e.filter(a=>a.type===t.type.name).filter(a=>a.attribute.rendered).map(a=>a.attribute.renderHTML?a.attribute.renderHTML(t.attrs)||{}:{[a.name]:t.attrs[a.name]}).reduce((a,l)=>mergeAttributes(a,l),{})}function isFunction$3(t){return typeof t=="function"}function callOrReturn(t,e=void 0,...a){return isFunction$3(t)?e?t.bind(e)(...a):t(...a):t}function isEmptyObject(t={}){return Object.keys(t).length===0&&t.constructor===Object}function fromString(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function injectExtensionAttributesToParseRule(t,e){return"style"in t?t:{...t,getAttrs:a=>{const l=t.getAttrs?t.getAttrs(a):t.attrs;if(l===!1)return!1;const u=e.reduce((c,d)=>{const h=d.attribute.parseHTML?d.attribute.parseHTML(a):fromString(a.getAttribute(d.name));return h==null?c:{...c,[d.name]:h}},{});return{...l,...u}}}}function cleanUpSchemaItem(t){return Object.fromEntries(Object.entries(t).filter(([e,a])=>e==="attrs"&&isEmptyObject(a)?!1:a!=null))}function getSchemaByResolvedExtensions(t,e){var a;const l=getAttributesFromExtensions(t),{nodeExtensions:u,markExtensions:c}=splitExtensions(t),d=(a=u.find(g=>getExtensionField(g,"topNode")))===null||a===void 0?void 0:a.name,h=Object.fromEntries(u.map(g=>{const y=l.filter(A=>A.type===g.name),b={name:g.name,options:g.options,storage:g.storage,editor:e},v=t.reduce((A,R)=>{const k=getExtensionField(R,"extendNodeSchema",b);return{...A,...k?k(g):{}}},{}),C=cleanUpSchemaItem({...v,content:callOrReturn(getExtensionField(g,"content",b)),marks:callOrReturn(getExtensionField(g,"marks",b)),group:callOrReturn(getExtensionField(g,"group",b)),inline:callOrReturn(getExtensionField(g,"inline",b)),atom:callOrReturn(getExtensionField(g,"atom",b)),selectable:callOrReturn(getExtensionField(g,"selectable",b)),draggable:callOrReturn(getExtensionField(g,"draggable",b)),code:callOrReturn(getExtensionField(g,"code",b)),whitespace:callOrReturn(getExtensionField(g,"whitespace",b)),linebreakReplacement:callOrReturn(getExtensionField(g,"linebreakReplacement",b)),defining:callOrReturn(getExtensionField(g,"defining",b)),isolating:callOrReturn(getExtensionField(g,"isolating",b)),attrs:Object.fromEntries(y.map(A=>{var R;return[A.name,{default:(R=A==null?void 0:A.attribute)===null||R===void 0?void 0:R.default}]}))}),S=callOrReturn(getExtensionField(g,"parseHTML",b));S&&(C.parseDOM=S.map(A=>injectExtensionAttributesToParseRule(A,y)));const E=getExtensionField(g,"renderHTML",b);E&&(C.toDOM=A=>E({node:A,HTMLAttributes:getRenderedAttributes(A,y)}));const _=getExtensionField(g,"renderText",b);return _&&(C.toText=_),[g.name,C]})),m=Object.fromEntries(c.map(g=>{const y=l.filter(_=>_.type===g.name),b={name:g.name,options:g.options,storage:g.storage,editor:e},v=t.reduce((_,A)=>{const R=getExtensionField(A,"extendMarkSchema",b);return{..._,...R?R(g):{}}},{}),C=cleanUpSchemaItem({...v,inclusive:callOrReturn(getExtensionField(g,"inclusive",b)),excludes:callOrReturn(getExtensionField(g,"excludes",b)),group:callOrReturn(getExtensionField(g,"group",b)),spanning:callOrReturn(getExtensionField(g,"spanning",b)),code:callOrReturn(getExtensionField(g,"code",b)),attrs:Object.fromEntries(y.map(_=>{var A;return[_.name,{default:(A=_==null?void 0:_.attribute)===null||A===void 0?void 0:A.default}]}))}),S=callOrReturn(getExtensionField(g,"parseHTML",b));S&&(C.parseDOM=S.map(_=>injectExtensionAttributesToParseRule(_,y)));const E=getExtensionField(g,"renderHTML",b);return E&&(C.toDOM=_=>E({mark:_,HTMLAttributes:getRenderedAttributes(_,y)})),[g.name,C]}));return new Schema({topNode:d,nodes:h,marks:m})}function getSchemaTypeByName(t,e){return e.nodes[t]||e.marks[t]||null}function isExtensionRulesEnabled(t,e){return Array.isArray(e)?e.some(a=>(typeof a=="string"?a:a.name)===t.name):e}function getHTMLFromFragment(t,e){const a=DOMSerializer.fromSchema(e).serializeFragment(t),u=document.implementation.createHTMLDocument().createElement("div");return u.appendChild(a),u.innerHTML}const getTextContentFromNodes=(t,e=500)=>{let a="";const l=t.parentOffset;return t.parent.nodesBetween(Math.max(0,l-e),l,(u,c,d,h)=>{var m,g;const y=((g=(m=u.type.spec).toText)===null||g===void 0?void 0:g.call(m,{node:u,pos:c,parent:d,index:h}))||u.textContent||"%leaf%";a+=u.isAtom&&!u.isText?y:y.slice(0,Math.max(0,l-c))}),a};function isRegExp$1(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class InputRule{constructor(e){this.find=e.find,this.handler=e.handler}}const inputRuleMatcherHandler=(t,e)=>{if(isRegExp$1(e))return e.exec(t);const a=e(t);if(!a)return null;const l=[a.text];return l.index=a.index,l.input=t,l.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),l.push(a.replaceWith)),l};function run$1(t){var e;const{editor:a,from:l,to:u,text:c,rules:d,plugin:h}=t,{view:m}=a;if(m.composing)return!1;const g=m.state.doc.resolve(l);if(g.parent.type.spec.code||!((e=g.nodeBefore||g.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let y=!1;const b=getTextContentFromNodes(g)+c;return d.forEach(v=>{if(y)return;const C=inputRuleMatcherHandler(b,v.find);if(!C)return;const S=m.state.tr,E=createChainableState({state:m.state,transaction:S}),_={from:l-(C[0].length-c.length),to:u},{commands:A,chain:R,can:k}=new CommandManager({editor:a,state:E});v.handler({state:E,range:_,match:C,commands:A,chain:R,can:k})===null||!S.steps.length||(S.setMeta(h,{transform:S,from:l,to:u,text:c}),m.dispatch(S),y=!0)}),y}function inputRulesPlugin(t){const{editor:e,rules:a}=t,l=new Plugin({state:{init(){return null},apply(u,c,d){const h=u.getMeta(l);if(h)return h;const m=u.getMeta("applyInputRules");return!!m&&setTimeout(()=>{let{text:y}=m;typeof y=="string"?y=y:y=getHTMLFromFragment(Fragment.from(y),d.schema);const{from:b}=m,v=b+y.length;run$1({editor:e,from:b,to:v,text:y,rules:a,plugin:l})}),u.selectionSet||u.docChanged?null:c}},props:{handleTextInput(u,c,d,h){return run$1({editor:e,from:c,to:d,text:h,rules:a,plugin:l})},handleDOMEvents:{compositionend:u=>(setTimeout(()=>{const{$cursor:c}=u.state.selection;c&&run$1({editor:e,from:c.pos,to:c.pos,text:"",rules:a,plugin:l})}),!1)},handleKeyDown(u,c){if(c.key!=="Enter")return!1;const{$cursor:d}=u.state.selection;return d?run$1({editor:e,from:d.pos,to:d.pos,text:`
`,rules:a,plugin:l}):!1}},isInputRules:!0});return l}function getType(t){return Object.prototype.toString.call(t).slice(8,-1)}function isPlainObject(t){return getType(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function mergeDeep(t,e){const a={...t};return isPlainObject(t)&&isPlainObject(e)&&Object.keys(e).forEach(l=>{isPlainObject(e[l])&&isPlainObject(t[l])?a[l]=mergeDeep(t[l],e[l]):a[l]=e[l]}),a}class Mark{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Mark(e)}configure(e={}){const a=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return a.name=this.name,a.parent=this.parent,a}extend(e={}){const a=new Mark(e);return a.parent=this,this.child=a,a.name=e.name?e.name:a.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${a.name}".`),a.options=callOrReturn(getExtensionField(a,"addOptions",{name:a.name})),a.storage=callOrReturn(getExtensionField(a,"addStorage",{name:a.name,options:a.options})),a}static handleExit({editor:e,mark:a}){const{tr:l}=e.state,u=e.state.selection.$from;if(u.pos===u.end()){const d=u.marks();if(!!!d.find(g=>(g==null?void 0:g.type.name)===a.name))return!1;const m=d.find(g=>(g==null?void 0:g.type.name)===a.name);return m&&l.removeStoredMark(m),l.insertText(" ",u.pos),e.view.dispatch(l),!0}return!1}}function isNumber$1(t){return typeof t=="number"}class PasteRule{constructor(e){this.find=e.find,this.handler=e.handler}}const pasteRuleMatcherHandler=(t,e,a)=>{if(isRegExp$1(e))return[...t.matchAll(e)];const l=e(t,a);return l?l.map(u=>{const c=[u.text];return c.index=u.index,c.input=t,c.data=u.data,u.replaceWith&&(u.text.includes(u.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),c.push(u.replaceWith)),c}):[]};function run(t){const{editor:e,state:a,from:l,to:u,rule:c,pasteEvent:d,dropEvent:h}=t,{commands:m,chain:g,can:y}=new CommandManager({editor:e,state:a}),b=[];return a.doc.nodesBetween(l,u,(C,S)=>{if(!C.isTextblock||C.type.spec.code)return;const E=Math.max(l,S),_=Math.min(u,S+C.content.size),A=C.textBetween(E-S,_-S,void 0,"");pasteRuleMatcherHandler(A,c.find,d).forEach(k=>{if(k.index===void 0)return;const M=E+k.index+1,D=M+k[0].length,B={from:a.tr.mapping.map(M),to:a.tr.mapping.map(D)},U=c.handler({state:a,range:B,match:k,commands:m,chain:g,can:y,pasteEvent:d,dropEvent:h});b.push(U)})}),b.every(C=>C!==null)}let tiptapDragFromOtherEditor=null;const createClipboardPasteEvent=t=>{var e;const a=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=a.clipboardData)===null||e===void 0||e.setData("text/html",t),a};function pasteRulesPlugin(t){const{editor:e,rules:a}=t;let l=null,u=!1,c=!1,d=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,h;try{h=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{h=null}const m=({state:y,from:b,to:v,rule:C,pasteEvt:S})=>{const E=y.tr,_=createChainableState({state:y,transaction:E});if(!(!run({editor:e,state:_,from:Math.max(b-1,0),to:v.b-1,rule:C,pasteEvent:S,dropEvent:h})||!E.steps.length)){try{h=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{h=null}return d=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return a.map(y=>new Plugin({view(b){const v=S=>{var E;l=!((E=b.dom.parentElement)===null||E===void 0)&&E.contains(S.target)?b.dom.parentElement:null,l&&(tiptapDragFromOtherEditor=e)},C=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",C),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",C)}}},props:{handleDOMEvents:{drop:(b,v)=>{if(c=l===b.dom.parentElement,h=v,!c){const C=tiptapDragFromOtherEditor;C&&setTimeout(()=>{const S=C.state.selection;S&&C.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(b,v)=>{var C;const S=(C=v.clipboardData)===null||C===void 0?void 0:C.getData("text/html");return d=v,u=!!(S!=null&&S.includes("data-pm-slice")),!1}}},appendTransaction:(b,v,C)=>{const S=b[0],E=S.getMeta("uiEvent")==="paste"&&!u,_=S.getMeta("uiEvent")==="drop"&&!c,A=S.getMeta("applyPasteRules"),R=!!A;if(!E&&!_&&!R)return;if(R){let{text:D}=A;typeof D=="string"?D=D:D=getHTMLFromFragment(Fragment.from(D),C.schema);const{from:B}=A,U=B+D.length,T=createClipboardPasteEvent(D);return m({rule:y,state:C,from:B,to:{b:U},pasteEvt:T})}const k=v.doc.content.findDiffStart(C.doc.content),M=v.doc.content.findDiffEnd(C.doc.content);if(!(!isNumber$1(k)||!M||k===M.b))return m({rule:y,state:C,from:k,to:M,pasteEvt:d})}}))}function findDuplicates(t){const e=t.filter((a,l)=>t.indexOf(a)!==l);return Array.from(new Set(e))}class ExtensionManager{constructor(e,a){this.splittableMarks=[],this.editor=a,this.extensions=ExtensionManager.resolve(e),this.schema=getSchemaByResolvedExtensions(this.extensions,a),this.setupExtensions()}static resolve(e){const a=ExtensionManager.sort(ExtensionManager.flatten(e)),l=findDuplicates(a.map(u=>u.name));return l.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${l.map(u=>`'${u}'`).join(", ")}]. This can lead to issues.`),a}static flatten(e){return e.map(a=>{const l={name:a.name,options:a.options,storage:a.storage},u=getExtensionField(a,"addExtensions",l);return u?[a,...this.flatten(u())]:a}).flat(10)}static sort(e){return e.sort((l,u)=>{const c=getExtensionField(l,"priority")||100,d=getExtensionField(u,"priority")||100;return c>d?-1:c<d?1:0})}get commands(){return this.extensions.reduce((e,a)=>{const l={name:a.name,options:a.options,storage:a.storage,editor:this.editor,type:getSchemaTypeByName(a.name,this.schema)},u=getExtensionField(a,"addCommands",l);return u?{...e,...u()}:e},{})}get plugins(){const{editor:e}=this,a=ExtensionManager.sort([...this.extensions].reverse()),l=[],u=[],c=a.map(d=>{const h={name:d.name,options:d.options,storage:d.storage,editor:e,type:getSchemaTypeByName(d.name,this.schema)},m=[],g=getExtensionField(d,"addKeyboardShortcuts",h);let y={};if(d.type==="mark"&&getExtensionField(d,"exitable",h)&&(y.ArrowRight=()=>Mark.handleExit({editor:e,mark:d})),g){const E=Object.fromEntries(Object.entries(g()).map(([_,A])=>[_,()=>A({editor:e})]));y={...y,...E}}const b=keymap(y);m.push(b);const v=getExtensionField(d,"addInputRules",h);isExtensionRulesEnabled(d,e.options.enableInputRules)&&v&&l.push(...v());const C=getExtensionField(d,"addPasteRules",h);isExtensionRulesEnabled(d,e.options.enablePasteRules)&&C&&u.push(...C());const S=getExtensionField(d,"addProseMirrorPlugins",h);if(S){const E=S();m.push(...E)}return m}).flat();return[inputRulesPlugin({editor:e,rules:l}),...pasteRulesPlugin({editor:e,rules:u}),...c]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:a}=splitExtensions(this.extensions);return Object.fromEntries(a.filter(l=>!!getExtensionField(l,"addNodeView")).map(l=>{const u=this.attributes.filter(m=>m.type===l.name),c={name:l.name,options:l.options,storage:l.storage,editor:e,type:getNodeType(l.name,this.schema)},d=getExtensionField(l,"addNodeView",c);if(!d)return[];const h=(m,g,y,b,v)=>{const C=getRenderedAttributes(m,u);return d()({node:m,view:g,getPos:y,decorations:b,innerDecorations:v,editor:e,extension:l,HTMLAttributes:C})};return[l.name,h]}))}setupExtensions(){this.extensions.forEach(e=>{var a;this.editor.extensionStorage[e.name]=e.storage;const l={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:getSchemaTypeByName(e.name,this.schema)};e.type==="mark"&&(!((a=callOrReturn(getExtensionField(e,"keepOnSplit",l)))!==null&&a!==void 0)||a)&&this.splittableMarks.push(e.name);const u=getExtensionField(e,"onBeforeCreate",l),c=getExtensionField(e,"onCreate",l),d=getExtensionField(e,"onUpdate",l),h=getExtensionField(e,"onSelectionUpdate",l),m=getExtensionField(e,"onTransaction",l),g=getExtensionField(e,"onFocus",l),y=getExtensionField(e,"onBlur",l),b=getExtensionField(e,"onDestroy",l);u&&this.editor.on("beforeCreate",u),c&&this.editor.on("create",c),d&&this.editor.on("update",d),h&&this.editor.on("selectionUpdate",h),m&&this.editor.on("transaction",m),g&&this.editor.on("focus",g),y&&this.editor.on("blur",y),b&&this.editor.on("destroy",b)})}}class Extension{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Extension(e)}configure(e={}){const a=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return a.name=this.name,a.parent=this.parent,a}extend(e={}){const a=new Extension({...this.config,...e});return a.parent=this,this.child=a,a.name=e.name?e.name:a.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${a.name}".`),a.options=callOrReturn(getExtensionField(a,"addOptions",{name:a.name})),a.storage=callOrReturn(getExtensionField(a,"addStorage",{name:a.name,options:a.options})),a}}function getTextBetween(t,e,a){const{from:l,to:u}=e,{blockSeparator:c=`

`,textSerializers:d={}}=a||{};let h="";return t.nodesBetween(l,u,(m,g,y,b)=>{var v;m.isBlock&&g>l&&(h+=c);const C=d==null?void 0:d[m.type.name];if(C)return y&&(h+=C({node:m,pos:g,parent:y,index:b,range:e})),!1;m.isText&&(h+=(v=m==null?void 0:m.text)===null||v===void 0?void 0:v.slice(Math.max(l,g)-g,u-g))}),h}function getTextSerializersFromSchema(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,a])=>[e,a.spec.toText]))}const ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:a}=t,{doc:l,selection:u}=e,{ranges:c}=u,d=Math.min(...c.map(y=>y.$from.pos)),h=Math.max(...c.map(y=>y.$to.pos)),m=getTextSerializersFromSchema(a);return getTextBetween(l,{from:d,to:h},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:m})}}})]}}),blur=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var a;t.isDestroyed||(e.dom.blur(),(a=window==null?void 0:window.getSelection())===null||a===void 0||a.removeAllRanges())}),!0),clearContent=(t=!1)=>({commands:e})=>e.setContent("",t),clearNodes=()=>({state:t,tr:e,dispatch:a})=>{const{selection:l}=e,{ranges:u}=l;return a&&u.forEach(({$from:c,$to:d})=>{t.doc.nodesBetween(c.pos,d.pos,(h,m)=>{if(h.type.isText)return;const{doc:g,mapping:y}=e,b=g.resolve(y.map(m)),v=g.resolve(y.map(m+h.nodeSize)),C=b.blockRange(v);if(!C)return;const S=liftTarget(C);if(h.type.isTextblock){const{defaultType:E}=b.parent.contentMatchAt(b.index());e.setNodeMarkup(C.start,E)}(S||S===0)&&e.lift(C,S)})}),!0},command=t=>e=>t(e),createParagraphNear=()=>({state:t,dispatch:e})=>createParagraphNear$1(t,e),cut=(t,e)=>({editor:a,tr:l})=>{const{state:u}=a,c=u.doc.slice(t.from,t.to);l.deleteRange(t.from,t.to);const d=l.mapping.map(e);return l.insert(d,c.content),l.setSelection(new TextSelection(l.doc.resolve(d-1))),!0},deleteCurrentNode=()=>({tr:t,dispatch:e})=>{const{selection:a}=t,l=a.$anchor.node();if(l.content.size>0)return!1;const u=t.selection.$anchor;for(let c=u.depth;c>0;c-=1)if(u.node(c).type===l.type){if(e){const h=u.before(c),m=u.after(c);t.delete(h,m).scrollIntoView()}return!0}return!1},deleteNode=t=>({tr:e,state:a,dispatch:l})=>{const u=getNodeType(t,a.schema),c=e.selection.$anchor;for(let d=c.depth;d>0;d-=1)if(c.node(d).type===u){if(l){const m=c.before(d),g=c.after(d);e.delete(m,g).scrollIntoView()}return!0}return!1},deleteRange=t=>({tr:e,dispatch:a})=>{const{from:l,to:u}=t;return a&&e.delete(l,u),!0},deleteSelection=()=>({state:t,dispatch:e})=>deleteSelection$1(t,e),enter=()=>({commands:t})=>t.keyboardShortcut("Enter"),exitCode=()=>({state:t,dispatch:e})=>exitCode$1(t,e);function objectIncludes(t,e,a={strict:!0}){const l=Object.keys(e);return l.length?l.every(u=>a.strict?e[u]===t[u]:isRegExp$1(e[u])?e[u].test(t[u]):e[u]===t[u]):!0}function findMarkInSet(t,e,a={}){return t.find(l=>l.type===e&&objectIncludes(Object.fromEntries(Object.keys(a).map(u=>[u,l.attrs[u]])),a))}function isMarkInSet(t,e,a={}){return!!findMarkInSet(t,e,a)}function getMarkRange(t,e,a){var l;if(!t||!e)return;let u=t.parent.childAfter(t.parentOffset);if((!u.node||!u.node.marks.some(y=>y.type===e))&&(u=t.parent.childBefore(t.parentOffset)),!u.node||!u.node.marks.some(y=>y.type===e)||(a=a||((l=u.node.marks[0])===null||l===void 0?void 0:l.attrs),!findMarkInSet([...u.node.marks],e,a)))return;let d=u.index,h=t.start()+u.offset,m=d+1,g=h+u.node.nodeSize;for(;d>0&&isMarkInSet([...t.parent.child(d-1).marks],e,a);)d-=1,h-=t.parent.child(d).nodeSize;for(;m<t.parent.childCount&&isMarkInSet([...t.parent.child(m).marks],e,a);)g+=t.parent.child(m).nodeSize,m+=1;return{from:h,to:g}}function getMarkType(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const extendMarkRange=(t,e={})=>({tr:a,state:l,dispatch:u})=>{const c=getMarkType(t,l.schema),{doc:d,selection:h}=a,{$from:m,from:g,to:y}=h;if(u){const b=getMarkRange(m,c,e);if(b&&b.from<=g&&b.to>=y){const v=TextSelection.create(d,b.from,b.to);a.setSelection(v)}}return!0},first=t=>e=>{const a=typeof t=="function"?t(e):t;for(let l=0;l<a.length;l+=1)if(a[l](e))return!0;return!1};function isTextSelection(t){return t instanceof TextSelection}function minMax(t=0,e=0,a=0){return Math.min(Math.max(t,e),a)}function resolveFocusPosition(t,e=null){if(!e)return null;const a=Selection.atStart(t),l=Selection.atEnd(t);if(e==="start"||e===!0)return a;if(e==="end")return l;const u=a.from,c=l.to;return e==="all"?TextSelection.create(t,minMax(0,u,c),minMax(t.content.size,u,c)):TextSelection.create(t,minMax(e,u,c),minMax(e,u,c))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const focus$1=(t=null,e={})=>({editor:a,view:l,tr:u,dispatch:c})=>{e={scrollIntoView:!0,...e};const d=()=>{(isiOS()||isAndroid())&&l.dom.focus(),requestAnimationFrame(()=>{a.isDestroyed||(l.focus(),e!=null&&e.scrollIntoView&&a.commands.scrollIntoView())})};if(l.hasFocus()&&t===null||t===!1)return!0;if(c&&t===null&&!isTextSelection(a.state.selection))return d(),!0;const h=resolveFocusPosition(u.doc,t)||a.state.selection,m=a.state.selection.eq(h);return c&&(m||u.setSelection(h),m&&u.storedMarks&&u.setStoredMarks(u.storedMarks),d()),!0},forEach=(t,e)=>a=>t.every((l,u)=>e(l,{...a,index:u})),insertContent=(t,e)=>({tr:a,commands:l})=>l.insertContentAt({from:a.selection.from,to:a.selection.to},t,e),removeWhitespaces=t=>{const e=t.childNodes;for(let a=e.length-1;a>=0;a-=1){const l=e[a];l.nodeType===3&&l.nodeValue&&/^(\n\s\s|\n)$/.test(l.nodeValue)?t.removeChild(l):l.nodeType===1&&removeWhitespaces(l)}return t};function elementFromString$1(t){const e=`<body>${t}</body>`,a=new window.DOMParser().parseFromString(e,"text/html").body;return removeWhitespaces(a)}function createNodeFromContent(t,e,a){if(t instanceof Node$2||t instanceof Fragment)return t;a={slice:!0,parseOptions:{},...a};const l=typeof t=="object"&&t!==null,u=typeof t=="string";if(l)try{if(Array.isArray(t)&&t.length>0)return Fragment.fromArray(t.map(h=>e.nodeFromJSON(h)));const d=e.nodeFromJSON(t);return a.errorOnInvalidContent&&d.check(),d}catch(c){if(a.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:c});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",c),createNodeFromContent("",e,a)}if(u){if(a.errorOnInvalidContent){let d=!1,h="";const m=new Schema({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:g=>(d=!0,h=typeof g=="string"?g:g.outerHTML,null)}]}})});if(a.slice?DOMParser.fromSchema(m).parseSlice(elementFromString$1(t),a.parseOptions):DOMParser.fromSchema(m).parse(elementFromString$1(t),a.parseOptions),a.errorOnInvalidContent&&d)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${h}`)})}const c=DOMParser.fromSchema(e);return a.slice?c.parseSlice(elementFromString$1(t),a.parseOptions).content:c.parse(elementFromString$1(t),a.parseOptions)}return createNodeFromContent("",e,a)}function selectionToInsertionEnd(t,e,a){const l=t.steps.length-1;if(l<e)return;const u=t.steps[l];if(!(u instanceof ReplaceStep||u instanceof ReplaceAroundStep))return;const c=t.mapping.maps[l];let d=0;c.forEach((h,m,g,y)=>{d===0&&(d=y)}),t.setSelection(Selection.near(t.doc.resolve(d),a))}const isFragment=t=>!("type"in t),insertContentAt=(t,e,a)=>({tr:l,dispatch:u,editor:c})=>{var d;if(u){a={parseOptions:c.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...a};let h;try{h=createNodeFromContent(e,c.schema,{parseOptions:{preserveWhitespace:"full",...a.parseOptions},errorOnInvalidContent:(d=a.errorOnInvalidContent)!==null&&d!==void 0?d:c.options.enableContentCheck})}catch(S){return c.emit("contentError",{editor:c,error:S,disableCollaboration:()=>{c.storage.collaboration&&(c.storage.collaboration.isDisabled=!0)}}),!1}let{from:m,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,b=!0;if((isFragment(h)?h:[h]).forEach(S=>{S.check(),y=y?S.isText&&S.marks.length===0:!1,b=b?S.isBlock:!1}),m===g&&b){const{parent:S}=l.doc.resolve(m);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(m-=1,g+=1)}let C;if(y){if(Array.isArray(e))C=e.map(S=>S.text||"").join("");else if(e instanceof Fragment){let S="";e.forEach(E=>{E.text&&(S+=E.text)}),C=S}else typeof e=="object"&&e&&e.text?C=e.text:C=e;l.insertText(C,m,g)}else C=h,l.replaceWith(m,g,C);a.updateSelection&&selectionToInsertionEnd(l,l.steps.length-1,-1),a.applyInputRules&&l.setMeta("applyInputRules",{from:m,text:C}),a.applyPasteRules&&l.setMeta("applyPasteRules",{from:m,text:C})}return!0},joinUp=()=>({state:t,dispatch:e})=>joinUp$1(t,e),joinDown=()=>({state:t,dispatch:e})=>joinDown$1(t,e),joinBackward=()=>({state:t,dispatch:e})=>joinBackward$1(t,e),joinForward=()=>({state:t,dispatch:e})=>joinForward$1(t,e),joinItemBackward=()=>({state:t,dispatch:e,tr:a})=>{try{const l=joinPoint(t.doc,t.selection.$from.pos,-1);return l==null?!1:(a.join(l,2),e&&e(a),!0)}catch{return!1}},joinItemForward=()=>({state:t,dispatch:e,tr:a})=>{try{const l=joinPoint(t.doc,t.selection.$from.pos,1);return l==null?!1:(a.join(l,2),e&&e(a),!0)}catch{return!1}},joinTextblockBackward=()=>({state:t,dispatch:e})=>joinTextblockBackward$1(t,e),joinTextblockForward=()=>({state:t,dispatch:e})=>joinTextblockForward$1(t,e);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(t){const e=t.split(/-(?!$)/);let a=e[e.length-1];a==="Space"&&(a=" ");let l,u,c,d;for(let h=0;h<e.length-1;h+=1){const m=e[h];if(/^(cmd|meta|m)$/i.test(m))d=!0;else if(/^a(lt)?$/i.test(m))l=!0;else if(/^(c|ctrl|control)$/i.test(m))u=!0;else if(/^s(hift)?$/i.test(m))c=!0;else if(/^mod$/i.test(m))isiOS()||isMacOS()?d=!0:u=!0;else throw new Error(`Unrecognized modifier name: ${m}`)}return l&&(a=`Alt-${a}`),u&&(a=`Ctrl-${a}`),d&&(a=`Meta-${a}`),c&&(a=`Shift-${a}`),a}const keyboardShortcut=t=>({editor:e,view:a,tr:l,dispatch:u})=>{const c=normalizeKeyName(t).split(/-(?!$)/),d=c.find(g=>!["Alt","Ctrl","Meta","Shift"].includes(g)),h=new KeyboardEvent("keydown",{key:d==="Space"?" ":d,altKey:c.includes("Alt"),ctrlKey:c.includes("Ctrl"),metaKey:c.includes("Meta"),shiftKey:c.includes("Shift"),bubbles:!0,cancelable:!0}),m=e.captureTransaction(()=>{a.someProp("handleKeyDown",g=>g(a,h))});return m==null||m.steps.forEach(g=>{const y=g.map(l.mapping);y&&u&&l.maybeStep(y)}),!0};function isNodeActive(t,e,a={}){const{from:l,to:u,empty:c}=t.selection,d=e?getNodeType(e,t.schema):null,h=[];t.doc.nodesBetween(l,u,(b,v)=>{if(b.isText)return;const C=Math.max(l,v),S=Math.min(u,v+b.nodeSize);h.push({node:b,from:C,to:S})});const m=u-l,g=h.filter(b=>d?d.name===b.node.type.name:!0).filter(b=>objectIncludes(b.node.attrs,a,{strict:!1}));return c?!!g.length:g.reduce((b,v)=>b+v.to-v.from,0)>=m}const lift=(t,e={})=>({state:a,dispatch:l})=>{const u=getNodeType(t,a.schema);return isNodeActive(a,u,e)?lift$1(a,l):!1},liftEmptyBlock=()=>({state:t,dispatch:e})=>liftEmptyBlock$1(t,e),liftListItem=t=>({state:e,dispatch:a})=>{const l=getNodeType(t,e.schema);return liftListItem$1(l)(e,a)},newlineInCode=()=>({state:t,dispatch:e})=>newlineInCode$1(t,e);function getSchemaTypeNameByName(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function deleteProps(t,e){const a=typeof e=="string"?[e]:e;return Object.keys(t).reduce((l,u)=>(a.includes(u)||(l[u]=t[u]),l),{})}const resetAttributes=(t,e)=>({tr:a,state:l,dispatch:u})=>{let c=null,d=null;const h=getSchemaTypeNameByName(typeof t=="string"?t:t.name,l.schema);return h?(h==="node"&&(c=getNodeType(t,l.schema)),h==="mark"&&(d=getMarkType(t,l.schema)),u&&a.selection.ranges.forEach(m=>{l.doc.nodesBetween(m.$from.pos,m.$to.pos,(g,y)=>{c&&c===g.type&&a.setNodeMarkup(y,void 0,deleteProps(g.attrs,e)),d&&g.marks.length&&g.marks.forEach(b=>{d===b.type&&a.addMark(y,y+g.nodeSize,d.create(deleteProps(b.attrs,e)))})})}),!0):!1},scrollIntoView=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),selectAll=()=>({tr:t,dispatch:e})=>{if(e){const a=new AllSelection(t.doc);t.setSelection(a)}return!0},selectNodeBackward=()=>({state:t,dispatch:e})=>selectNodeBackward$1(t,e),selectNodeForward=()=>({state:t,dispatch:e})=>selectNodeForward$1(t,e),selectParentNode=()=>({state:t,dispatch:e})=>selectParentNode$1(t,e),selectTextblockEnd=()=>({state:t,dispatch:e})=>selectTextblockEnd$1(t,e),selectTextblockStart=()=>({state:t,dispatch:e})=>selectTextblockStart$1(t,e);function createDocument(t,e,a={},l={}){return createNodeFromContent(t,e,{slice:!1,parseOptions:a,errorOnInvalidContent:l.errorOnInvalidContent})}const setContent=(t,e=!1,a={},l={})=>({editor:u,tr:c,dispatch:d,commands:h})=>{var m,g;const{doc:y}=c;if(a.preserveWhitespace!=="full"){const b=createDocument(t,u.schema,a,{errorOnInvalidContent:(m=l.errorOnInvalidContent)!==null&&m!==void 0?m:u.options.enableContentCheck});return d&&c.replaceWith(0,y.content.size,b).setMeta("preventUpdate",!e),!0}return d&&c.setMeta("preventUpdate",!e),h.insertContentAt({from:0,to:y.content.size},t,{parseOptions:a,errorOnInvalidContent:(g=l.errorOnInvalidContent)!==null&&g!==void 0?g:u.options.enableContentCheck})};function getMarkAttributes(t,e){const a=getMarkType(e,t.schema),{from:l,to:u,empty:c}=t.selection,d=[];c?(t.storedMarks&&d.push(...t.storedMarks),d.push(...t.selection.$head.marks())):t.doc.nodesBetween(l,u,m=>{d.push(...m.marks)});const h=d.find(m=>m.type.name===a.name);return h?{...h.attrs}:{}}function defaultBlockAt(t){for(let e=0;e<t.edgeCount;e+=1){const{type:a}=t.edge(e);if(a.isTextblock&&!a.hasRequiredAttrs())return a}return null}function findParentNodeClosestToPos(t,e){for(let a=t.depth;a>0;a-=1){const l=t.node(a);if(e(l))return{pos:a>0?t.before(a):0,start:t.start(a),depth:a,node:l}}}function findParentNode(t){return e=>findParentNodeClosestToPos(e.$from,t)}function getText(t,e){const a={from:0,to:t.content.size};return getTextBetween(t,a,e)}function getNodeAttributes(t,e){const a=getNodeType(e,t.schema),{from:l,to:u}=t.selection,c=[];t.doc.nodesBetween(l,u,h=>{c.push(h)});const d=c.reverse().find(h=>h.type.name===a.name);return d?{...d.attrs}:{}}function getAttributes(t,e){const a=getSchemaTypeNameByName(typeof e=="string"?e:e.name,t.schema);return a==="node"?getNodeAttributes(t,e):a==="mark"?getMarkAttributes(t,e):{}}function getMarksBetween(t,e,a){const l=[];return t===e?a.resolve(t).marks().forEach(u=>{const c=a.resolve(t),d=getMarkRange(c,u.type);d&&l.push({mark:u,...d})}):a.nodesBetween(t,e,(u,c)=>{!u||(u==null?void 0:u.nodeSize)===void 0||l.push(...u.marks.map(d=>({from:c,to:c+u.nodeSize,mark:d})))}),l}function getSplittedAttributes(t,e,a){return Object.fromEntries(Object.entries(a).filter(([l])=>{const u=t.find(c=>c.type===e&&c.name===l);return u?u.attribute.keepOnSplit:!1}))}function isMarkActive(t,e,a={}){const{empty:l,ranges:u}=t.selection,c=e?getMarkType(e,t.schema):null;if(l)return!!(t.storedMarks||t.selection.$from.marks()).filter(b=>c?c.name===b.type.name:!0).find(b=>objectIncludes(b.attrs,a,{strict:!1}));let d=0;const h=[];if(u.forEach(({$from:b,$to:v})=>{const C=b.pos,S=v.pos;t.doc.nodesBetween(C,S,(E,_)=>{if(!E.isText&&!E.marks.length)return;const A=Math.max(C,_),R=Math.min(S,_+E.nodeSize),k=R-A;d+=k,h.push(...E.marks.map(M=>({mark:M,from:A,to:R})))})}),d===0)return!1;const m=h.filter(b=>c?c.name===b.mark.type.name:!0).filter(b=>objectIncludes(b.mark.attrs,a,{strict:!1})).reduce((b,v)=>b+v.to-v.from,0),g=h.filter(b=>c?b.mark.type!==c&&b.mark.type.excludes(c):!0).reduce((b,v)=>b+v.to-v.from,0);return(m>0?m+g:m)>=d}function isActive(t,e,a={}){if(!e)return isNodeActive(t,null,a)||isMarkActive(t,null,a);const l=getSchemaTypeNameByName(e,t.schema);return l==="node"?isNodeActive(t,e,a):l==="mark"?isMarkActive(t,e,a):!1}function isList(t,e){const{nodeExtensions:a}=splitExtensions(e),l=a.find(d=>d.name===t);if(!l)return!1;const u={name:l.name,options:l.options,storage:l.storage},c=callOrReturn(getExtensionField(l,"group",u));return typeof c!="string"?!1:c.split(" ").includes("list")}function isNodeEmpty(t,{checkChildren:e=!0,ignoreWhitespace:a=!1}={}){var l;if(a){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((l=t.text)!==null&&l!==void 0?l:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let u=!0;return t.content.forEach(c=>{u!==!1&&(isNodeEmpty(c,{ignoreWhitespace:a,checkChildren:e})||(u=!1))}),u}return!1}function isNodeSelection(t){return t instanceof NodeSelection}function canSetMark(t,e,a){var l;const{selection:u}=e;let c=null;if(isTextSelection(u)&&(c=u.$cursor),c){const h=(l=t.storedMarks)!==null&&l!==void 0?l:c.marks();return!!a.isInSet(h)||!h.some(m=>m.type.excludes(a))}const{ranges:d}=u;return d.some(({$from:h,$to:m})=>{let g=h.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(a):!1;return t.doc.nodesBetween(h.pos,m.pos,(y,b,v)=>{if(g)return!1;if(y.isInline){const C=!v||v.type.allowsMarkType(a),S=!!a.isInSet(y.marks)||!y.marks.some(E=>E.type.excludes(a));g=C&&S}return!g}),g})}const setMark=(t,e={})=>({tr:a,state:l,dispatch:u})=>{const{selection:c}=a,{empty:d,ranges:h}=c,m=getMarkType(t,l.schema);if(u)if(d){const g=getMarkAttributes(l,m);a.addStoredMark(m.create({...g,...e}))}else h.forEach(g=>{const y=g.$from.pos,b=g.$to.pos;l.doc.nodesBetween(y,b,(v,C)=>{const S=Math.max(C,y),E=Math.min(C+v.nodeSize,b);v.marks.find(A=>A.type===m)?v.marks.forEach(A=>{m===A.type&&a.addMark(S,E,m.create({...A.attrs,...e}))}):a.addMark(S,E,m.create(e))})});return canSetMark(l,a,m)},setMeta=(t,e)=>({tr:a})=>(a.setMeta(t,e),!0),setNode=(t,e={})=>({state:a,dispatch:l,chain:u})=>{const c=getNodeType(t,a.schema);let d;return a.selection.$anchor.sameParent(a.selection.$head)&&(d=a.selection.$anchor.parent.attrs),c.isTextblock?u().command(({commands:h})=>setBlockType(c,{...d,...e})(a)?!0:h.clearNodes()).command(({state:h})=>setBlockType(c,{...d,...e})(h,l)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=t=>({tr:e,dispatch:a})=>{if(a){const{doc:l}=e,u=minMax(t,0,l.content.size),c=NodeSelection.create(l,u);e.setSelection(c)}return!0},setTextSelection=t=>({tr:e,dispatch:a})=>{if(a){const{doc:l}=e,{from:u,to:c}=typeof t=="number"?{from:t,to:t}:t,d=TextSelection.atStart(l).from,h=TextSelection.atEnd(l).to,m=minMax(u,d,h),g=minMax(c,d,h),y=TextSelection.create(l,m,g);e.setSelection(y)}return!0},sinkListItem=t=>({state:e,dispatch:a})=>{const l=getNodeType(t,e.schema);return sinkListItem$1(l)(e,a)};function ensureMarks(t,e){const a=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(a){const l=a.filter(u=>e==null?void 0:e.includes(u.type.name));t.tr.ensureMarks(l)}}const splitBlock=({keepMarks:t=!0}={})=>({tr:e,state:a,dispatch:l,editor:u})=>{const{selection:c,doc:d}=e,{$from:h,$to:m}=c,g=u.extensionManager.attributes,y=getSplittedAttributes(g,h.node().type.name,h.node().attrs);if(c instanceof NodeSelection&&c.node.isBlock)return!h.parentOffset||!canSplit(d,h.pos)?!1:(l&&(t&&ensureMarks(a,u.extensionManager.splittableMarks),e.split(h.pos).scrollIntoView()),!0);if(!h.parent.isBlock)return!1;const b=m.parentOffset===m.parent.content.size,v=h.depth===0?void 0:defaultBlockAt(h.node(-1).contentMatchAt(h.indexAfter(-1)));let C=b&&v?[{type:v,attrs:y}]:void 0,S=canSplit(e.doc,e.mapping.map(h.pos),1,C);if(!C&&!S&&canSplit(e.doc,e.mapping.map(h.pos),1,v?[{type:v}]:void 0)&&(S=!0,C=v?[{type:v,attrs:y}]:void 0),l){if(S&&(c instanceof TextSelection&&e.deleteSelection(),e.split(e.mapping.map(h.pos),1,C),v&&!b&&!h.parentOffset&&h.parent.type!==v)){const E=e.mapping.map(h.before()),_=e.doc.resolve(E);h.node(-1).canReplaceWith(_.index(),_.index()+1,v)&&e.setNodeMarkup(e.mapping.map(h.before()),v)}t&&ensureMarks(a,u.extensionManager.splittableMarks),e.scrollIntoView()}return S},splitListItem=(t,e={})=>({tr:a,state:l,dispatch:u,editor:c})=>{var d;const h=getNodeType(t,l.schema),{$from:m,$to:g}=l.selection,y=l.selection.node;if(y&&y.isBlock||m.depth<2||!m.sameParent(g))return!1;const b=m.node(-1);if(b.type!==h)return!1;const v=c.extensionManager.attributes;if(m.parent.content.size===0&&m.node(-1).childCount===m.indexAfter(-1)){if(m.depth===2||m.node(-3).type!==h||m.index(-2)!==m.node(-2).childCount-1)return!1;if(u){let A=Fragment.empty;const R=m.index(-1)?1:m.index(-2)?2:3;for(let T=m.depth-R;T>=m.depth-3;T-=1)A=Fragment.from(m.node(T).copy(A));const k=m.indexAfter(-1)<m.node(-2).childCount?1:m.indexAfter(-2)<m.node(-3).childCount?2:3,M={...getSplittedAttributes(v,m.node().type.name,m.node().attrs),...e},D=((d=h.contentMatch.defaultType)===null||d===void 0?void 0:d.createAndFill(M))||void 0;A=A.append(Fragment.from(h.createAndFill(null,D)||void 0));const B=m.before(m.depth-(R-1));a.replace(B,m.after(-k),new Slice(A,4-R,0));let U=-1;a.doc.nodesBetween(B,a.doc.content.size,(T,$)=>{if(U>-1)return!1;T.isTextblock&&T.content.size===0&&(U=$+1)}),U>-1&&a.setSelection(TextSelection.near(a.doc.resolve(U))),a.scrollIntoView()}return!0}const C=g.pos===m.end()?b.contentMatchAt(0).defaultType:null,S={...getSplittedAttributes(v,b.type.name,b.attrs),...e},E={...getSplittedAttributes(v,m.node().type.name,m.node().attrs),...e};a.delete(m.pos,g.pos);const _=C?[{type:h,attrs:S},{type:C,attrs:E}]:[{type:h,attrs:S}];if(!canSplit(a.doc,m.pos,2))return!1;if(u){const{selection:A,storedMarks:R}=l,{splittableMarks:k}=c.extensionManager,M=R||A.$to.parentOffset&&A.$from.marks();if(a.split(m.pos,2,_).scrollIntoView(),!M||!u)return!0;const D=M.filter(B=>k.includes(B.type.name));a.ensureMarks(D)}return!0},joinListBackwards=(t,e)=>{const a=findParentNode(d=>d.type===e)(t.selection);if(!a)return!0;const l=t.doc.resolve(Math.max(0,a.pos-1)).before(a.depth);if(l===void 0)return!0;const u=t.doc.nodeAt(l);return a.node.type===(u==null?void 0:u.type)&&canJoin(t.doc,a.pos)&&t.join(a.pos),!0},joinListForwards=(t,e)=>{const a=findParentNode(d=>d.type===e)(t.selection);if(!a)return!0;const l=t.doc.resolve(a.start).after(a.depth);if(l===void 0)return!0;const u=t.doc.nodeAt(l);return a.node.type===(u==null?void 0:u.type)&&canJoin(t.doc,l)&&t.join(l),!0},toggleList=(t,e,a,l={})=>({editor:u,tr:c,state:d,dispatch:h,chain:m,commands:g,can:y})=>{const{extensions:b,splittableMarks:v}=u.extensionManager,C=getNodeType(t,d.schema),S=getNodeType(e,d.schema),{selection:E,storedMarks:_}=d,{$from:A,$to:R}=E,k=A.blockRange(R),M=_||E.$to.parentOffset&&E.$from.marks();if(!k)return!1;const D=findParentNode(B=>isList(B.type.name,b))(E);if(k.depth>=1&&D&&k.depth-D.depth<=1){if(D.node.type===C)return g.liftListItem(S);if(isList(D.node.type.name,b)&&C.validContent(D.node.content)&&h)return m().command(()=>(c.setNodeMarkup(D.pos,C),!0)).command(()=>joinListBackwards(c,C)).command(()=>joinListForwards(c,C)).run()}return!a||!M||!h?m().command(()=>y().wrapInList(C,l)?!0:g.clearNodes()).wrapInList(C,l).command(()=>joinListBackwards(c,C)).command(()=>joinListForwards(c,C)).run():m().command(()=>{const B=y().wrapInList(C,l),U=M.filter(T=>v.includes(T.type.name));return c.ensureMarks(U),B?!0:g.clearNodes()}).wrapInList(C,l).command(()=>joinListBackwards(c,C)).command(()=>joinListForwards(c,C)).run()},toggleMark=(t,e={},a={})=>({state:l,commands:u})=>{const{extendEmptyMarkRange:c=!1}=a,d=getMarkType(t,l.schema);return isMarkActive(l,d,e)?u.unsetMark(d,{extendEmptyMarkRange:c}):u.setMark(d,e)},toggleNode=(t,e,a={})=>({state:l,commands:u})=>{const c=getNodeType(t,l.schema),d=getNodeType(e,l.schema),h=isNodeActive(l,c,a);let m;return l.selection.$anchor.sameParent(l.selection.$head)&&(m=l.selection.$anchor.parent.attrs),h?u.setNode(d,m):u.setNode(c,{...m,...a})},toggleWrap=(t,e={})=>({state:a,commands:l})=>{const u=getNodeType(t,a.schema);return isNodeActive(a,u,e)?l.lift(u):l.wrapIn(u,e)},undoInputRule=()=>({state:t,dispatch:e})=>{const a=t.plugins;for(let l=0;l<a.length;l+=1){const u=a[l];let c;if(u.spec.isInputRules&&(c=u.getState(t))){if(e){const d=t.tr,h=c.transform;for(let m=h.steps.length-1;m>=0;m-=1)d.step(h.steps[m].invert(h.docs[m]));if(c.text){const m=d.doc.resolve(c.from).marks();d.replaceWith(c.from,c.to,t.schema.text(c.text,m))}else d.delete(c.from,c.to)}return!0}}return!1},unsetAllMarks=()=>({tr:t,dispatch:e})=>{const{selection:a}=t,{empty:l,ranges:u}=a;return l||e&&u.forEach(c=>{t.removeMark(c.$from.pos,c.$to.pos)}),!0},unsetMark=(t,e={})=>({tr:a,state:l,dispatch:u})=>{var c;const{extendEmptyMarkRange:d=!1}=e,{selection:h}=a,m=getMarkType(t,l.schema),{$from:g,empty:y,ranges:b}=h;if(!u)return!0;if(y&&d){let{from:v,to:C}=h;const S=(c=g.marks().find(_=>_.type===m))===null||c===void 0?void 0:c.attrs,E=getMarkRange(g,m,S);E&&(v=E.from,C=E.to),a.removeMark(v,C,m)}else b.forEach(v=>{a.removeMark(v.$from.pos,v.$to.pos,m)});return a.removeStoredMark(m),!0},updateAttributes=(t,e={})=>({tr:a,state:l,dispatch:u})=>{let c=null,d=null;const h=getSchemaTypeNameByName(typeof t=="string"?t:t.name,l.schema);return h?(h==="node"&&(c=getNodeType(t,l.schema)),h==="mark"&&(d=getMarkType(t,l.schema)),u&&a.selection.ranges.forEach(m=>{const g=m.$from.pos,y=m.$to.pos;let b,v,C,S;a.selection.empty?l.doc.nodesBetween(g,y,(E,_)=>{c&&c===E.type&&(C=Math.max(_,g),S=Math.min(_+E.nodeSize,y),b=_,v=E)}):l.doc.nodesBetween(g,y,(E,_)=>{_<g&&c&&c===E.type&&(C=Math.max(_,g),S=Math.min(_+E.nodeSize,y),b=_,v=E),_>=g&&_<=y&&(c&&c===E.type&&a.setNodeMarkup(_,void 0,{...E.attrs,...e}),d&&E.marks.length&&E.marks.forEach(A=>{if(d===A.type){const R=Math.max(_,g),k=Math.min(_+E.nodeSize,y);a.addMark(R,k,d.create({...A.attrs,...e}))}}))}),v&&(b!==void 0&&a.setNodeMarkup(b,void 0,{...v.attrs,...e}),d&&v.marks.length&&v.marks.forEach(E=>{d===E.type&&a.addMark(C,S,d.create({...E.attrs,...e}))}))}),!0):!1},wrapIn=(t,e={})=>({state:a,dispatch:l})=>{const u=getNodeType(t,a.schema);return wrapIn$1(u,e)(a,l)},wrapInList=(t,e={})=>({state:a,dispatch:l})=>{const u=getNodeType(t,a.schema);return wrapInList$1(u,e)(a,l)};var commands=Object.freeze({__proto__:null,blur,clearContent,clearNodes,command,createParagraphNear,cut,deleteCurrentNode,deleteNode,deleteRange,deleteSelection,enter,exitCode,extendMarkRange,first,focus:focus$1,forEach,insertContent,insertContentAt,joinBackward,joinDown,joinForward,joinItemBackward,joinItemForward,joinTextblockBackward,joinTextblockForward,joinUp,keyboardShortcut,lift,liftEmptyBlock,liftListItem,newlineInCode,resetAttributes,scrollIntoView,selectAll,selectNodeBackward,selectNodeForward,selectParentNode,selectTextblockEnd,selectTextblockStart,setContent,setMark,setMeta,setNode,setNodeSelection,setTextSelection,sinkListItem,splitBlock,splitListItem,toggleList,toggleMark,toggleNode,toggleWrap,undoInputRule,unsetAllMarks,unsetMark,updateAttributes,wrapIn,wrapInList});const Commands=Extension.create({name:"commands",addCommands(){return{...commands}}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(t,e,a,l)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:a,moved:l})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(e,a)=>{t.isFocused=!0;const l=t.state.tr.setMeta("focus",{event:a}).setMeta("addToHistory",!1);return e.dispatch(l),!1},blur:(e,a)=>{t.isFocused=!1;const l=t.state.tr.setMeta("blur",{event:a}).setMeta("addToHistory",!1);return e.dispatch(l),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:d})=>[()=>d.undoInputRule(),()=>d.command(({tr:h})=>{const{selection:m,doc:g}=h,{empty:y,$anchor:b}=m,{pos:v,parent:C}=b,S=b.parent.isTextblock&&v>0?h.doc.resolve(v-1):b,E=S.parent.type.spec.isolating,_=b.pos-b.parentOffset,A=E&&S.parent.childCount===1?_===b.pos:Selection.atStart(g).from===v;return!y||!C.type.isTextblock||C.textContent.length||!A||A&&b.parent.type.name==="paragraph"?!1:d.clearNodes()}),()=>d.deleteSelection(),()=>d.joinBackward(),()=>d.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:d})=>[()=>d.deleteSelection(),()=>d.deleteCurrentNode(),()=>d.joinForward(),()=>d.selectNodeForward()]),l={Enter:()=>this.editor.commands.first(({commands:d})=>[()=>d.newlineInCode(),()=>d.createParagraphNear(),()=>d.liftEmptyBlock(),()=>d.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},u={...l},c={...l,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?c:u},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(t,e,a)=>{if(t.some(E=>E.getMeta("composition")))return;const l=t.some(E=>E.docChanged)&&!e.doc.eq(a.doc),u=t.some(E=>E.getMeta("preventClearDocument"));if(!l||u)return;const{empty:c,from:d,to:h}=e.selection,m=Selection.atStart(e.doc).from,g=Selection.atEnd(e.doc).to;if(c||!(d===m&&h===g)||!isNodeEmpty(a.doc))return;const v=a.tr,C=createChainableState({state:a,transaction:v}),{commands:S}=new CommandManager({editor:this.editor,state:C});if(S.clearNodes(),!!v.steps.length)return v}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(t,e,a)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:a})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});var index=Object.freeze({__proto__:null,ClipboardTextSerializer,Commands,Drop,Editable,FocusEvents,Keymap,Paste,Tabindex,focusEventsPluginKey});class NodePos{get name(){return this.node.type.name}constructor(e,a,l=!1,u=null){this.currentNode=null,this.actualDepth=null,this.isBlock=l,this.resolvedPos=e,this.editor=a,this.currentNode=u}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let a=this.from,l=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}a=this.from+1,l=this.to-1}this.editor.commands.insertContentAt({from:a,to:l},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),a=this.resolvedPos.doc.resolve(e);return new NodePos(a,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new NodePos(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new NodePos(e,this.editor)}get children(){const e=[];return this.node.content.forEach((a,l)=>{const u=a.isBlock&&!a.isTextblock,c=a.isAtom&&!a.isText,d=this.pos+l+(c?0:1),h=this.resolvedPos.doc.resolve(d);if(!u&&h.depth<=this.depth)return;const m=new NodePos(h,this.editor,u,u?a:null);u&&(m.actualDepth=this.depth+1),e.push(new NodePos(h,this.editor,u,u?a:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,a={}){let l=null,u=this.parent;for(;u&&!l;){if(u.node.type.name===e)if(Object.keys(a).length>0){const c=u.node.attrs,d=Object.keys(a);for(let h=0;h<d.length;h+=1){const m=d[h];if(c[m]!==a[m])break}}else l=u;u=u.parent}return l}querySelector(e,a={}){return this.querySelectorAll(e,a,!0)[0]||null}querySelectorAll(e,a={},l=!1){let u=[];if(!this.children||this.children.length===0)return u;const c=Object.keys(a);return this.children.forEach(d=>{l&&u.length>0||(d.node.type.name===e&&c.every(m=>a[m]===d.node.attrs[m])&&u.push(d),!(l&&u.length>0)&&(u=u.concat(d.querySelectorAll(e,a,l))))}),u}setAttribute(e){const{tr:a}=this.editor.state;a.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(a)}}const style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function createStyleTag(t,e,a){const l=document.querySelector("style[data-tiptap-style]");if(l!==null)return l;const u=document.createElement("style");return e&&u.setAttribute("nonce",e),u.setAttribute("data-tiptap-style",""),u.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(u),u}class Editor extends EventEmitter{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:a})=>{throw a},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:a,slice:l,moved:u})=>this.options.onDrop(a,l,u)),this.on("paste",({event:a,slice:l})=>this.options.onPaste(a,l)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,a=!0){this.setOptions({editable:e}),a&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,a){const l=isFunction$3(a)?a(e,[...this.state.plugins]):[...this.state.plugins,e],u=this.state.reconfigure({plugins:l});return this.view.updateState(u),u}unregisterPlugin(e){if(this.isDestroyed)return;const a=this.state.plugins;let l=a;if([].concat(e).forEach(c=>{const d=typeof c=="string"?`${c}$`:c.key;l=l.filter(h=>!h.key.startsWith(d))}),a.length===l.length)return;const u=this.state.reconfigure({plugins:l});return this.view.updateState(u),u}createExtensionManager(){var e,a;const u=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(a=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||a===void 0?void 0:a.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste].filter(c=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[c.name]!==!1:!0):[],...this.options.extensions].filter(c=>["extension","node","mark"].includes(c==null?void 0:c.type));this.extensionManager=new ExtensionManager(u,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let a;try{a=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(d){if(!(d instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(d.message))throw d;this.emit("contentError",{editor:this,error:d,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(h=>h.name!=="collaboration"),this.createExtensionManager()}}),a=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const l=resolveFocusPosition(a,this.options.autofocus);this.view=new EditorView(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:EditorState.create({doc:a,selection:l||void 0})});const u=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(u),this.createNodeViews(),this.prependClass();const c=this.view.dom;c.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const a=this.capturedTransaction;return this.capturedTransaction=null,a}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(d=>{var h;return(h=this.capturedTransaction)===null||h===void 0?void 0:h.step(d)});return}const a=this.state.apply(e),l=!this.state.selection.eq(a.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:a}),this.view.updateState(a),this.emit("transaction",{editor:this,transaction:e}),l&&this.emit("selectionUpdate",{editor:this,transaction:e});const u=e.getMeta("focus"),c=e.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:e}),c&&this.emit("blur",{editor:this,event:c.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return getAttributes(this.state,e)}isActive(e,a){const l=typeof e=="string"?e:null,u=typeof e=="string"?a:e;return isActive(this.state,l,u)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:a=`

`,textSerializers:l={}}=e||{};return getText(this.state.doc,{blockSeparator:a,textSerializers:{...getTextSerializersFromSchema(this.schema),...l}})}get isEmpty(){return isNodeEmpty(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,a){var l;return((l=this.$doc)===null||l===void 0?void 0:l.querySelector(e,a))||null}$nodes(e,a){var l;return((l=this.$doc)===null||l===void 0?void 0:l.querySelectorAll(e,a))||null}$pos(e){const a=this.state.doc.resolve(e);return new NodePos(a,this)}get $doc(){return this.$pos(0)}}function markInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:a,match:l})=>{const u=callOrReturn(t.getAttributes,void 0,l);if(u===!1||u===null)return null;const{tr:c}=e,d=l[l.length-1],h=l[0];if(d){const m=h.search(/\S/),g=a.from+h.indexOf(d),y=g+d.length;if(getMarksBetween(a.from,a.to,e.doc).filter(C=>C.mark.type.excluded.find(E=>E===t.type&&E!==C.mark.type)).filter(C=>C.to>g).length)return null;y<a.to&&c.delete(y,a.to),g>a.from&&c.delete(a.from+m,g);const v=a.from+m+d.length;c.addMark(a.from+m,v,t.type.create(u||{})),c.removeStoredMark(t.type)}}})}function nodeInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:a,match:l})=>{const u=callOrReturn(t.getAttributes,void 0,l)||{},{tr:c}=e,d=a.from;let h=a.to;const m=t.type.create(u);if(l[1]){const g=l[0].lastIndexOf(l[1]);let y=d+g;y>h?y=h:h=y+l[1].length;const b=l[0][l[0].length-1];c.insertText(b,d+l[0].length-1),c.replaceWith(y,h,m)}else if(l[0]){const g=t.type.isInline?d:d-1;c.insert(g,t.type.create(u)).delete(c.mapping.map(d),c.mapping.map(h))}c.scrollIntoView()}})}function textblockTypeInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:a,match:l})=>{const u=e.doc.resolve(a.from),c=callOrReturn(t.getAttributes,void 0,l)||{};if(!u.node(-1).canReplaceWith(u.index(-1),u.indexAfter(-1),t.type))return null;e.tr.delete(a.from,a.to).setBlockType(a.from,a.from,t.type,c)}})}function wrappingInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:a,match:l,chain:u})=>{const c=callOrReturn(t.getAttributes,void 0,l)||{},d=e.tr.delete(a.from,a.to),m=d.doc.resolve(a.from).blockRange(),g=m&&findWrapping(m,t.type,c);if(!g)return null;if(d.wrap(m,g),t.keepMarks&&t.editor){const{selection:b,storedMarks:v}=e,{splittableMarks:C}=t.editor.extensionManager,S=v||b.$to.parentOffset&&b.$from.marks();if(S){const E=S.filter(_=>C.includes(_.type.name));d.ensureMarks(E)}}if(t.keepAttributes){const b=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";u().updateAttributes(b,c).run()}const y=d.doc.resolve(a.from-1).nodeBefore;y&&y.type===t.type&&canJoin(d.doc,a.from-1)&&(!t.joinPredicate||t.joinPredicate(l,y))&&d.join(a.from-1)}})}let Node$1=class La{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new La(e)}configure(e={}){const a=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return a.name=this.name,a.parent=this.parent,a}extend(e={}){const a=new La(e);return a.parent=this,this.child=a,a.name=e.name?e.name:a.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${a.name}".`),a.options=callOrReturn(getExtensionField(a,"addOptions",{name:a.name})),a.storage=callOrReturn(getExtensionField(a,"addStorage",{name:a.name,options:a.options})),a}};function markPasteRule(t){return new PasteRule({find:t.find,handler:({state:e,range:a,match:l,pasteEvent:u})=>{const c=callOrReturn(t.getAttributes,void 0,l,u);if(c===!1||c===null)return null;const{tr:d}=e,h=l[l.length-1],m=l[0];let g=a.to;if(h){const y=m.search(/\S/),b=a.from+m.indexOf(h),v=b+h.length;if(getMarksBetween(a.from,a.to,e.doc).filter(S=>S.mark.type.excluded.find(_=>_===t.type&&_!==S.mark.type)).filter(S=>S.to>b).length)return null;v<a.to&&d.delete(v,a.to),b>a.from&&d.delete(a.from+y,b),g=a.from+y+h.length,d.addMark(a.from+y,g,t.type.create(c||{})),d.removeStoredMark(t.type)}}})}function getDefaultExportFromCjs(t){return t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production_min;function requireUseSyncExternalStoreShim_production_min(){if(hasRequiredUseSyncExternalStoreShim_production_min)return useSyncExternalStoreShim_production_min;hasRequiredUseSyncExternalStoreShim_production_min=1;var t=React2;function e(b,v){return b===v&&(b!==0||1/b===1/v)||b!==b&&v!==v}var a=typeof Object.is=="function"?Object.is:e,l=t.useState,u=t.useEffect,c=t.useLayoutEffect,d=t.useDebugValue;function h(b,v){var C=v(),S=l({inst:{value:C,getSnapshot:v}}),E=S[0].inst,_=S[1];return c(function(){E.value=C,E.getSnapshot=v,m(E)&&_({inst:E})},[b,C,v]),u(function(){return m(E)&&_({inst:E}),b(function(){m(E)&&_({inst:E})})},[b]),d(C),C}function m(b){var v=b.getSnapshot;b=b.value;try{var C=v();return!a(b,C)}catch{return!0}}function g(b,v){return v()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return useSyncExternalStoreShim_production_min.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,useSyncExternalStoreShim_production_min}shim.exports=requireUseSyncExternalStoreShim_production_min();var shimExports=shim.exports;const mergeRefs=(...t)=>e=>{t.forEach(a=>{typeof a=="function"?a(e):a&&(a.current=e)})},Portals=({contentComponent:t})=>{const e=shimExports.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return React2.createElement(React2.Fragment,null,Object.values(e))};function getInstance(){const t=new Set;let e={};return{subscribe(a){return t.add(a),()=>{t.delete(a)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(a,l){e={...e,[a]:ReactDOM.createPortal(l.reactElement,l.element,a)},t.forEach(u=>u())},removeRenderer(a){const l={...e};delete l[a],e=l,t.forEach(u=>u())}}}class PureEditorContent extends React2.Component{constructor(e){var a;super(e),this.editorContentRef=React2.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((a=e.editor)===null||a===void 0)&&a.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const a=this.editorContentRef.current;a.append(...e.options.element.childNodes),e.setOptions({element:a}),e.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(l=>l.hasContentComponentInitialized?l:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const a=document.createElement("div");a.append(...e.options.element.childNodes),e.setOptions({element:a})}render(){const{editor:e,innerRef:a,...l}=this.props;return React2.createElement(React2.Fragment,null,React2.createElement("div",{ref:mergeRefs(a,this.editorContentRef),...l}),(e==null?void 0:e.contentComponent)&&React2.createElement(Portals,{contentComponent:e.contentComponent}))}}const EditorContentWithKey=reactExports.forwardRef((t,e)=>{const a=React2.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return React2.createElement(PureEditorContent,{key:a,innerRef:e,...t})}),EditorContent=React2.memo(EditorContentWithKey);var react=function t(e,a){if(e===a)return!0;if(e&&a&&typeof e=="object"&&typeof a=="object"){if(e.constructor!==a.constructor)return!1;var l,u,c;if(Array.isArray(e)){if(l=e.length,l!=a.length)return!1;for(u=l;u--!==0;)if(!t(e[u],a[u]))return!1;return!0}if(e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u of e.entries())if(!a.has(u[0]))return!1;for(u of e.entries())if(!t(u[1],a.get(u[0])))return!1;return!0}if(e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u of e.entries())if(!a.has(u[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if(l=e.length,l!=a.length)return!1;for(u=l;u--!==0;)if(e[u]!==a[u])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if(c=Object.keys(e),l=c.length,l!==Object.keys(a).length)return!1;for(u=l;u--!==0;)if(!Object.prototype.hasOwnProperty.call(a,c[u]))return!1;for(u=l;u--!==0;){var d=c[u];if(!(d==="_owner"&&e.$$typeof)&&!t(e[d],a[d]))return!1}return!0}return e!==e&&a!==a},deepEqual=getDefaultExportFromCjs(react),withSelector={exports:{}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production_min;function requireWithSelector_production_min(){if(hasRequiredWithSelector_production_min)return withSelector_production_min;hasRequiredWithSelector_production_min=1;var t=React2,e=shimExports;function a(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var l=typeof Object.is=="function"?Object.is:a,u=e.useSyncExternalStore,c=t.useRef,d=t.useEffect,h=t.useMemo,m=t.useDebugValue;return withSelector_production_min.useSyncExternalStoreWithSelector=function(g,y,b,v,C){var S=c(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=h(function(){function A(B){if(!R){if(R=!0,k=B,B=v(B),C!==void 0&&E.hasValue){var U=E.value;if(C(U,B))return M=U}return M=B}if(U=M,l(k,B))return U;var T=v(B);return C!==void 0&&C(U,T)?U:(k=B,M=T)}var R=!1,k,M,D=b===void 0?null:b;return[function(){return A(y())},D===null?void 0:function(){return A(D())}]},[y,b,v,C]);var _=u(g,S[0],S[1]);return d(function(){E.hasValue=!0,E.value=_},[_]),m(_),_},withSelector_production_min}withSelector.exports=requireWithSelector_production_min();var withSelectorExports=withSelector.exports;const useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;class EditorStateManager{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const a=()=>{this.transactionNumber+=1,this.subscribers.forEach(u=>u())},l=this.editor;return l.on("transaction",a),()=>{l.off("transaction",a)}}}}function useEditorState(t){var e;const[a]=reactExports.useState(()=>new EditorStateManager(t.editor)),l=withSelectorExports.useSyncExternalStoreWithSelector(a.subscribe,a.getSnapshot,a.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:deepEqual);return useIsomorphicLayoutEffect(()=>a.watch(t.editor),[t.editor,a]),reactExports.useDebugValue(l),l}const isDev=!1,isSSR=typeof window>"u",isNext=isSSR||!!(typeof window<"u"&&window.next);class EditorInstanceManager{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(a=>a())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...l)=>{var u,c;return(c=(u=this.options.current).onBeforeCreate)===null||c===void 0?void 0:c.call(u,...l)},onBlur:(...l)=>{var u,c;return(c=(u=this.options.current).onBlur)===null||c===void 0?void 0:c.call(u,...l)},onCreate:(...l)=>{var u,c;return(c=(u=this.options.current).onCreate)===null||c===void 0?void 0:c.call(u,...l)},onDestroy:(...l)=>{var u,c;return(c=(u=this.options.current).onDestroy)===null||c===void 0?void 0:c.call(u,...l)},onFocus:(...l)=>{var u,c;return(c=(u=this.options.current).onFocus)===null||c===void 0?void 0:c.call(u,...l)},onSelectionUpdate:(...l)=>{var u,c;return(c=(u=this.options.current).onSelectionUpdate)===null||c===void 0?void 0:c.call(u,...l)},onTransaction:(...l)=>{var u,c;return(c=(u=this.options.current).onTransaction)===null||c===void 0?void 0:c.call(u,...l)},onUpdate:(...l)=>{var u,c;return(c=(u=this.options.current).onUpdate)===null||c===void 0?void 0:c.call(u,...l)},onContentError:(...l)=>{var u,c;return(c=(u=this.options.current).onContentError)===null||c===void 0?void 0:c.call(u,...l)},onDrop:(...l)=>{var u,c;return(c=(u=this.options.current).onDrop)===null||c===void 0?void 0:c.call(u,...l)},onPaste:(...l)=>{var u,c;return(c=(u=this.options.current).onPaste)===null||c===void 0?void 0:c.call(u,...l)}};return new Editor(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,a){return Object.keys(e).every(l=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(l)?!0:l==="extensions"&&e.extensions&&a.extensions?e.extensions.length!==a.extensions.length?!1:e.extensions.every((u,c)=>{var d;return u===((d=a.extensions)===null||d===void 0?void 0:d[c])}):e[l]===a[l])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?EditorInstanceManager.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((l,u)=>l===e[u]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,a=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){a&&a.setOptions(this.options.current);return}a&&!a.isDestroyed&&(a.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function useEditor(t={},e=[]){const a=reactExports.useRef(t);a.current=t;const[l]=reactExports.useState(()=>new EditorInstanceManager(a)),u=shimExports.useSyncExternalStore(l.subscribe,l.getEditor,l.getServerSnapshot);return reactExports.useDebugValue(u),reactExports.useEffect(l.onRender(e)),useEditorState({editor:u,selector:({transactionNumber:c})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&c===0?0:c+1}),u}const EditorContext=reactExports.createContext({editor:null});EditorContext.Consumer;const ReactNodeViewContext=reactExports.createContext({onDragStart:void 0}),useReactNodeView=()=>reactExports.useContext(ReactNodeViewContext);React2.forwardRef((t,e)=>{const{onDragStart:a}=useReactNodeView(),l=t.as||"div";return React2.createElement(l,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:a,style:{whiteSpace:"normal",...t.style}})});const inputRegex$4=/^\s*>\s$/,Blockquote$2=Node$1.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$4,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold$2=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),ListItemName$1="listItem",TextStyleName$1="textStyle",inputRegex$3=/^\s*([-+*])\s$/,BulletList$2=Node$1.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName$1,this.editor.getAttributes(TextStyleName$1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=wrappingInputRule({find:inputRegex$3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wrappingInputRule({find:inputRegex$3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName$1),editor:this.editor})),[t]}}),inputRegex$2=/(^|[^`])`([^`]+)`(?!`)/,pasteRegex$1=/(^|[^`])`([^`]+)`(?!`)/g,Code$2=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$2,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock$2=Node$1.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:a}=this.options,c=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(d=>d.startsWith(a)).map(d=>d.replace(a,""))[0];return c||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",mergeAttributes(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,a=e.pos===1;return!t||e.parent.type.name!==this.name?!1:a||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:a}=e,{$from:l,empty:u}=a;if(!u||l.parent.type!==this.type)return!1;const c=l.parentOffset===l.parent.nodeSize-2,d=l.parent.textContent.endsWith(`

`);return!c||!d?!1:t.chain().command(({tr:h})=>(h.delete(l.pos-2,l.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:a,doc:l}=e,{$from:u,empty:c}=a;if(!c||u.parent.type!==this.type||!(u.parentOffset===u.parent.nodeSize-2))return!1;const h=u.after();return h===void 0?!1:l.nodeAt(h)?t.commands.command(({tr:g})=>(g.setSelection(Selection.near(l.resolve(h))),!0)):t.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:t=>({language:t[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const a=e.clipboardData.getData("text/plain"),l=e.clipboardData.getData("vscode-editor-data"),u=l?JSON.parse(l):void 0,c=u==null?void 0:u.mode;if(!a||!c)return!1;const{tr:d,schema:h}=t.state,m=h.text(a.replace(/\r\n?/g,`
`));return d.replaceSelectionWith(this.type.create({language:c},m)),d.selection.$from.parent.type!==this.type&&d.setSelection(TextSelection.near(d.doc.resolve(Math.max(0,d.selection.from-2)))),d.setMeta("paste",!0),t.dispatch(d),!0}}})]}}),Document=Node$1.create({name:"doc",topNode:!0,content:"block+"});function dropCursor(t={}){return new Plugin({view(e){return new DropCursorView(e,t)}})}class DropCursorView{constructor(e,a){var l;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(l=a.width)!==null&&l!==void 0?l:1,this.color=a.color===!1?void 0:a.color||"black",this.class=a.class,this.handlers=["dragover","dragend","drop","dragleave"].map(u=>{let c=d=>{this[u](d)};return e.dom.addEventListener(u,c),{name:u,handler:c}})}destroy(){this.handlers.forEach(({name:e,handler:a})=>this.editorView.dom.removeEventListener(e,a))}update(e,a){this.cursorPos!=null&&a.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),a=!e.parent.inlineContent,l,u=this.editorView.dom,c=u.getBoundingClientRect(),d=c.width/u.offsetWidth,h=c.height/u.offsetHeight;if(a){let b=e.nodeBefore,v=e.nodeAfter;if(b||v){let C=this.editorView.nodeDOM(this.cursorPos-(b?b.nodeSize:0));if(C){let S=C.getBoundingClientRect(),E=b?S.bottom:S.top;b&&v&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let _=this.width/2*h;l={left:S.left,right:S.right,top:E-_,bottom:E+_}}}}if(!l){let b=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*d;l={left:b.left-v,right:b.left+v,top:b.top,bottom:b.bottom}}let m=this.editorView.dom.offsetParent;this.element||(this.element=m.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",a),this.element.classList.toggle("prosemirror-dropcursor-inline",!a);let g,y;if(!m||m==document.body&&getComputedStyle(m).position=="static")g=-pageXOffset,y=-pageYOffset;else{let b=m.getBoundingClientRect(),v=b.width/m.offsetWidth,C=b.height/m.offsetHeight;g=b.left-m.scrollLeft*v,y=b.top-m.scrollTop*C}this.element.style.left=(l.left-g)/d+"px",this.element.style.top=(l.top-y)/h+"px",this.element.style.width=(l.right-l.left)/d+"px",this.element.style.height=(l.bottom-l.top)/h+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let a=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),l=a&&a.inside>=0&&this.editorView.state.doc.nodeAt(a.inside),u=l&&l.type.spec.disableDropCursor,c=typeof u=="function"?u(this.editorView,a,e):u;if(a&&!c){let d=a.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let h=dropPoint(this.editorView.state.doc,d,this.editorView.dragging.slice);h!=null&&(d=h)}this.setCursor(d),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});class GapCursor extends Selection{constructor(e){super(e,e)}map(e,a){let l=e.resolve(a.map(this.head));return GapCursor.valid(l)?new GapCursor(l):Selection.near(l)}content(){return Slice.empty}eq(e){return e instanceof GapCursor&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,a){if(typeof a.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(e.resolve(a.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(e){let a=e.parent;if(a.isTextblock||!closedBefore(e)||!closedAfter(e))return!1;let l=a.type.spec.allowGapCursor;if(l!=null)return l;let u=a.contentMatchAt(e.index()).defaultType;return u&&u.isTextblock}static findGapCursorFrom(e,a,l=!1){e:for(;;){if(!l&&GapCursor.valid(e))return e;let u=e.pos,c=null;for(let d=e.depth;;d--){let h=e.node(d);if(a>0?e.indexAfter(d)<h.childCount:e.index(d)>0){c=h.child(a>0?e.indexAfter(d):e.index(d)-1);break}else if(d==0)return null;u+=a;let m=e.doc.resolve(u);if(GapCursor.valid(m))return m}for(;;){let d=a>0?c.firstChild:c.lastChild;if(!d){if(c.isAtom&&!c.isText&&!NodeSelection.isSelectable(c)){e=e.doc.resolve(u+c.nodeSize*a),l=!1;continue e}break}c=d,u+=a;let h=e.doc.resolve(u);if(GapCursor.valid(h))return h}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(e){this.pos=e}map(e){return new GapBookmark(e.map(this.pos))}resolve(e){let a=e.resolve(this.pos);return GapCursor.valid(a)?new GapCursor(a):Selection.near(a)}}function closedBefore(t){for(let e=t.depth;e>=0;e--){let a=t.index(e),l=t.node(e);if(a==0){if(l.type.spec.isolating)return!0;continue}for(let u=l.child(a-1);;u=u.lastChild){if(u.childCount==0&&!u.inlineContent||u.isAtom||u.type.spec.isolating)return!0;if(u.inlineContent)return!1}}return!0}function closedAfter(t){for(let e=t.depth;e>=0;e--){let a=t.indexAfter(e),l=t.node(e);if(a==l.childCount){if(l.type.spec.isolating)return!0;continue}for(let u=l.child(a);;u=u.firstChild){if(u.childCount==0&&!u.inlineContent||u.isAtom||u.type.spec.isolating)return!0;if(u.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(t,e,a){return e.pos==a.pos&&GapCursor.valid(a)?new GapCursor(a):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(t,e){const a=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(l,u,c){let d=l.selection,h=e>0?d.$to:d.$from,m=d.empty;if(d instanceof TextSelection){if(!c.endOfTextblock(a)||h.depth==0)return!1;m=!1,h=l.doc.resolve(e>0?h.after():h.before())}let g=GapCursor.findGapCursorFrom(h,e,m);return g?(u&&u(l.tr.setSelection(new GapCursor(g))),!0):!1}}function handleClick(t,e,a){if(!t||!t.editable)return!1;let l=t.state.doc.resolve(e);if(!GapCursor.valid(l))return!1;let u=t.posAtCoords({left:a.clientX,top:a.clientY});return u&&u.inside>-1&&NodeSelection.isSelectable(t.state.doc.nodeAt(u.inside))?!1:(t.dispatch(t.state.tr.setSelection(new GapCursor(l))),!0)}function beforeinput(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof GapCursor))return!1;let{$from:a}=t.state.selection,l=a.parent.contentMatchAt(a.index()).findWrapping(t.state.schema.nodes.text);if(!l)return!1;let u=Fragment.empty;for(let d=l.length-1;d>=0;d--)u=Fragment.from(l[d].createAndFill(null,u));let c=t.state.tr.replace(a.pos,a.pos,new Slice(u,0,0));return c.setSelection(TextSelection.near(c.doc.resolve(a.pos+1))),t.dispatch(c),!1}function drawGapCursor(t){if(!(t.selection instanceof GapCursor))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",DecorationSet.create(t.doc,[Decoration.widget(t.selection.head,e,{key:"gapcursor"})])}const Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(t){var e;const a={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=callOrReturn(getExtensionField(t,"allowGapCursor",a)))!==null&&e!==void 0?e:null}}}),HardBreak$2=Node$1.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",mergeAttributes(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:a,editor:l})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:u,storedMarks:c}=a;if(u.$from.parent.type.spec.isolating)return!1;const{keepMarks:d}=this.options,{splittableMarks:h}=l.extensionManager,m=c||u.$to.parentOffset&&u.$from.marks();return e().insertContent({type:this.name}).command(({tr:g,dispatch:y})=>{if(y&&m&&d){const b=m.filter(v=>h.includes(v.type.name));g.ensureMarks(b)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading$2=Node$1.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var GOOD_LEAF_SIZE=200,RopeSequence=function t(){};RopeSequence.prototype.append=function t(e){return e.length?(e=RopeSequence.from(e),!this.length&&e||e.length<GOOD_LEAF_SIZE&&this.leafAppend(e)||this.length<GOOD_LEAF_SIZE&&e.leafPrepend(this)||this.appendInner(e)):this};RopeSequence.prototype.prepend=function t(e){return e.length?RopeSequence.from(e).append(this):this};RopeSequence.prototype.appendInner=function t(e){return new Append(this,e)};RopeSequence.prototype.slice=function t(e,a){return e===void 0&&(e=0),a===void 0&&(a=this.length),e>=a?RopeSequence.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,a))};RopeSequence.prototype.get=function t(e){if(!(e<0||e>=this.length))return this.getInner(e)};RopeSequence.prototype.forEach=function t(e,a,l){a===void 0&&(a=0),l===void 0&&(l=this.length),a<=l?this.forEachInner(e,a,l,0):this.forEachInvertedInner(e,a,l,0)};RopeSequence.prototype.map=function t(e,a,l){a===void 0&&(a=0),l===void 0&&(l=this.length);var u=[];return this.forEach(function(c,d){return u.push(e(c,d))},a,l),u};RopeSequence.from=function t(e){return e instanceof RopeSequence?e:e&&e.length?new Leaf(e):RopeSequence.empty};var Leaf=function(t){function e(l){t.call(this),this.values=l}e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e;var a={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(u,c){return u==0&&c==this.length?this:new e(this.values.slice(u,c))},e.prototype.getInner=function(u){return this.values[u]},e.prototype.forEachInner=function(u,c,d,h){for(var m=c;m<d;m++)if(u(this.values[m],h+m)===!1)return!1},e.prototype.forEachInvertedInner=function(u,c,d,h){for(var m=c-1;m>=d;m--)if(u(this.values[m],h+m)===!1)return!1},e.prototype.leafAppend=function(u){if(this.length+u.length<=GOOD_LEAF_SIZE)return new e(this.values.concat(u.flatten()))},e.prototype.leafPrepend=function(u){if(this.length+u.length<=GOOD_LEAF_SIZE)return new e(u.flatten().concat(this.values))},a.length.get=function(){return this.values.length},a.depth.get=function(){return 0},Object.defineProperties(e.prototype,a),e}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(t){function e(a,l){t.call(this),this.left=a,this.right=l,this.length=a.length+l.length,this.depth=Math.max(a.depth,l.depth)+1}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(l){return l<this.left.length?this.left.get(l):this.right.get(l-this.left.length)},e.prototype.forEachInner=function(l,u,c,d){var h=this.left.length;if(u<h&&this.left.forEachInner(l,u,Math.min(c,h),d)===!1||c>h&&this.right.forEachInner(l,Math.max(u-h,0),Math.min(this.length,c)-h,d+h)===!1)return!1},e.prototype.forEachInvertedInner=function(l,u,c,d){var h=this.left.length;if(u>h&&this.right.forEachInvertedInner(l,u-h,Math.max(c,h)-h,d+h)===!1||c<h&&this.left.forEachInvertedInner(l,Math.min(u,h),c,d)===!1)return!1},e.prototype.sliceInner=function(l,u){if(l==0&&u==this.length)return this;var c=this.left.length;return u<=c?this.left.slice(l,u):l>=c?this.right.slice(l-c,u-c):this.left.slice(l,c).append(this.right.slice(0,u-c))},e.prototype.leafAppend=function(l){var u=this.right.leafAppend(l);if(u)return new e(this.left,u)},e.prototype.leafPrepend=function(l){var u=this.left.leafPrepend(l);if(u)return new e(u,this.right)},e.prototype.appendInner=function(l){return this.left.depth>=Math.max(this.right.depth,l.depth)+1?new e(this.left,new e(this.right,l)):new e(this,l)},e}(RopeSequence);const max_empty_items=500;class Branch{constructor(e,a){this.items=e,this.eventCount=a}popEvent(e,a){if(this.eventCount==0)return null;let l=this.items.length;for(;;l--)if(this.items.get(l-1).selection){--l;break}let u,c;a&&(u=this.remapping(l,this.items.length),c=u.maps.length);let d=e.tr,h,m,g=[],y=[];return this.items.forEach((b,v)=>{if(!b.step){u||(u=this.remapping(l,v+1),c=u.maps.length),c--,y.push(b);return}if(u){y.push(new Item$1(b.map));let C=b.step.map(u.slice(c)),S;C&&d.maybeStep(C).doc&&(S=d.mapping.maps[d.mapping.maps.length-1],g.push(new Item$1(S,void 0,void 0,g.length+y.length))),c--,S&&u.appendMap(S,c)}else d.maybeStep(b.step);if(b.selection)return h=u?b.selection.map(u.slice(c)):b.selection,m=new Branch(this.items.slice(0,l).append(y.reverse().concat(g)),this.eventCount-1),!1},this.items.length,0),{remaining:m,transform:d,selection:h}}addTransform(e,a,l,u){let c=[],d=this.eventCount,h=this.items,m=!u&&h.length?h.get(h.length-1):null;for(let y=0;y<e.steps.length;y++){let b=e.steps[y].invert(e.docs[y]),v=new Item$1(e.mapping.maps[y],b,a),C;(C=m&&m.merge(v))&&(v=C,y?c.pop():h=h.slice(0,h.length-1)),c.push(v),a&&(d++,a=void 0),u||(m=v)}let g=d-l.depth;return g>DEPTH_OVERFLOW&&(h=cutOffEvents(h,g),d-=g),new Branch(h.append(c),d)}remapping(e,a){let l=new Mapping;return this.items.forEach((u,c)=>{let d=u.mirrorOffset!=null&&c-u.mirrorOffset>=e?l.maps.length-u.mirrorOffset:void 0;l.appendMap(u.map,d)},e,a),l}addMaps(e){return this.eventCount==0?this:new Branch(this.items.append(e.map(a=>new Item$1(a))),this.eventCount)}rebased(e,a){if(!this.eventCount)return this;let l=[],u=Math.max(0,this.items.length-a),c=e.mapping,d=e.steps.length,h=this.eventCount;this.items.forEach(v=>{v.selection&&h--},u);let m=a;this.items.forEach(v=>{let C=c.getMirror(--m);if(C==null)return;d=Math.min(d,C);let S=c.maps[C];if(v.step){let E=e.steps[C].invert(e.docs[C]),_=v.selection&&v.selection.map(c.slice(m+1,C));_&&h++,l.push(new Item$1(S,E,_))}else l.push(new Item$1(S))},u);let g=[];for(let v=a;v<d;v++)g.push(new Item$1(c.maps[v]));let y=this.items.slice(0,u).append(g).append(l),b=new Branch(y,h);return b.emptyItemCount()>max_empty_items&&(b=b.compress(this.items.length-l.length)),b}emptyItemCount(){let e=0;return this.items.forEach(a=>{a.step||e++}),e}compress(e=this.items.length){let a=this.remapping(0,e),l=a.maps.length,u=[],c=0;return this.items.forEach((d,h)=>{if(h>=e)u.push(d),d.selection&&c++;else if(d.step){let m=d.step.map(a.slice(l)),g=m&&m.getMap();if(l--,g&&a.appendMap(g,l),m){let y=d.selection&&d.selection.map(a.slice(l));y&&c++;let b=new Item$1(g.invert(),m,y),v,C=u.length-1;(v=u.length&&u[C].merge(b))?u[C]=v:u.push(b)}}else d.map&&l--},this.items.length,0),new Branch(RopeSequence.from(u.reverse()),c)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(t,e){let a;return t.forEach((l,u)=>{if(l.selection&&e--==0)return a=u,!1}),t.slice(a)}let Item$1=class Bc{constructor(e,a,l,u){this.map=e,this.step=a,this.selection=l,this.mirrorOffset=u}merge(e){if(this.step&&e.step&&!e.selection){let a=e.step.merge(this.step);if(a)return new Bc(a.getMap().invert(),a,this.selection)}}};class HistoryState{constructor(e,a,l,u,c){this.done=e,this.undone=a,this.prevRanges=l,this.prevTime=u,this.prevComposition=c}}const DEPTH_OVERFLOW=20;function applyTransaction(t,e,a,l){let u=a.getMeta(historyKey),c;if(u)return u.historyState;a.getMeta(closeHistoryKey)&&(t=new HistoryState(t.done,t.undone,null,0,-1));let d=a.getMeta("appendedTransaction");if(a.steps.length==0)return t;if(d&&d.getMeta(historyKey))return d.getMeta(historyKey).redo?new HistoryState(t.done.addTransform(a,void 0,l,mustPreserveItems(e)),t.undone,rangesFor(a.mapping.maps),t.prevTime,t.prevComposition):new HistoryState(t.done,t.undone.addTransform(a,void 0,l,mustPreserveItems(e)),null,t.prevTime,t.prevComposition);if(a.getMeta("addToHistory")!==!1&&!(d&&d.getMeta("addToHistory")===!1)){let h=a.getMeta("composition"),m=t.prevTime==0||!d&&t.prevComposition!=h&&(t.prevTime<(a.time||0)-l.newGroupDelay||!isAdjacentTo(a,t.prevRanges)),g=d?mapRanges(t.prevRanges,a.mapping):rangesFor(a.mapping.maps);return new HistoryState(t.done.addTransform(a,m?e.selection.getBookmark():void 0,l,mustPreserveItems(e)),Branch.empty,g,a.time,h??t.prevComposition)}else return(c=a.getMeta("rebased"))?new HistoryState(t.done.rebased(a,c),t.undone.rebased(a,c),mapRanges(t.prevRanges,a.mapping),t.prevTime,t.prevComposition):new HistoryState(t.done.addMaps(a.mapping.maps),t.undone.addMaps(a.mapping.maps),mapRanges(t.prevRanges,a.mapping),t.prevTime,t.prevComposition)}function isAdjacentTo(t,e){if(!e)return!1;if(!t.docChanged)return!0;let a=!1;return t.mapping.maps[0].forEach((l,u)=>{for(let c=0;c<e.length;c+=2)l<=e[c+1]&&u>=e[c]&&(a=!0)}),a}function rangesFor(t){let e=[];for(let a=t.length-1;a>=0&&e.length==0;a--)t[a].forEach((l,u,c,d)=>e.push(c,d));return e}function mapRanges(t,e){if(!t)return null;let a=[];for(let l=0;l<t.length;l+=2){let u=e.map(t[l],1),c=e.map(t[l+1],-1);u<=c&&a.push(u,c)}return a}function histTransaction(t,e,a){let l=mustPreserveItems(e),u=historyKey.get(e).spec.config,c=(a?t.undone:t.done).popEvent(e,l);if(!c)return null;let d=c.selection.resolve(c.transform.doc),h=(a?t.done:t.undone).addTransform(c.transform,e.selection.getBookmark(),u,l),m=new HistoryState(a?h:c.remaining,a?c.remaining:h,null,0,-1);return c.transform.setSelection(d).setMeta(historyKey,{redo:a,historyState:m})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(t){let e=t.plugins;if(cachedPreserveItemsPlugins!=e){cachedPreserveItems=!1,cachedPreserveItemsPlugins=e;for(let a=0;a<e.length;a++)if(e[a].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(e,a,l){return applyTransaction(a,l,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,a){let l=a.inputType,u=l=="historyUndo"?undo:l=="historyRedo"?redo:null;return u?(a.preventDefault(),u(e.state,e.dispatch)):!1}}}})}function buildCommand(t,e){return(a,l)=>{let u=historyKey.getState(a);if(!u||(t?u.undone:u.done).eventCount==0)return!1;if(l){let c=histTransaction(u,a,t);c&&l(e?c.scrollIntoView():c)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0),History=Extension.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>undo(t,e),redo:()=>({state:t,dispatch:e})=>redo(t,e)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),HorizontalRule$2=Node$1.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",mergeAttributes(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:a}=e,{$from:l,$to:u}=a,c=t();return l.parentOffset===0?c.insertContentAt({from:Math.max(l.pos-1,0),to:u.pos},{type:this.name}):isNodeSelection(a)?c.insertContentAt(u.pos,{type:this.name}):c.insertContent({type:this.name}),c.command(({tr:d,dispatch:h})=>{var m;if(h){const{$to:g}=d.selection,y=g.end();if(g.nodeAfter)g.nodeAfter.isTextblock?d.setSelection(TextSelection.create(d.doc,g.pos+1)):g.nodeAfter.isBlock?d.setSelection(NodeSelection.create(d.doc,g.pos)):d.setSelection(TextSelection.create(d.doc,g.pos));else{const b=(m=g.parent.type.contentMatch.defaultType)===null||m===void 0?void 0:m.create();b&&(d.insert(y,b),d.setSelection(TextSelection.create(d.doc,y+1)))}d.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic$2=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}}),ListItem$2=Node$1.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",mergeAttributes(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ListItemName="listItem",TextStyleName="textStyle",inputRegex$1=/^(\d+)\.\s$/,OrderedList$2=Node$1.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...a}=t;return e===1?["ol",mergeAttributes(this.options.HTMLAttributes,a),0]:["ol",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=wrappingInputRule({find:inputRegex$1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,a)=>a.childCount+a.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wrappingInputRule({find:inputRegex$1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(TextStyleName)}),joinPredicate:(e,a)=>a.childCount+a.attrs.start===+e[1],editor:this.editor})),[t]}}),Paragraph$2=Node$1.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike$2=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text$2=Node$1.create({name:"text",group:"inline"}),StarterKit=Extension.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(Bold$2.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(Blockquote$2.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(BulletList$2.configure(this.options.bulletList)),this.options.code!==!1&&t.push(Code$2.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(CodeBlock$2.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(HardBreak$2.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(Heading$2.configure(this.options.heading)),this.options.history!==!1&&t.push(History.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(HorizontalRule$2.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Italic$2.configure(this.options.italic)),this.options.listItem!==!1&&t.push(ListItem$2.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(OrderedList$2.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(Paragraph$2.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(Strike$2.configure(this.options.strike)),this.options.text!==!1&&t.push(Text$2.configure(this.options.text)),t}}),decodeCache={};function getDecodeCache(t){let e=decodeCache[t];if(e)return e;e=decodeCache[t]=[];for(let a=0;a<128;a++){const l=String.fromCharCode(a);e.push(l)}for(let a=0;a<t.length;a++){const l=t.charCodeAt(a);e[l]="%"+("0"+l.toString(16).toUpperCase()).slice(-2)}return e}function decode$1(t,e){typeof e!="string"&&(e=decode$1.defaultChars);const a=getDecodeCache(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(l){let u="";for(let c=0,d=l.length;c<d;c+=3){const h=parseInt(l.slice(c+1,c+3),16);if(h<128){u+=a[h];continue}if((h&224)===192&&c+3<d){const m=parseInt(l.slice(c+4,c+6),16);if((m&192)===128){const g=h<<6&1984|m&63;g<128?u+="":u+=String.fromCharCode(g),c+=3;continue}}if((h&240)===224&&c+6<d){const m=parseInt(l.slice(c+4,c+6),16),g=parseInt(l.slice(c+7,c+9),16);if((m&192)===128&&(g&192)===128){const y=h<<12&61440|m<<6&4032|g&63;y<2048||y>=55296&&y<=57343?u+="":u+=String.fromCharCode(y),c+=6;continue}}if((h&248)===240&&c+9<d){const m=parseInt(l.slice(c+4,c+6),16),g=parseInt(l.slice(c+7,c+9),16),y=parseInt(l.slice(c+10,c+12),16);if((m&192)===128&&(g&192)===128&&(y&192)===128){let b=h<<18&1835008|m<<12&258048|g<<6&4032|y&63;b<65536||b>1114111?u+="":(b-=65536,u+=String.fromCharCode(55296+(b>>10),56320+(b&1023))),c+=9;continue}}u+=""}return u})}decode$1.defaultChars=";/?:@&=+$,#";decode$1.componentChars="";const encodeCache={};function getEncodeCache(t){let e=encodeCache[t];if(e)return e;e=encodeCache[t]=[];for(let a=0;a<128;a++){const l=String.fromCharCode(a);/^[0-9a-z]$/i.test(l)?e.push(l):e.push("%"+("0"+a.toString(16).toUpperCase()).slice(-2))}for(let a=0;a<t.length;a++)e[t.charCodeAt(a)]=t[a];return e}function encode$1(t,e,a){typeof e!="string"&&(a=e,e=encode$1.defaultChars),typeof a>"u"&&(a=!0);const l=getEncodeCache(e);let u="";for(let c=0,d=t.length;c<d;c++){const h=t.charCodeAt(c);if(a&&h===37&&c+2<d&&/^[0-9a-f]{2}$/i.test(t.slice(c+1,c+3))){u+=t.slice(c,c+3),c+=2;continue}if(h<128){u+=l[h];continue}if(h>=55296&&h<=57343){if(h>=55296&&h<=56319&&c+1<d){const m=t.charCodeAt(c+1);if(m>=56320&&m<=57343){u+=encodeURIComponent(t[c]+t[c+1]),c++;continue}}u+="%EF%BF%BD";continue}u+=encodeURIComponent(t[c])}return u}encode$1.defaultChars=";/?:@&=+$,-_.!~*'()#";encode$1.componentChars="-_.!~*'()";function format(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(t,e){if(t&&t instanceof Url)return t;const a=new Url;return a.parse(t,e),a}Url.prototype.parse=function(t,e){let a,l,u,c=t;if(c=c.trim(),!e&&t.split("#").length===1){const g=simplePathPattern.exec(c);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}let d=protocolPattern.exec(c);if(d&&(d=d[0],a=d.toLowerCase(),this.protocol=d,c=c.substr(d.length)),(e||d||c.match(/^\/\/[^@\/]+@[^@\/]+/))&&(u=c.substr(0,2)==="//",u&&!(d&&hostlessProtocol[d])&&(c=c.substr(2),this.slashes=!0)),!hostlessProtocol[d]&&(u||d&&!slashedProtocol[d])){let g=-1;for(let S=0;S<hostEndingChars.length;S++)l=c.indexOf(hostEndingChars[S]),l!==-1&&(g===-1||l<g)&&(g=l);let y,b;g===-1?b=c.lastIndexOf("@"):b=c.lastIndexOf("@",g),b!==-1&&(y=c.slice(0,b),c=c.slice(b+1),this.auth=y),g=-1;for(let S=0;S<nonHostChars.length;S++)l=c.indexOf(nonHostChars[S]),l!==-1&&(g===-1||l<g)&&(g=l);g===-1&&(g=c.length),c[g-1]===":"&&g--;const v=c.slice(0,g);c=c.slice(g),this.parseHost(v),this.hostname=this.hostname||"";const C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C){const S=this.hostname.split(/\./);for(let E=0,_=S.length;E<_;E++){const A=S[E];if(A&&!A.match(hostnamePartPattern)){let R="";for(let k=0,M=A.length;k<M;k++)A.charCodeAt(k)>127?R+="x":R+=A[k];if(!R.match(hostnamePartPattern)){const k=S.slice(0,E),M=S.slice(E+1),D=A.match(hostnamePartStart);D&&(k.push(D[1]),M.unshift(D[2])),M.length&&(c=M.join(".")+c),this.hostname=k.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const h=c.indexOf("#");h!==-1&&(this.hash=c.substr(h),c=c.slice(0,h));const m=c.indexOf("?");return m!==-1&&(this.search=c.substr(m),c=c.slice(0,m)),c&&(this.pathname=c),slashedProtocol[a]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(t){let e=portPattern.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const mdurl=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,encode:encode$1,format,parse:urlParse},Symbol.toStringTag,{value:"Module"})),Any=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cc=/[\0-\x1F\x7F-\x9F]/,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,regex=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Z=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ucmicro=Object.freeze(Object.defineProperty({__proto__:null,Any,Cc,Cf:regex$1,P,S:regex,Z},Symbol.toStringTag,{value:"Module"})),htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var _a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$1=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function replaceCodePoint(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=decodeMap.get(t))!==null&&e!==void 0?e:t}var CharCodes;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(t){return t>=CharCodes.ZERO&&t<=CharCodes.NINE}function isHexadecimalCharacter(t){return t>=CharCodes.UPPER_A&&t<=CharCodes.UPPER_F||t>=CharCodes.LOWER_A&&t<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(t){return t>=CharCodes.UPPER_A&&t<=CharCodes.UPPER_Z||t>=CharCodes.LOWER_A&&t<=CharCodes.LOWER_Z||isNumber(t)}function isEntityInAttributeInvalidEnd(t){return t===CharCodes.EQUALS||isAsciiAlphaNumeric(t)}var EntityDecoderState;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(e,a,l){this.decodeTree=e,this.emitCodePoint=a,this.errors=l,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(e){this.decodeMode=e,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,a){switch(this.state){case EntityDecoderState.EntityStart:return e.charCodeAt(a)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(e,a+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(e,a));case EntityDecoderState.NumericStart:return this.stateNumericStart(e,a);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(e,a);case EntityDecoderState.NumericHex:return this.stateNumericHex(e,a);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(e,a)}}stateNumericStart(e,a){return a>=e.length?-1:(e.charCodeAt(a)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(e,a+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(e,a))}addToNumericResult(e,a,l,u){if(a!==l){const c=l-a;this.result=this.result*Math.pow(u,c)+parseInt(e.substr(a,c),u),this.consumed+=c}}stateNumericHex(e,a){const l=a;for(;a<e.length;){const u=e.charCodeAt(a);if(isNumber(u)||isHexadecimalCharacter(u))a+=1;else return this.addToNumericResult(e,l,a,16),this.emitNumericEntity(u,3)}return this.addToNumericResult(e,l,a,16),-1}stateNumericDecimal(e,a){const l=a;for(;a<e.length;){const u=e.charCodeAt(a);if(isNumber(u))a+=1;else return this.addToNumericResult(e,l,a,10),this.emitNumericEntity(u,2)}return this.addToNumericResult(e,l,a,10),-1}emitNumericEntity(e,a){var l;if(this.consumed<=a)return(l=this.errors)===null||l===void 0||l.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(e!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,a){const{decodeTree:l}=this;let u=l[this.treeIndex],c=(u&BinTrieFlags.VALUE_LENGTH)>>14;for(;a<e.length;a++,this.excess++){const d=e.charCodeAt(a);if(this.treeIndex=determineBranch(l,u,this.treeIndex+Math.max(1,c),d),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(c===0||isEntityInAttributeInvalidEnd(d))?0:this.emitNotTerminatedNamedEntity();if(u=l[this.treeIndex],c=(u&BinTrieFlags.VALUE_LENGTH)>>14,c!==0){if(d===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,c,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:a,decodeTree:l}=this,u=(l[a]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(a,u,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,a,l){const{decodeTree:u}=this;return this.emitCodePoint(a===1?u[e]&~BinTrieFlags.VALUE_LENGTH:u[e+1],l),a===3&&this.emitCodePoint(u[e+2],l),l}end(){var e;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(t){let e="";const a=new EntityDecoder(t,l=>e+=fromCodePoint$1(l));return function(u,c){let d=0,h=0;for(;(h=u.indexOf("&",h))>=0;){e+=u.slice(d,h),a.startEntity(c);const g=a.write(u,h+1);if(g<0){d=h+a.end();break}d=h+g,h=g===0?d+1:d}const m=e+u.slice(d);return e="",m}}function determineBranch(t,e,a,l){const u=(e&BinTrieFlags.BRANCH_LENGTH)>>7,c=e&BinTrieFlags.JUMP_TABLE;if(u===0)return c!==0&&l===c?a:-1;if(c){const m=l-c;return m<0||m>=u?-1:t[a+m]-1}let d=a,h=d+u-1;for(;d<=h;){const m=d+h>>>1,g=t[m];if(g<l)d=m+1;else if(g>l)h=m-1;else return t[m+u]}return-1}const htmlDecoder=getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);function decodeHTML(t,e=DecodingMode.Legacy){return htmlDecoder(t,e)}function _class$1(t){return Object.prototype.toString.call(t)}function isString$1(t){return _class$1(t)==="[object String]"}const _hasOwnProperty=Object.prototype.hasOwnProperty;function has(t,e){return _hasOwnProperty.call(t,e)}function assign$1(t){return Array.prototype.slice.call(arguments,1).forEach(function(a){if(a){if(typeof a!="object")throw new TypeError(a+"must be object");Object.keys(a).forEach(function(l){t[l]=a[l]})}}),t}function arrayReplaceAt(t,e,a){return[].concat(t.slice(0,e),a,t.slice(e+1))}function isValidEntityCode(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function fromCodePoint(t){if(t>65535){t-=65536;const e=55296+(t>>10),a=56320+(t&1023);return String.fromCharCode(e,a)}return String.fromCharCode(t)}const UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(t,e){if(e.charCodeAt(0)===35&&DIGITAL_ENTITY_TEST_RE.test(e)){const l=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return isValidEntityCode(l)?fromCodePoint(l):t}const a=decodeHTML(t);return a!==t?a:t}function unescapeMd(t){return t.indexOf("\\")<0?t:t.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(UNESCAPE_ALL_RE,function(e,a,l){return a||replaceEntityPattern(e,l)})}const HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(t){return HTML_REPLACEMENTS[t]}function escapeHtml(t){return HTML_ESCAPE_TEST_RE.test(t)?t.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):t}const REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE$1(t){return t.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(t){switch(t){case 9:case 32:return!0}return!1}function isWhiteSpace(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(t){return P.test(t)||regex.test(t)}function isMdAsciiPunct(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const lib={mdurl,ucmicro},utils=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt,assign:assign$1,escapeHtml,escapeRE:escapeRE$1,fromCodePoint,has,isMdAsciiPunct,isPunctChar,isSpace,isString:isString$1,isValidEntityCode,isWhiteSpace,lib,normalizeReference,unescapeAll,unescapeMd},Symbol.toStringTag,{value:"Module"}));function parseLinkLabel(t,e,a){let l,u,c,d;const h=t.posMax,m=t.pos;for(t.pos=e+1,l=1;t.pos<h;){if(c=t.src.charCodeAt(t.pos),c===93&&(l--,l===0)){u=!0;break}if(d=t.pos,t.md.inline.skipToken(t),c===91){if(d===t.pos-1)l++;else if(a)return t.pos=m,-1}}let g=-1;return u&&(g=t.pos),t.pos=m,g}function parseLinkDestination(t,e,a){let l,u=e;const c={ok:!1,pos:0,str:""};if(t.charCodeAt(u)===60){for(u++;u<a;){if(l=t.charCodeAt(u),l===10||l===60)return c;if(l===62)return c.pos=u+1,c.str=unescapeAll(t.slice(e+1,u)),c.ok=!0,c;if(l===92&&u+1<a){u+=2;continue}u++}return c}let d=0;for(;u<a&&(l=t.charCodeAt(u),!(l===32||l<32||l===127));){if(l===92&&u+1<a){if(t.charCodeAt(u+1)===32)break;u+=2;continue}if(l===40&&(d++,d>32))return c;if(l===41){if(d===0)break;d--}u++}return e===u||d!==0||(c.str=unescapeAll(t.slice(e,u)),c.pos=u,c.ok=!0),c}function parseLinkTitle(t,e,a,l){let u,c=e;const d={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(l)d.str=l.str,d.marker=l.marker;else{if(c>=a)return d;let h=t.charCodeAt(c);if(h!==34&&h!==39&&h!==40)return d;e++,c++,h===40&&(h=41),d.marker=h}for(;c<a;){if(u=t.charCodeAt(c),u===d.marker)return d.pos=c+1,d.str+=unescapeAll(t.slice(e,c)),d.ok=!0,d;if(u===40&&d.marker===41)return d;u===92&&c+1<a&&c++,c++}return d.can_continue=!0,d.str+=unescapeAll(t.slice(e,c)),d}const helpers=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination,parseLinkLabel,parseLinkTitle},Symbol.toStringTag,{value:"Module"})),default_rules={};default_rules.code_inline=function(t,e,a,l,u){const c=t[e];return"<code"+u.renderAttrs(c)+">"+escapeHtml(c.content)+"</code>"};default_rules.code_block=function(t,e,a,l,u){const c=t[e];return"<pre"+u.renderAttrs(c)+"><code>"+escapeHtml(t[e].content)+`</code></pre>
`};default_rules.fence=function(t,e,a,l,u){const c=t[e],d=c.info?unescapeAll(c.info).trim():"";let h="",m="";if(d){const y=d.split(/(\s+)/g);h=y[0],m=y.slice(2).join("")}let g;if(a.highlight?g=a.highlight(c.content,h,m)||escapeHtml(c.content):g=escapeHtml(c.content),g.indexOf("<pre")===0)return g+`
`;if(d){const y=c.attrIndex("class"),b=c.attrs?c.attrs.slice():[];y<0?b.push(["class",a.langPrefix+h]):(b[y]=b[y].slice(),b[y][1]+=" "+a.langPrefix+h);const v={attrs:b};return`<pre><code${u.renderAttrs(v)}>${g}</code></pre>
`}return`<pre><code${u.renderAttrs(c)}>${g}</code></pre>
`};default_rules.image=function(t,e,a,l,u){const c=t[e];return c.attrs[c.attrIndex("alt")][1]=u.renderInlineAsText(c.children,a,l),u.renderToken(t,e,a)};default_rules.hardbreak=function(t,e,a){return a.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(t,e,a){return a.breaks?a.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(t,e){return escapeHtml(t[e].content)};default_rules.html_block=function(t,e){return t[e].content};default_rules.html_inline=function(t,e){return t[e].content};function Renderer(){this.rules=assign$1({},default_rules)}Renderer.prototype.renderAttrs=function t(e){let a,l,u;if(!e.attrs)return"";for(u="",a=0,l=e.attrs.length;a<l;a++)u+=" "+escapeHtml(e.attrs[a][0])+'="'+escapeHtml(e.attrs[a][1])+'"';return u};Renderer.prototype.renderToken=function t(e,a,l){const u=e[a];let c="";if(u.hidden)return"";u.block&&u.nesting!==-1&&a&&e[a-1].hidden&&(c+=`
`),c+=(u.nesting===-1?"</":"<")+u.tag,c+=this.renderAttrs(u),u.nesting===0&&l.xhtmlOut&&(c+=" /");let d=!1;if(u.block&&(d=!0,u.nesting===1&&a+1<e.length)){const h=e[a+1];(h.type==="inline"||h.hidden||h.nesting===-1&&h.tag===u.tag)&&(d=!1)}return c+=d?`>
`:">",c};Renderer.prototype.renderInline=function(t,e,a){let l="";const u=this.rules;for(let c=0,d=t.length;c<d;c++){const h=t[c].type;typeof u[h]<"u"?l+=u[h](t,c,e,a,this):l+=this.renderToken(t,c,e)}return l};Renderer.prototype.renderInlineAsText=function(t,e,a){let l="";for(let u=0,c=t.length;u<c;u++)switch(t[u].type){case"text":l+=t[u].content;break;case"image":l+=this.renderInlineAsText(t[u].children,e,a);break;case"html_inline":case"html_block":l+=t[u].content;break;case"softbreak":case"hardbreak":l+=`
`;break}return l};Renderer.prototype.render=function(t,e,a){let l="";const u=this.rules;for(let c=0,d=t.length;c<d;c++){const h=t[c].type;h==="inline"?l+=this.renderInline(t[c].children,e,a):typeof u[h]<"u"?l+=u[h](t,c,e,a,this):l+=this.renderToken(t,c,e,a)}return l};function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Ruler.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(a){a.enabled&&a.alt.forEach(function(l){e.indexOf(l)<0&&e.push(l)})}),t.__cache__={},e.forEach(function(a){t.__cache__[a]=[],t.__rules__.forEach(function(l){l.enabled&&(a&&l.alt.indexOf(a)<0||t.__cache__[a].push(l.fn))})})};Ruler.prototype.at=function(t,e,a){const l=this.__find__(t),u=a||{};if(l===-1)throw new Error("Parser rule not found: "+t);this.__rules__[l].fn=e,this.__rules__[l].alt=u.alt||[],this.__cache__=null};Ruler.prototype.before=function(t,e,a,l){const u=this.__find__(t),c=l||{};if(u===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(u,0,{name:e,enabled:!0,fn:a,alt:c.alt||[]}),this.__cache__=null};Ruler.prototype.after=function(t,e,a,l){const u=this.__find__(t),c=l||{};if(u===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(u+1,0,{name:e,enabled:!0,fn:a,alt:c.alt||[]}),this.__cache__=null};Ruler.prototype.push=function(t,e,a){const l=a||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:l.alt||[]}),this.__cache__=null};Ruler.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const a=[];return t.forEach(function(l){const u=this.__find__(l);if(u<0){if(e)return;throw new Error("Rules manager: invalid rule name "+l)}this.__rules__[u].enabled=!0,a.push(l)},this),this.__cache__=null,a};Ruler.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(a){a.enabled=!1}),this.enable(t,e)};Ruler.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const a=[];return t.forEach(function(l){const u=this.__find__(l);if(u<0){if(e)return;throw new Error("Rules manager: invalid rule name "+l)}this.__rules__[u].enabled=!1,a.push(l)},this),this.__cache__=null,a};Ruler.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Token(t,e,a){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=a,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function t(e){if(!this.attrs)return-1;const a=this.attrs;for(let l=0,u=a.length;l<u;l++)if(a[l][0]===e)return l;return-1};Token.prototype.attrPush=function t(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Token.prototype.attrSet=function t(e,a){const l=this.attrIndex(e),u=[e,a];l<0?this.attrPush(u):this.attrs[l]=u};Token.prototype.attrGet=function t(e){const a=this.attrIndex(e);let l=null;return a>=0&&(l=this.attrs[a][1]),l};Token.prototype.attrJoin=function t(e,a){const l=this.attrIndex(e);l<0?this.attrPush([e,a]):this.attrs[l][1]=this.attrs[l][1]+" "+a};function StateCore(t,e,a){this.src=t,this.env=a,this.tokens=[],this.inlineMode=!1,this.md=e}StateCore.prototype.Token=Token;const NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize(t){let e;e=t.src.replace(NEWLINES_RE,`
`),e=e.replace(NULL_RE,""),t.src=e}function block(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function inline(t){const e=t.tokens;for(let a=0,l=e.length;a<l;a++){const u=e[a];u.type==="inline"&&t.md.inline.parse(u.content,t.md,t.env,u.children)}}function isLinkOpen$1(t){return/^<a[>\s]/i.test(t)}function isLinkClose$1(t){return/^<\/a\s*>/i.test(t)}function linkify$1(t){const e=t.tokens;if(t.md.options.linkify)for(let a=0,l=e.length;a<l;a++){if(e[a].type!=="inline"||!t.md.linkify.pretest(e[a].content))continue;let u=e[a].children,c=0;for(let d=u.length-1;d>=0;d--){const h=u[d];if(h.type==="link_close"){for(d--;u[d].level!==h.level&&u[d].type!=="link_open";)d--;continue}if(h.type==="html_inline"&&(isLinkOpen$1(h.content)&&c>0&&c--,isLinkClose$1(h.content)&&c++),!(c>0)&&h.type==="text"&&t.md.linkify.test(h.content)){const m=h.content;let g=t.md.linkify.match(m);const y=[];let b=h.level,v=0;g.length>0&&g[0].index===0&&d>0&&u[d-1].type==="text_special"&&(g=g.slice(1));for(let C=0;C<g.length;C++){const S=g[C].url,E=t.md.normalizeLink(S);if(!t.md.validateLink(E))continue;let _=g[C].text;g[C].schema?g[C].schema==="mailto:"&&!/^mailto:/i.test(_)?_=t.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):_=t.md.normalizeLinkText(_):_=t.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,"");const A=g[C].index;if(A>v){const D=new t.Token("text","",0);D.content=m.slice(v,A),D.level=b,y.push(D)}const R=new t.Token("link_open","a",1);R.attrs=[["href",E]],R.level=b++,R.markup="linkify",R.info="auto",y.push(R);const k=new t.Token("text","",0);k.content=_,k.level=b,y.push(k);const M=new t.Token("link_close","a",-1);M.level=--b,M.markup="linkify",M.info="auto",y.push(M),v=g[C].lastIndex}if(v<m.length){const C=new t.Token("text","",0);C.content=m.slice(v),C.level=b,y.push(C)}e[a].children=u=arrayReplaceAt(u,d,y)}}}}const RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"",r:"",tm:""};function replaceFn(t,e){return SCOPED_ABBR[e.toLowerCase()]}function replace_scoped(t){let e=0;for(let a=t.length-1;a>=0;a--){const l=t[a];l.type==="text"&&!e&&(l.content=l.content.replace(SCOPED_ABBR_RE,replaceFn)),l.type==="link_open"&&l.info==="auto"&&e--,l.type==="link_close"&&l.info==="auto"&&e++}}function replace_rare(t){let e=0;for(let a=t.length-1;a>=0;a--){const l=t[a];l.type==="text"&&!e&&RARE_RE.test(l.content)&&(l.content=l.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),l.type==="link_open"&&l.info==="auto"&&e--,l.type==="link_close"&&l.info==="auto"&&e++}}function replace(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(t.tokens[e].content)&&replace_scoped(t.tokens[e].children),RARE_RE.test(t.tokens[e].content)&&replace_rare(t.tokens[e].children))}const QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="";function replaceAt(t,e,a){return t.slice(0,e)+a+t.slice(e+1)}function process_inlines(t,e){let a;const l=[];for(let u=0;u<t.length;u++){const c=t[u],d=t[u].level;for(a=l.length-1;a>=0&&!(l[a].level<=d);a--);if(l.length=a+1,c.type!=="text")continue;let h=c.content,m=0,g=h.length;e:for(;m<g;){QUOTE_RE.lastIndex=m;const y=QUOTE_RE.exec(h);if(!y)break;let b=!0,v=!0;m=y.index+1;const C=y[0]==="'";let S=32;if(y.index-1>=0)S=h.charCodeAt(y.index-1);else for(a=u-1;a>=0&&!(t[a].type==="softbreak"||t[a].type==="hardbreak");a--)if(t[a].content){S=t[a].content.charCodeAt(t[a].content.length-1);break}let E=32;if(m<g)E=h.charCodeAt(m);else for(a=u+1;a<t.length&&!(t[a].type==="softbreak"||t[a].type==="hardbreak");a++)if(t[a].content){E=t[a].content.charCodeAt(0);break}const _=isMdAsciiPunct(S)||isPunctChar(String.fromCharCode(S)),A=isMdAsciiPunct(E)||isPunctChar(String.fromCharCode(E)),R=isWhiteSpace(S),k=isWhiteSpace(E);if(k?b=!1:A&&(R||_||(b=!1)),R?v=!1:_&&(k||A||(v=!1)),E===34&&y[0]==='"'&&S>=48&&S<=57&&(v=b=!1),b&&v&&(b=_,v=A),!b&&!v){C&&(c.content=replaceAt(c.content,y.index,APOSTROPHE));continue}if(v)for(a=l.length-1;a>=0;a--){let M=l[a];if(l[a].level<d)break;if(M.single===C&&l[a].level===d){M=l[a];let D,B;C?(D=e.md.options.quotes[2],B=e.md.options.quotes[3]):(D=e.md.options.quotes[0],B=e.md.options.quotes[1]),c.content=replaceAt(c.content,y.index,B),t[M.token].content=replaceAt(t[M.token].content,M.pos,D),m+=B.length-1,M.token===u&&(m+=D.length-1),h=c.content,g=h.length,l.length=a;continue e}}b?l.push({token:u,pos:y.index,single:C,level:d}):v&&C&&(c.content=replaceAt(c.content,y.index,APOSTROPHE))}}}function smartquotes(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!QUOTE_TEST_RE.test(t.tokens[e].content)||process_inlines(t.tokens[e].children,t)}function text_join(t){let e,a;const l=t.tokens,u=l.length;for(let c=0;c<u;c++){if(l[c].type!=="inline")continue;const d=l[c].children,h=d.length;for(e=0;e<h;e++)d[e].type==="text_special"&&(d[e].type="text");for(e=a=0;e<h;e++)d[e].type==="text"&&e+1<h&&d[e+1].type==="text"?d[e+1].content=d[e].content+d[e+1].content:(e!==a&&(d[a]=d[e]),a++);e!==a&&(d.length=a)}}const _rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replace],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler;for(let t=0;t<_rules$2.length;t++)this.ruler.push(_rules$2[t][0],_rules$2[t][1])}Core.prototype.process=function(t){const e=this.ruler.getRules("");for(let a=0,l=e.length;a<l;a++)e[a](t)};Core.prototype.State=StateCore;function StateBlock(t,e,a,l){this.src=t,this.md=e,this.env=a,this.tokens=l,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const u=this.src;for(let c=0,d=0,h=0,m=0,g=u.length,y=!1;d<g;d++){const b=u.charCodeAt(d);if(!y)if(isSpace(b)){h++,b===9?m+=4-m%4:m++;continue}else y=!0;(b===10||d===g-1)&&(b!==10&&d++,this.bMarks.push(c),this.eMarks.push(d),this.tShift.push(h),this.sCount.push(m),this.bsCount.push(0),y=!1,h=0,m=0,c=d+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(t,e,a){const l=new Token(t,e,a);return l.block=!0,a<0&&this.level--,l.level=this.level,a>0&&this.level++,this.tokens.push(l),l};StateBlock.prototype.isEmpty=function t(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};StateBlock.prototype.skipEmptyLines=function t(e){for(let a=this.lineMax;e<a&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};StateBlock.prototype.skipSpaces=function t(e){for(let a=this.src.length;e<a;e++){const l=this.src.charCodeAt(e);if(!isSpace(l))break}return e};StateBlock.prototype.skipSpacesBack=function t(e,a){if(e<=a)return e;for(;e>a;)if(!isSpace(this.src.charCodeAt(--e)))return e+1;return e};StateBlock.prototype.skipChars=function t(e,a){for(let l=this.src.length;e<l&&this.src.charCodeAt(e)===a;e++);return e};StateBlock.prototype.skipCharsBack=function t(e,a,l){if(e<=l)return e;for(;e>l;)if(a!==this.src.charCodeAt(--e))return e+1;return e};StateBlock.prototype.getLines=function t(e,a,l,u){if(e>=a)return"";const c=new Array(a-e);for(let d=0,h=e;h<a;h++,d++){let m=0;const g=this.bMarks[h];let y=g,b;for(h+1<a||u?b=this.eMarks[h]+1:b=this.eMarks[h];y<b&&m<l;){const v=this.src.charCodeAt(y);if(isSpace(v))v===9?m+=4-(m+this.bsCount[h])%4:m++;else if(y-g<this.tShift[h])m++;else break;y++}m>l?c[d]=new Array(m-l+1).join(" ")+this.src.slice(y,b):c[d]=this.src.slice(y,b)}return c.join("")};StateBlock.prototype.Token=Token;const MAX_AUTOCOMPLETED_CELLS=65536;function getLine(t,e){const a=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];return t.src.slice(a,l)}function escapedSplit(t){const e=[],a=t.length;let l=0,u=t.charCodeAt(l),c=!1,d=0,h="";for(;l<a;)u===124&&(c?(h+=t.substring(d,l-1),d=l):(e.push(h+t.substring(d,l)),h="",d=l+1)),c=u===92,l++,u=t.charCodeAt(l);return e.push(h+t.substring(d)),e}function table(t,e,a,l){if(e+2>a)return!1;let u=e+1;if(t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)return!1;let c=t.bMarks[u]+t.tShift[u];if(c>=t.eMarks[u])return!1;const d=t.src.charCodeAt(c++);if(d!==124&&d!==45&&d!==58||c>=t.eMarks[u])return!1;const h=t.src.charCodeAt(c++);if(h!==124&&h!==45&&h!==58&&!isSpace(h)||d===45&&isSpace(h))return!1;for(;c<t.eMarks[u];){const M=t.src.charCodeAt(c);if(M!==124&&M!==45&&M!==58&&!isSpace(M))return!1;c++}let m=getLine(t,e+1),g=m.split("|");const y=[];for(let M=0;M<g.length;M++){const D=g[M].trim();if(!D){if(M===0||M===g.length-1)continue;return!1}if(!/^:?-+:?$/.test(D))return!1;D.charCodeAt(D.length-1)===58?y.push(D.charCodeAt(0)===58?"center":"right"):D.charCodeAt(0)===58?y.push("left"):y.push("")}if(m=getLine(t,e).trim(),m.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;g=escapedSplit(m),g.length&&g[0]===""&&g.shift(),g.length&&g[g.length-1]===""&&g.pop();const b=g.length;if(b===0||b!==y.length)return!1;if(l)return!0;const v=t.parentType;t.parentType="table";const C=t.md.block.ruler.getRules("blockquote"),S=t.push("table_open","table",1),E=[e,0];S.map=E;const _=t.push("thead_open","thead",1);_.map=[e,e+1];const A=t.push("tr_open","tr",1);A.map=[e,e+1];for(let M=0;M<g.length;M++){const D=t.push("th_open","th",1);y[M]&&(D.attrs=[["style","text-align:"+y[M]]]);const B=t.push("inline","",0);B.content=g[M].trim(),B.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let R,k=0;for(u=e+2;u<a&&!(t.sCount[u]<t.blkIndent);u++){let M=!1;for(let B=0,U=C.length;B<U;B++)if(C[B](t,u,a,!0)){M=!0;break}if(M||(m=getLine(t,u).trim(),!m)||t.sCount[u]-t.blkIndent>=4||(g=escapedSplit(m),g.length&&g[0]===""&&g.shift(),g.length&&g[g.length-1]===""&&g.pop(),k+=b-g.length,k>MAX_AUTOCOMPLETED_CELLS))break;if(u===e+2){const B=t.push("tbody_open","tbody",1);B.map=R=[e+2,0]}const D=t.push("tr_open","tr",1);D.map=[u,u+1];for(let B=0;B<b;B++){const U=t.push("td_open","td",1);y[B]&&(U.attrs=[["style","text-align:"+y[B]]]);const T=t.push("inline","",0);T.content=g[B]?g[B].trim():"",T.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return R&&(t.push("tbody_close","tbody",-1),R[1]=u),t.push("table_close","table",-1),E[1]=u,t.parentType=v,t.line=u,!0}function code(t,e,a){if(t.sCount[e]-t.blkIndent<4)return!1;let l=e+1,u=l;for(;l<a;){if(t.isEmpty(l)){l++;continue}if(t.sCount[l]-t.blkIndent>=4){l++,u=l;continue}break}t.line=u;const c=t.push("code_block","code",0);return c.content=t.getLines(e,u,4+t.blkIndent,!1)+`
`,c.map=[e,t.line],!0}function fence(t,e,a,l){let u=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||u+3>c)return!1;const d=t.src.charCodeAt(u);if(d!==126&&d!==96)return!1;let h=u;u=t.skipChars(u,d);let m=u-h;if(m<3)return!1;const g=t.src.slice(h,u),y=t.src.slice(u,c);if(d===96&&y.indexOf(String.fromCharCode(d))>=0)return!1;if(l)return!0;let b=e,v=!1;for(;b++,!(b>=a||(u=h=t.bMarks[b]+t.tShift[b],c=t.eMarks[b],u<c&&t.sCount[b]<t.blkIndent));)if(t.src.charCodeAt(u)===d&&!(t.sCount[b]-t.blkIndent>=4)&&(u=t.skipChars(u,d),!(u-h<m)&&(u=t.skipSpaces(u),!(u<c)))){v=!0;break}m=t.sCount[e],t.line=b+(v?1:0);const C=t.push("fence","code",0);return C.info=y,C.content=t.getLines(e+1,b,m,!0),C.markup=g,C.map=[e,t.line],!0}function blockquote(t,e,a,l){let u=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];const d=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(u)!==62)return!1;if(l)return!0;const h=[],m=[],g=[],y=[],b=t.md.block.ruler.getRules("blockquote"),v=t.parentType;t.parentType="blockquote";let C=!1,S;for(S=e;S<a;S++){const k=t.sCount[S]<t.blkIndent;if(u=t.bMarks[S]+t.tShift[S],c=t.eMarks[S],u>=c)break;if(t.src.charCodeAt(u++)===62&&!k){let D=t.sCount[S]+1,B,U;t.src.charCodeAt(u)===32?(u++,D++,U=!1,B=!0):t.src.charCodeAt(u)===9?(B=!0,(t.bsCount[S]+D)%4===3?(u++,D++,U=!1):U=!0):B=!1;let T=D;for(h.push(t.bMarks[S]),t.bMarks[S]=u;u<c;){const $=t.src.charCodeAt(u);if(isSpace($))$===9?T+=4-(T+t.bsCount[S]+(U?1:0))%4:T++;else break;u++}C=u>=c,m.push(t.bsCount[S]),t.bsCount[S]=t.sCount[S]+1+(B?1:0),g.push(t.sCount[S]),t.sCount[S]=T-D,y.push(t.tShift[S]),t.tShift[S]=u-t.bMarks[S];continue}if(C)break;let M=!1;for(let D=0,B=b.length;D<B;D++)if(b[D](t,S,a,!0)){M=!0;break}if(M){t.lineMax=S,t.blkIndent!==0&&(h.push(t.bMarks[S]),m.push(t.bsCount[S]),y.push(t.tShift[S]),g.push(t.sCount[S]),t.sCount[S]-=t.blkIndent);break}h.push(t.bMarks[S]),m.push(t.bsCount[S]),y.push(t.tShift[S]),g.push(t.sCount[S]),t.sCount[S]=-1}const E=t.blkIndent;t.blkIndent=0;const _=t.push("blockquote_open","blockquote",1);_.markup=">";const A=[e,0];_.map=A,t.md.block.tokenize(t,e,S);const R=t.push("blockquote_close","blockquote",-1);R.markup=">",t.lineMax=d,t.parentType=v,A[1]=t.line;for(let k=0;k<y.length;k++)t.bMarks[k+e]=h[k],t.tShift[k+e]=y[k],t.sCount[k+e]=g[k],t.bsCount[k+e]=m[k];return t.blkIndent=E,!0}function hr(t,e,a,l){const u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let c=t.bMarks[e]+t.tShift[e];const d=t.src.charCodeAt(c++);if(d!==42&&d!==45&&d!==95)return!1;let h=1;for(;c<u;){const g=t.src.charCodeAt(c++);if(g!==d&&!isSpace(g))return!1;g===d&&h++}if(h<3)return!1;if(l)return!0;t.line=e+1;const m=t.push("hr","hr",0);return m.map=[e,t.line],m.markup=Array(h+1).join(String.fromCharCode(d)),!0}function skipBulletListMarker(t,e){const a=t.eMarks[e];let l=t.bMarks[e]+t.tShift[e];const u=t.src.charCodeAt(l++);if(u!==42&&u!==45&&u!==43)return-1;if(l<a){const c=t.src.charCodeAt(l);if(!isSpace(c))return-1}return l}function skipOrderedListMarker(t,e){const a=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];let u=a;if(u+1>=l)return-1;let c=t.src.charCodeAt(u++);if(c<48||c>57)return-1;for(;;){if(u>=l)return-1;if(c=t.src.charCodeAt(u++),c>=48&&c<=57){if(u-a>=10)return-1;continue}if(c===41||c===46)break;return-1}return u<l&&(c=t.src.charCodeAt(u),!isSpace(c))?-1:u}function markTightParagraphs(t,e){const a=t.level+2;for(let l=e+2,u=t.tokens.length-2;l<u;l++)t.tokens[l].level===a&&t.tokens[l].type==="paragraph_open"&&(t.tokens[l+2].hidden=!0,t.tokens[l].hidden=!0,l+=2)}function list(t,e,a,l){let u,c,d,h,m=e,g=!0;if(t.sCount[m]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[m]-t.listIndent>=4&&t.sCount[m]<t.blkIndent)return!1;let y=!1;l&&t.parentType==="paragraph"&&t.sCount[m]>=t.blkIndent&&(y=!0);let b,v,C;if((C=skipOrderedListMarker(t,m))>=0){if(b=!0,d=t.bMarks[m]+t.tShift[m],v=Number(t.src.slice(d,C-1)),y&&v!==1)return!1}else if((C=skipBulletListMarker(t,m))>=0)b=!1;else return!1;if(y&&t.skipSpaces(C)>=t.eMarks[m])return!1;if(l)return!0;const S=t.src.charCodeAt(C-1),E=t.tokens.length;b?(h=t.push("ordered_list_open","ol",1),v!==1&&(h.attrs=[["start",v]])):h=t.push("bullet_list_open","ul",1);const _=[m,0];h.map=_,h.markup=String.fromCharCode(S);let A=!1;const R=t.md.block.ruler.getRules("list"),k=t.parentType;for(t.parentType="list";m<a;){c=C,u=t.eMarks[m];const M=t.sCount[m]+C-(t.bMarks[m]+t.tShift[m]);let D=M;for(;c<u;){const Te=t.src.charCodeAt(c);if(Te===9)D+=4-(D+t.bsCount[m])%4;else if(Te===32)D++;else break;c++}const B=c;let U;B>=u?U=1:U=D-M,U>4&&(U=1);const T=M+U;h=t.push("list_item_open","li",1),h.markup=String.fromCharCode(S);const $=[m,0];h.map=$,b&&(h.info=t.src.slice(d,C-1));const G=t.tight,ue=t.tShift[m],te=t.sCount[m],Se=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=T,t.tight=!0,t.tShift[m]=B-t.bMarks[m],t.sCount[m]=D,B>=u&&t.isEmpty(m+1)?t.line=Math.min(t.line+2,a):t.md.block.tokenize(t,m,a,!0),(!t.tight||A)&&(g=!1),A=t.line-m>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=Se,t.tShift[m]=ue,t.sCount[m]=te,t.tight=G,h=t.push("list_item_close","li",-1),h.markup=String.fromCharCode(S),m=t.line,$[1]=m,m>=a||t.sCount[m]<t.blkIndent||t.sCount[m]-t.blkIndent>=4)break;let he=!1;for(let Te=0,ve=R.length;Te<ve;Te++)if(R[Te](t,m,a,!0)){he=!0;break}if(he)break;if(b){if(C=skipOrderedListMarker(t,m),C<0)break;d=t.bMarks[m]+t.tShift[m]}else if(C=skipBulletListMarker(t,m),C<0)break;if(S!==t.src.charCodeAt(C-1))break}return b?h=t.push("ordered_list_close","ol",-1):h=t.push("bullet_list_close","ul",-1),h.markup=String.fromCharCode(S),_[1]=m,t.line=m,t.parentType=k,g&&markTightParagraphs(t,E),!0}function reference(t,e,a,l){let u=t.bMarks[e]+t.tShift[e],c=t.eMarks[e],d=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(u)!==91)return!1;function h(R){const k=t.lineMax;if(R>=k||t.isEmpty(R))return null;let M=!1;if(t.sCount[R]-t.blkIndent>3&&(M=!0),t.sCount[R]<0&&(M=!0),!M){const U=t.md.block.ruler.getRules("reference"),T=t.parentType;t.parentType="reference";let $=!1;for(let G=0,ue=U.length;G<ue;G++)if(U[G](t,R,k,!0)){$=!0;break}if(t.parentType=T,$)return null}const D=t.bMarks[R]+t.tShift[R],B=t.eMarks[R];return t.src.slice(D,B+1)}let m=t.src.slice(u,c+1);c=m.length;let g=-1;for(u=1;u<c;u++){const R=m.charCodeAt(u);if(R===91)return!1;if(R===93){g=u;break}else if(R===10){const k=h(d);k!==null&&(m+=k,c=m.length,d++)}else if(R===92&&(u++,u<c&&m.charCodeAt(u)===10)){const k=h(d);k!==null&&(m+=k,c=m.length,d++)}}if(g<0||m.charCodeAt(g+1)!==58)return!1;for(u=g+2;u<c;u++){const R=m.charCodeAt(u);if(R===10){const k=h(d);k!==null&&(m+=k,c=m.length,d++)}else if(!isSpace(R))break}const y=t.md.helpers.parseLinkDestination(m,u,c);if(!y.ok)return!1;const b=t.md.normalizeLink(y.str);if(!t.md.validateLink(b))return!1;u=y.pos;const v=u,C=d,S=u;for(;u<c;u++){const R=m.charCodeAt(u);if(R===10){const k=h(d);k!==null&&(m+=k,c=m.length,d++)}else if(!isSpace(R))break}let E=t.md.helpers.parseLinkTitle(m,u,c);for(;E.can_continue;){const R=h(d);if(R===null)break;m+=R,u=c,c=m.length,d++,E=t.md.helpers.parseLinkTitle(m,u,c,E)}let _;for(u<c&&S!==u&&E.ok?(_=E.str,u=E.pos):(_="",u=v,d=C);u<c;){const R=m.charCodeAt(u);if(!isSpace(R))break;u++}if(u<c&&m.charCodeAt(u)!==10&&_)for(_="",u=v,d=C;u<c;){const R=m.charCodeAt(u);if(!isSpace(R))break;u++}if(u<c&&m.charCodeAt(u)!==10)return!1;const A=normalizeReference(m.slice(1,g));return A?(l||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[A]>"u"&&(t.env.references[A]={title:_,href:b}),t.line=d),!0):!1}const block_names=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")"),HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(t,e,a,l){let u=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(u)!==60)return!1;let d=t.src.slice(u,c),h=0;for(;h<HTML_SEQUENCES.length&&!HTML_SEQUENCES[h][0].test(d);h++);if(h===HTML_SEQUENCES.length)return!1;if(l)return HTML_SEQUENCES[h][2];let m=e+1;if(!HTML_SEQUENCES[h][1].test(d)){for(;m<a&&!(t.sCount[m]<t.blkIndent);m++)if(u=t.bMarks[m]+t.tShift[m],c=t.eMarks[m],d=t.src.slice(u,c),HTML_SEQUENCES[h][1].test(d)){d.length!==0&&m++;break}}t.line=m;const g=t.push("html_block","",0);return g.map=[e,m],g.content=t.getLines(e,m,t.blkIndent,!0),!0}function heading(t,e,a,l){let u=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let d=t.src.charCodeAt(u);if(d!==35||u>=c)return!1;let h=1;for(d=t.src.charCodeAt(++u);d===35&&u<c&&h<=6;)h++,d=t.src.charCodeAt(++u);if(h>6||u<c&&!isSpace(d))return!1;if(l)return!0;c=t.skipSpacesBack(c,u);const m=t.skipCharsBack(c,35,u);m>u&&isSpace(t.src.charCodeAt(m-1))&&(c=m),t.line=e+1;const g=t.push("heading_open","h"+String(h),1);g.markup="########".slice(0,h),g.map=[e,t.line];const y=t.push("inline","",0);y.content=t.src.slice(u,c).trim(),y.map=[e,t.line],y.children=[];const b=t.push("heading_close","h"+String(h),-1);return b.markup="########".slice(0,h),!0}function lheading(t,e,a){const l=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const u=t.parentType;t.parentType="paragraph";let c=0,d,h=e+1;for(;h<a&&!t.isEmpty(h);h++){if(t.sCount[h]-t.blkIndent>3)continue;if(t.sCount[h]>=t.blkIndent){let C=t.bMarks[h]+t.tShift[h];const S=t.eMarks[h];if(C<S&&(d=t.src.charCodeAt(C),(d===45||d===61)&&(C=t.skipChars(C,d),C=t.skipSpaces(C),C>=S))){c=d===61?1:2;break}}if(t.sCount[h]<0)continue;let v=!1;for(let C=0,S=l.length;C<S;C++)if(l[C](t,h,a,!0)){v=!0;break}if(v)break}if(!c)return!1;const m=t.getLines(e,h,t.blkIndent,!1).trim();t.line=h+1;const g=t.push("heading_open","h"+String(c),1);g.markup=String.fromCharCode(d),g.map=[e,t.line];const y=t.push("inline","",0);y.content=m,y.map=[e,t.line-1],y.children=[];const b=t.push("heading_close","h"+String(c),-1);return b.markup=String.fromCharCode(d),t.parentType=u,!0}function paragraph(t,e,a){const l=t.md.block.ruler.getRules("paragraph"),u=t.parentType;let c=e+1;for(t.parentType="paragraph";c<a&&!t.isEmpty(c);c++){if(t.sCount[c]-t.blkIndent>3||t.sCount[c]<0)continue;let g=!1;for(let y=0,b=l.length;y<b;y++)if(l[y](t,c,a,!0)){g=!0;break}if(g)break}const d=t.getLines(e,c,t.blkIndent,!1).trim();t.line=c;const h=t.push("paragraph_open","p",1);h.map=[e,t.line];const m=t.push("inline","",0);return m.content=d,m.map=[e,t.line],m.children=[],t.push("paragraph_close","p",-1),t.parentType=u,!0}const _rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock(){this.ruler=new Ruler;for(let t=0;t<_rules$1.length;t++)this.ruler.push(_rules$1[t][0],_rules$1[t][1],{alt:(_rules$1[t][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(t,e,a){const l=this.ruler.getRules(""),u=l.length,c=t.md.options.maxNesting;let d=e,h=!1;for(;d<a&&(t.line=d=t.skipEmptyLines(d),!(d>=a||t.sCount[d]<t.blkIndent));){if(t.level>=c){t.line=a;break}const m=t.line;let g=!1;for(let y=0;y<u;y++)if(g=l[y](t,d,a,!1),g){if(m>=t.line)throw new Error("block rule didn't increment state.line");break}if(!g)throw new Error("none of the block rules matched");t.tight=!h,t.isEmpty(t.line-1)&&(h=!0),d=t.line,d<a&&t.isEmpty(d)&&(h=!0,d++,t.line=d)}};ParserBlock.prototype.parse=function(t,e,a,l){if(!t)return;const u=new this.State(t,e,a,l);this.tokenize(u,u.line,u.lineMax)};ParserBlock.prototype.State=StateBlock;function StateInline(t,e,a,l){this.src=t,this.env=a,this.md=e,this.tokens=l,this.tokens_meta=Array(l.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){const t=new Token("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};StateInline.prototype.push=function(t,e,a){this.pending&&this.pushPending();const l=new Token(t,e,a);let u=null;return a<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),l.level=this.level,a>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],u={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(l),this.tokens_meta.push(u),l};StateInline.prototype.scanDelims=function(t,e){const a=this.posMax,l=this.src.charCodeAt(t),u=t>0?this.src.charCodeAt(t-1):32;let c=t;for(;c<a&&this.src.charCodeAt(c)===l;)c++;const d=c-t,h=c<a?this.src.charCodeAt(c):32,m=isMdAsciiPunct(u)||isPunctChar(String.fromCharCode(u)),g=isMdAsciiPunct(h)||isPunctChar(String.fromCharCode(h)),y=isWhiteSpace(u),b=isWhiteSpace(h),v=!b&&(!g||y||m),C=!y&&(!m||b||g);return{can_open:v&&(e||!C||m),can_close:C&&(e||!v||g),length:d}};StateInline.prototype.Token=Token;function isTerminatorChar(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text(t,e){let a=t.pos;for(;a<t.posMax&&!isTerminatorChar(t.src.charCodeAt(a));)a++;return a===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,a)),t.pos=a,!0)}const SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const a=t.pos,l=t.posMax;if(a+3>l||t.src.charCodeAt(a)!==58||t.src.charCodeAt(a+1)!==47||t.src.charCodeAt(a+2)!==47)return!1;const u=t.pending.match(SCHEME_RE);if(!u)return!1;const c=u[1],d=t.md.linkify.matchAtStart(t.src.slice(a-c.length));if(!d)return!1;let h=d.url;if(h.length<=c.length)return!1;h=h.replace(/\*+$/,"");const m=t.md.normalizeLink(h);if(!t.md.validateLink(m))return!1;if(!e){t.pending=t.pending.slice(0,-c.length);const g=t.push("link_open","a",1);g.attrs=[["href",m]],g.markup="linkify",g.info="auto";const y=t.push("text","",0);y.content=t.md.normalizeLinkText(h);const b=t.push("link_close","a",-1);b.markup="linkify",b.info="auto"}return t.pos+=h.length-c.length,!0}function newline(t,e){let a=t.pos;if(t.src.charCodeAt(a)!==10)return!1;const l=t.pending.length-1,u=t.posMax;if(!e)if(l>=0&&t.pending.charCodeAt(l)===32)if(l>=1&&t.pending.charCodeAt(l-1)===32){let c=l-1;for(;c>=1&&t.pending.charCodeAt(c-1)===32;)c--;t.pending=t.pending.slice(0,c),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(a++;a<u&&isSpace(t.src.charCodeAt(a));)a++;return t.pos=a,!0}const ESCAPED=[];for(let t=0;t<256;t++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){ESCAPED[t.charCodeAt(0)]=1});function escape$1(t,e){let a=t.pos;const l=t.posMax;if(t.src.charCodeAt(a)!==92||(a++,a>=l))return!1;let u=t.src.charCodeAt(a);if(u===10){for(e||t.push("hardbreak","br",0),a++;a<l&&(u=t.src.charCodeAt(a),!!isSpace(u));)a++;return t.pos=a,!0}let c=t.src[a];if(u>=55296&&u<=56319&&a+1<l){const h=t.src.charCodeAt(a+1);h>=56320&&h<=57343&&(c+=t.src[a+1],a++)}const d="\\"+c;if(!e){const h=t.push("text_special","",0);u<256&&ESCAPED[u]!==0?h.content=c:h.content=d,h.markup=d,h.info="escape"}return t.pos=a+1,!0}function backtick(t,e){let a=t.pos;if(t.src.charCodeAt(a)!==96)return!1;const u=a;a++;const c=t.posMax;for(;a<c&&t.src.charCodeAt(a)===96;)a++;const d=t.src.slice(u,a),h=d.length;if(t.backticksScanned&&(t.backticks[h]||0)<=u)return e||(t.pending+=d),t.pos+=h,!0;let m=a,g;for(;(g=t.src.indexOf("`",m))!==-1;){for(m=g+1;m<c&&t.src.charCodeAt(m)===96;)m++;const y=m-g;if(y===h){if(!e){const b=t.push("code_inline","code",0);b.markup=d,b.content=t.src.slice(a,g).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=m,!0}t.backticks[y]=g}return t.backticksScanned=!0,e||(t.pending+=d),t.pos+=h,!0}function strikethrough_tokenize(t,e){const a=t.pos,l=t.src.charCodeAt(a);if(e||l!==126)return!1;const u=t.scanDelims(t.pos,!0);let c=u.length;const d=String.fromCharCode(l);if(c<2)return!1;let h;c%2&&(h=t.push("text","",0),h.content=d,c--);for(let m=0;m<c;m+=2)h=t.push("text","",0),h.content=d+d,t.delimiters.push({marker:l,length:0,token:t.tokens.length-1,end:-1,open:u.can_open,close:u.can_close});return t.pos+=u.length,!0}function postProcess$1(t,e){let a;const l=[],u=e.length;for(let c=0;c<u;c++){const d=e[c];if(d.marker!==126||d.end===-1)continue;const h=e[d.end];a=t.tokens[d.token],a.type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",a=t.tokens[h.token],a.type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="",t.tokens[h.token-1].type==="text"&&t.tokens[h.token-1].content==="~"&&l.push(h.token-1)}for(;l.length;){const c=l.pop();let d=c+1;for(;d<t.tokens.length&&t.tokens[d].type==="s_close";)d++;d--,c!==d&&(a=t.tokens[d],t.tokens[d]=t.tokens[c],t.tokens[c]=a)}}function strikethrough_postProcess(t){const e=t.tokens_meta,a=t.tokens_meta.length;postProcess$1(t,t.delimiters);for(let l=0;l<a;l++)e[l]&&e[l].delimiters&&postProcess$1(t,e[l].delimiters)}const r_strikethrough={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(t,e){const a=t.pos,l=t.src.charCodeAt(a);if(e||l!==95&&l!==42)return!1;const u=t.scanDelims(t.pos,l===42);for(let c=0;c<u.length;c++){const d=t.push("text","",0);d.content=String.fromCharCode(l),t.delimiters.push({marker:l,length:u.length,token:t.tokens.length-1,end:-1,open:u.can_open,close:u.can_close})}return t.pos+=u.length,!0}function postProcess(t,e){const a=e.length;for(let l=a-1;l>=0;l--){const u=e[l];if(u.marker!==95&&u.marker!==42||u.end===-1)continue;const c=e[u.end],d=l>0&&e[l-1].end===u.end+1&&e[l-1].marker===u.marker&&e[l-1].token===u.token-1&&e[u.end+1].token===c.token+1,h=String.fromCharCode(u.marker),m=t.tokens[u.token];m.type=d?"strong_open":"em_open",m.tag=d?"strong":"em",m.nesting=1,m.markup=d?h+h:h,m.content="";const g=t.tokens[c.token];g.type=d?"strong_close":"em_close",g.tag=d?"strong":"em",g.nesting=-1,g.markup=d?h+h:h,g.content="",d&&(t.tokens[e[l-1].token].content="",t.tokens[e[u.end+1].token].content="",l--)}}function emphasis_post_process(t){const e=t.tokens_meta,a=t.tokens_meta.length;postProcess(t,t.delimiters);for(let l=0;l<a;l++)e[l]&&e[l].delimiters&&postProcess(t,e[l].delimiters)}const r_emphasis={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link(t,e){let a,l,u,c,d="",h="",m=t.pos,g=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const y=t.pos,b=t.posMax,v=t.pos+1,C=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(C<0)return!1;let S=C+1;if(S<b&&t.src.charCodeAt(S)===40){for(g=!1,S++;S<b&&(a=t.src.charCodeAt(S),!(!isSpace(a)&&a!==10));S++);if(S>=b)return!1;if(m=S,u=t.md.helpers.parseLinkDestination(t.src,S,t.posMax),u.ok){for(d=t.md.normalizeLink(u.str),t.md.validateLink(d)?S=u.pos:d="",m=S;S<b&&(a=t.src.charCodeAt(S),!(!isSpace(a)&&a!==10));S++);if(u=t.md.helpers.parseLinkTitle(t.src,S,t.posMax),S<b&&m!==S&&u.ok)for(h=u.str,S=u.pos;S<b&&(a=t.src.charCodeAt(S),!(!isSpace(a)&&a!==10));S++);}(S>=b||t.src.charCodeAt(S)!==41)&&(g=!0),S++}if(g){if(typeof t.env.references>"u")return!1;if(S<b&&t.src.charCodeAt(S)===91?(m=S+1,S=t.md.helpers.parseLinkLabel(t,S),S>=0?l=t.src.slice(m,S++):S=C+1):S=C+1,l||(l=t.src.slice(v,C)),c=t.env.references[normalizeReference(l)],!c)return t.pos=y,!1;d=c.href,h=c.title}if(!e){t.pos=v,t.posMax=C;const E=t.push("link_open","a",1),_=[["href",d]];E.attrs=_,h&&_.push(["title",h]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=S,t.posMax=b,!0}function image(t,e){let a,l,u,c,d,h,m,g,y="";const b=t.pos,v=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const C=t.pos+2,S=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(S<0)return!1;if(c=S+1,c<v&&t.src.charCodeAt(c)===40){for(c++;c<v&&(a=t.src.charCodeAt(c),!(!isSpace(a)&&a!==10));c++);if(c>=v)return!1;for(g=c,h=t.md.helpers.parseLinkDestination(t.src,c,t.posMax),h.ok&&(y=t.md.normalizeLink(h.str),t.md.validateLink(y)?c=h.pos:y=""),g=c;c<v&&(a=t.src.charCodeAt(c),!(!isSpace(a)&&a!==10));c++);if(h=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<v&&g!==c&&h.ok)for(m=h.str,c=h.pos;c<v&&(a=t.src.charCodeAt(c),!(!isSpace(a)&&a!==10));c++);else m="";if(c>=v||t.src.charCodeAt(c)!==41)return t.pos=b,!1;c++}else{if(typeof t.env.references>"u")return!1;if(c<v&&t.src.charCodeAt(c)===91?(g=c+1,c=t.md.helpers.parseLinkLabel(t,c),c>=0?u=t.src.slice(g,c++):c=S+1):c=S+1,u||(u=t.src.slice(C,S)),d=t.env.references[normalizeReference(u)],!d)return t.pos=b,!1;y=d.href,m=d.title}if(!e){l=t.src.slice(C,S);const E=[];t.md.inline.parse(l,t.md,t.env,E);const _=t.push("image","img",0),A=[["src",y],["alt",""]];_.attrs=A,_.children=E,_.content=l,m&&A.push(["title",m])}return t.pos=c,t.posMax=v,!0}const EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink(t,e){let a=t.pos;if(t.src.charCodeAt(a)!==60)return!1;const l=t.pos,u=t.posMax;for(;;){if(++a>=u)return!1;const d=t.src.charCodeAt(a);if(d===60)return!1;if(d===62)break}const c=t.src.slice(l+1,a);if(AUTOLINK_RE.test(c)){const d=t.md.normalizeLink(c);if(!t.md.validateLink(d))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",d]],h.markup="autolink",h.info="auto";const m=t.push("text","",0);m.content=t.md.normalizeLinkText(c);const g=t.push("link_close","a",-1);g.markup="autolink",g.info="auto"}return t.pos+=c.length+2,!0}if(EMAIL_RE.test(c)){const d=t.md.normalizeLink("mailto:"+c);if(!t.md.validateLink(d))return!1;if(!e){const h=t.push("link_open","a",1);h.attrs=[["href",d]],h.markup="autolink",h.info="auto";const m=t.push("text","",0);m.content=t.md.normalizeLinkText(c);const g=t.push("link_close","a",-1);g.markup="autolink",g.info="auto"}return t.pos+=c.length+2,!0}return!1}function isLinkOpen(t){return/^<a[>\s]/i.test(t)}function isLinkClose(t){return/^<\/a\s*>/i.test(t)}function isLetter(t){const e=t|32;return e>=97&&e<=122}function html_inline(t,e){if(!t.md.options.html)return!1;const a=t.posMax,l=t.pos;if(t.src.charCodeAt(l)!==60||l+2>=a)return!1;const u=t.src.charCodeAt(l+1);if(u!==33&&u!==63&&u!==47&&!isLetter(u))return!1;const c=t.src.slice(l).match(HTML_TAG_RE);if(!c)return!1;if(!e){const d=t.push("html_inline","",0);d.content=c[0],isLinkOpen(d.content)&&t.linkLevel++,isLinkClose(d.content)&&t.linkLevel--}return t.pos+=c[0].length,!0}const DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(t,e){const a=t.pos,l=t.posMax;if(t.src.charCodeAt(a)!==38||a+1>=l)return!1;if(t.src.charCodeAt(a+1)===35){const c=t.src.slice(a).match(DIGITAL_RE);if(c){if(!e){const d=c[1][0].toLowerCase()==="x"?parseInt(c[1].slice(1),16):parseInt(c[1],10),h=t.push("text_special","",0);h.content=isValidEntityCode(d)?fromCodePoint(d):fromCodePoint(65533),h.markup=c[0],h.info="entity"}return t.pos+=c[0].length,!0}}else{const c=t.src.slice(a).match(NAMED_RE);if(c){const d=decodeHTML(c[0]);if(d!==c[0]){if(!e){const h=t.push("text_special","",0);h.content=d,h.markup=c[0],h.info="entity"}return t.pos+=c[0].length,!0}}}return!1}function processDelimiters(t){const e={},a=t.length;if(!a)return;let l=0,u=-2;const c=[];for(let d=0;d<a;d++){const h=t[d];if(c.push(0),(t[l].marker!==h.marker||u!==h.token-1)&&(l=d),u=h.token,h.length=h.length||0,!h.close)continue;e.hasOwnProperty(h.marker)||(e[h.marker]=[-1,-1,-1,-1,-1,-1]);const m=e[h.marker][(h.open?3:0)+h.length%3];let g=l-c[l]-1,y=g;for(;g>m;g-=c[g]+1){const b=t[g];if(b.marker===h.marker&&b.open&&b.end<0){let v=!1;if((b.close||h.open)&&(b.length+h.length)%3===0&&(b.length%3!==0||h.length%3!==0)&&(v=!0),!v){const C=g>0&&!t[g-1].open?c[g-1]+1:0;c[d]=d-g+C,c[g]=C,h.open=!1,b.end=d,b.close=!1,y=-1,u=-2;break}}}y!==-1&&(e[h.marker][(h.open?3:0)+(h.length||0)%3]=y)}}function link_pairs(t){const e=t.tokens_meta,a=t.tokens_meta.length;processDelimiters(t.delimiters);for(let l=0;l<a;l++)e[l]&&e[l].delimiters&&processDelimiters(e[l].delimiters)}function fragments_join(t){let e,a,l=0;const u=t.tokens,c=t.tokens.length;for(e=a=0;e<c;e++)u[e].nesting<0&&l--,u[e].level=l,u[e].nesting>0&&l++,u[e].type==="text"&&e+1<c&&u[e+1].type==="text"?u[e+1].content=u[e].content+u[e+1].content:(e!==a&&(u[a]=u[e]),a++);e!==a&&(u.length=a)}const _rules=[["text",text],["linkify",linkify],["newline",newline],["escape",escape$1],["backticks",backtick],["strikethrough",r_strikethrough.tokenize],["emphasis",r_emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",link_pairs],["strikethrough",r_strikethrough.postProcess],["emphasis",r_emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new Ruler;for(let t=0;t<_rules.length;t++)this.ruler.push(_rules[t][0],_rules[t][1]);this.ruler2=new Ruler;for(let t=0;t<_rules2.length;t++)this.ruler2.push(_rules2[t][0],_rules2[t][1])}ParserInline.prototype.skipToken=function(t){const e=t.pos,a=this.ruler.getRules(""),l=a.length,u=t.md.options.maxNesting,c=t.cache;if(typeof c[e]<"u"){t.pos=c[e];return}let d=!1;if(t.level<u){for(let h=0;h<l;h++)if(t.level++,d=a[h](t,!0),t.level--,d){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;d||t.pos++,c[e]=t.pos};ParserInline.prototype.tokenize=function(t){const e=this.ruler.getRules(""),a=e.length,l=t.posMax,u=t.md.options.maxNesting;for(;t.pos<l;){const c=t.pos;let d=!1;if(t.level<u){for(let h=0;h<a;h++)if(d=e[h](t,!1),d){if(c>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(d){if(t.pos>=l)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};ParserInline.prototype.parse=function(t,e,a,l){const u=new this.State(t,e,a,l);this.tokenize(u);const c=this.ruler2.getRules(""),d=c.length;for(let h=0;h<d;h++)c[h](u)};ParserInline.prototype.State=StateInline;function reFactory(t){const e={};t=t||{},e.src_Any=Any.source,e.src_Cc=Cc.source,e.src_Z=Z.source,e.src_P=P.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const a="[><]";return e.src_pseudo_letter="(?:(?!"+a+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+a+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+a+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+a+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function assign(t){return Array.prototype.slice.call(arguments,1).forEach(function(a){a&&Object.keys(a).forEach(function(l){t[l]=a[l]})}),t}function _class(t){return Object.prototype.toString.call(t)}function isString(t){return _class(t)==="[object String]"}function isObject(t){return _class(t)==="[object Object]"}function isRegExp(t){return _class(t)==="[object RegExp]"}function isFunction$2(t){return _class(t)==="[object Function]"}function escapeRE(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(t){return Object.keys(t||{}).reduce(function(e,a){return e||defaultOptions.hasOwnProperty(a)},!1)}const defaultSchemas={"http:":{validate:function(t,e,a){const l=t.slice(e);return a.re.http||(a.re.http=new RegExp("^\\/\\/"+a.re.src_auth+a.re.src_host_port_strict+a.re.src_path,"i")),a.re.http.test(l)?l.match(a.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,a){const l=t.slice(e);return a.re.no_http||(a.re.no_http=new RegExp("^"+a.re.src_auth+"(?:localhost|(?:(?:"+a.re.src_domain+")\\.)+"+a.re.src_domain_root+")"+a.re.src_port+a.re.src_host_terminator+a.re.src_path,"i")),a.re.no_http.test(l)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:l.match(a.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,a){const l=t.slice(e);return a.re.mailto||(a.re.mailto=new RegExp("^"+a.re.src_email_name+"@"+a.re.src_host_strict,"i")),a.re.mailto.test(l)?l.match(a.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function resetScanCache(t){t.__index__=-1,t.__text_cache__=""}function createValidator(t){return function(e,a){const l=e.slice(a);return t.test(l)?l.match(t)[0].length:0}}function createNormalizer(){return function(t,e){e.normalize(t)}}function compile(t){const e=t.re=reFactory(t.__opts__),a=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||a.push(tlds_2ch_src_re),a.push(e.src_xn),e.src_tlds=a.join("|");function l(h){return h.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(l(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(l(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(l(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(l(e.tpl_host_fuzzy_test),"i");const u=[];t.__compiled__={};function c(h,m){throw new Error('(LinkifyIt) Invalid schema "'+h+'": '+m)}Object.keys(t.__schemas__).forEach(function(h){const m=t.__schemas__[h];if(m===null)return;const g={validate:null,link:null};if(t.__compiled__[h]=g,isObject(m)){isRegExp(m.validate)?g.validate=createValidator(m.validate):isFunction$2(m.validate)?g.validate=m.validate:c(h,m),isFunction$2(m.normalize)?g.normalize=m.normalize:m.normalize?c(h,m):g.normalize=createNormalizer();return}if(isString(m)){u.push(h);return}c(h,m)}),u.forEach(function(h){t.__compiled__[t.__schemas__[h]]&&(t.__compiled__[h].validate=t.__compiled__[t.__schemas__[h]].validate,t.__compiled__[h].normalize=t.__compiled__[t.__schemas__[h]].normalize)}),t.__compiled__[""]={validate:null,normalize:createNormalizer()};const d=Object.keys(t.__compiled__).filter(function(h){return h.length>0&&t.__compiled__[h]}).map(escapeRE).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+d+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+d+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),resetScanCache(t)}function Match(t,e){const a=t.__index__,l=t.__last_index__,u=t.__text_cache__.slice(a,l);this.schema=t.__schema__.toLowerCase(),this.index=a+e,this.lastIndex=l+e,this.raw=u,this.text=u,this.url=u}function createMatch(t,e){const a=new Match(t,e);return t.__compiled__[a.schema].normalize(a,t),a}function LinkifyIt(t,e){if(!(this instanceof LinkifyIt))return new LinkifyIt(t,e);e||isOptionsObj(t)&&(e=t,t={}),this.__opts__=assign({},defaultOptions,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,t),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function t(e,a){return this.__schemas__[e]=a,compile(this),this};LinkifyIt.prototype.set=function t(e){return this.__opts__=assign(this.__opts__,e),this};LinkifyIt.prototype.test=function t(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let a,l,u,c,d,h,m,g,y;if(this.re.schema_test.test(e)){for(m=this.re.schema_search,m.lastIndex=0;(a=m.exec(e))!==null;)if(c=this.testSchemaAt(e,a[2],m.lastIndex),c){this.__schema__=a[2],this.__index__=a.index+a[1].length,this.__last_index__=a.index+a[0].length+c;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(g=e.search(this.re.host_fuzzy_test),g>=0&&(this.__index__<0||g<this.__index__)&&(l=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(d=l.index+l[1].length,(this.__index__<0||d<this.__index__)&&(this.__schema__="",this.__index__=d,this.__last_index__=l.index+l[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(y=e.indexOf("@"),y>=0&&(u=e.match(this.re.email_fuzzy))!==null&&(d=u.index+u[1].length,h=u.index+u[0].length,(this.__index__<0||d<this.__index__||d===this.__index__&&h>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=d,this.__last_index__=h))),this.__index__>=0};LinkifyIt.prototype.pretest=function t(e){return this.re.pretest.test(e)};LinkifyIt.prototype.testSchemaAt=function t(e,a,l){return this.__compiled__[a.toLowerCase()]?this.__compiled__[a.toLowerCase()].validate(e,l,this):0};LinkifyIt.prototype.match=function t(e){const a=[];let l=0;this.__index__>=0&&this.__text_cache__===e&&(a.push(createMatch(this,l)),l=this.__last_index__);let u=l?e.slice(l):e;for(;this.test(u);)a.push(createMatch(this,l)),u=u.slice(this.__last_index__),l+=this.__last_index__;return a.length?a:null};LinkifyIt.prototype.matchAtStart=function t(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const a=this.re.schema_at_start.exec(e);if(!a)return null;const l=this.testSchemaAt(e,a[2],a[0].length);return l?(this.__schema__=a[2],this.__index__=a.index+a[1].length,this.__last_index__=a.index+a[0].length+l,createMatch(this,0)):null};LinkifyIt.prototype.tlds=function t(e,a){return e=Array.isArray(e)?e:[e],a?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(l,u,c){return l!==c[u-1]}).reverse(),compile(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt.prototype.normalize=function t(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};LinkifyIt.prototype.onCompile=function t(){};const maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(t){throw new RangeError(errors[t])}function map(t,e){const a=[];let l=t.length;for(;l--;)a[l]=e(t[l]);return a}function mapDomain(t,e){const a=t.split("@");let l="";a.length>1&&(l=a[0]+"@",t=a[1]),t=t.replace(regexSeparators,".");const u=t.split("."),c=map(u,e).join(".");return l+c}function ucs2decode(t){const e=[];let a=0;const l=t.length;for(;a<l;){const u=t.charCodeAt(a++);if(u>=55296&&u<=56319&&a<l){const c=t.charCodeAt(a++);(c&64512)==56320?e.push(((u&1023)<<10)+(c&1023)+65536):(e.push(u),a--)}else e.push(u)}return e}const ucs2encode=t=>String.fromCodePoint(...t),basicToDigit=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:base},digitToBasic=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},adapt=function(t,e,a){let l=0;for(t=a?floor(t/damp):t>>1,t+=floor(t/e);t>baseMinusTMin*tMax>>1;l+=base)t=floor(t/baseMinusTMin);return floor(l+(baseMinusTMin+1)*t/(t+skew))},decode=function(t){const e=[],a=t.length;let l=0,u=initialN,c=initialBias,d=t.lastIndexOf(delimiter);d<0&&(d=0);for(let h=0;h<d;++h)t.charCodeAt(h)>=128&&error("not-basic"),e.push(t.charCodeAt(h));for(let h=d>0?d+1:0;h<a;){const m=l;for(let y=1,b=base;;b+=base){h>=a&&error("invalid-input");const v=basicToDigit(t.charCodeAt(h++));v>=base&&error("invalid-input"),v>floor((maxInt-l)/y)&&error("overflow"),l+=v*y;const C=b<=c?tMin:b>=c+tMax?tMax:b-c;if(v<C)break;const S=base-C;y>floor(maxInt/S)&&error("overflow"),y*=S}const g=e.length+1;c=adapt(l-m,g,m==0),floor(l/g)>maxInt-u&&error("overflow"),u+=floor(l/g),l%=g,e.splice(l++,0,u)}return String.fromCodePoint(...e)},encode=function(t){const e=[];t=ucs2decode(t);const a=t.length;let l=initialN,u=0,c=initialBias;for(const m of t)m<128&&e.push(stringFromCharCode(m));const d=e.length;let h=d;for(d&&e.push(delimiter);h<a;){let m=maxInt;for(const y of t)y>=l&&y<m&&(m=y);const g=h+1;m-l>floor((maxInt-u)/g)&&error("overflow"),u+=(m-l)*g,l=m;for(const y of t)if(y<l&&++u>maxInt&&error("overflow"),y===l){let b=u;for(let v=base;;v+=base){const C=v<=c?tMin:v>=c+tMax?tMax:v-c;if(b<C)break;const S=b-C,E=base-C;e.push(stringFromCharCode(digitToBasic(C+S%E,0))),b=floor(S/E)}e.push(stringFromCharCode(digitToBasic(b,0))),c=adapt(u,g,h===d),u=0,++h}++u,++l}return e.join("")},toUnicode=function(t){return mapDomain(t,function(e){return regexPunycode.test(e)?decode(e.slice(4).toLowerCase()):e})},toASCII=function(t){return mapDomain(t,function(e){return regexNonASCII.test(e)?"xn--"+encode(e):e})},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode},cfg_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cfg_zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},cfg_commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},config={default:cfg_default,zero:cfg_zero,commonmark:cfg_commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(t){const e=t.trim().toLowerCase();return BAD_PROTO_RE.test(e)?GOOD_DATA_RE.test(e):!0}const RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(t){const e=urlParse(t,!0);if(e.hostname&&(!e.protocol||RECODE_HOSTNAME_FOR.indexOf(e.protocol)>=0))try{e.hostname=punycode.toASCII(e.hostname)}catch{}return encode$1(format(e))}function normalizeLinkText(t){const e=urlParse(t,!0);if(e.hostname&&(!e.protocol||RECODE_HOSTNAME_FOR.indexOf(e.protocol)>=0))try{e.hostname=punycode.toUnicode(e.hostname)}catch{}return decode$1(format(e),decode$1.defaultChars+"%")}function MarkdownIt(t,e){if(!(this instanceof MarkdownIt))return new MarkdownIt(t,e);e||isString$1(t)||(e=t||{},t="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new Core,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=assign$1({},helpers),this.options={},this.configure(t),e&&this.set(e)}MarkdownIt.prototype.set=function(t){return assign$1(this.options,t),this};MarkdownIt.prototype.configure=function(t){const e=this;if(isString$1(t)){const a=t;if(t=config[a],!t)throw new Error('Wrong `markdown-it` preset "'+a+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(a){t.components[a].rules&&e[a].ruler.enableOnly(t.components[a].rules),t.components[a].rules2&&e[a].ruler2.enableOnly(t.components[a].rules2)}),this};MarkdownIt.prototype.enable=function(t,e){let a=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(u){a=a.concat(this[u].ruler.enable(t,!0))},this),a=a.concat(this.inline.ruler2.enable(t,!0));const l=t.filter(function(u){return a.indexOf(u)<0});if(l.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+l);return this};MarkdownIt.prototype.disable=function(t,e){let a=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(u){a=a.concat(this[u].ruler.disable(t,!0))},this),a=a.concat(this.inline.ruler2.disable(t,!0));const l=t.filter(function(u){return a.indexOf(u)<0});if(l.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+l);return this};MarkdownIt.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};MarkdownIt.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const a=new this.core.State(t,this,e);return this.core.process(a),a.tokens};MarkdownIt.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};MarkdownIt.prototype.parseInline=function(t,e){const a=new this.core.State(t,this,e);return a.inlineMode=!0,this.core.process(a),a.tokens};MarkdownIt.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const schema=new Schema({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>({params:t.getAttribute("data-params")||""})}],toDOM(t){return["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")}}}],toDOM(t){return["ol",{start:t.attrs.order==1?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:t=>({tight:t.hasAttribute("data-tight")})}],toDOM(t){return["ul",{"data-tight":t.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM(t){return["img",t.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:t=>t.type.name=="em"}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name=="strong"},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM(t){return["a",t.attrs]}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function maybeMerge(t,e){if(t.isText&&e.isText&&Mark$1.sameSet(t.marks,e.marks))return t.withText(t.text+e.text)}class MarkdownParseState{constructor(e,a){this.schema=e,this.tokenHandlers=a,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:Mark$1.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let a=this.top(),l=a.content,u=l[l.length-1],c=this.schema.text(e,a.marks),d;u&&(d=maybeMerge(u,c))?l[l.length-1]=d:l.push(c)}openMark(e){let a=this.top();a.marks=e.addToSet(a.marks)}closeMark(e){let a=this.top();a.marks=e.removeFromSet(a.marks)}parseTokens(e){for(let a=0;a<e.length;a++){let l=e[a],u=this.tokenHandlers[l.type];if(!u)throw new Error("Token type `"+l.type+"` not supported by Markdown parser");u(this,l,e,a)}}addNode(e,a,l){let u=this.top(),c=e.createAndFill(a,l,u?u.marks:[]);return c?(this.push(c),c):null}openNode(e,a){this.stack.push({type:e,attrs:a,content:[],marks:Mark$1.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function attrs(t,e,a,l){return t.getAttrs?t.getAttrs(e,a,l):t.attrs instanceof Function?t.attrs(e):t.attrs}function noCloseToken(t,e){return t.noCloseToken||e=="code_inline"||e=="code_block"||e=="fence"}function withoutTrailingNewline(t){return t[t.length-1]==`
`?t.slice(0,t.length-1):t}function noOp(){}function tokenHandlers(t,e){let a=Object.create(null);for(let l in e){let u=e[l];if(u.block){let c=t.nodeType(u.block);noCloseToken(u,l)?a[l]=(d,h,m,g)=>{d.openNode(c,attrs(u,h,m,g)),d.addText(withoutTrailingNewline(h.content)),d.closeNode()}:(a[l+"_open"]=(d,h,m,g)=>d.openNode(c,attrs(u,h,m,g)),a[l+"_close"]=d=>d.closeNode())}else if(u.node){let c=t.nodeType(u.node);a[l]=(d,h,m,g)=>d.addNode(c,attrs(u,h,m,g))}else if(u.mark){let c=t.marks[u.mark];noCloseToken(u,l)?a[l]=(d,h,m,g)=>{d.openMark(c.create(attrs(u,h,m,g))),d.addText(withoutTrailingNewline(h.content)),d.closeMark(c)}:(a[l+"_open"]=(d,h,m,g)=>d.openMark(c.create(attrs(u,h,m,g))),a[l+"_close"]=d=>d.closeMark(c))}else if(u.ignore)noCloseToken(u,l)?a[l]=noOp:(a[l+"_open"]=noOp,a[l+"_close"]=noOp);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(u))}return a.text=(l,u)=>l.addText(u.content),a.inline=(l,u)=>l.parseTokens(u.children),a.softbreak=a.softbreak||(l=>l.addText(" ")),a}let MarkdownParser$1=class{constructor(e,a,l){this.schema=e,this.tokenizer=a,this.tokens=l,this.tokenHandlers=tokenHandlers(e,l)}parse(e,a={}){let l=new MarkdownParseState(this.schema,this.tokenHandlers),u;l.parseTokens(this.tokenizer.parse(e,a));do u=l.closeNode();while(l.stack.length);return u||this.schema.topNodeType.createAndFill()}};function listIsTight(t,e){for(;++e<t.length;)if(t[e].type!="list_item_open")return t[e].hidden;return!1}new MarkdownParser$1(schema,MarkdownIt("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(t,e,a)=>({tight:listIsTight(e,a)})},ordered_list:{block:"ordered_list",getAttrs:(t,e,a)=>({order:+t.attrGet("start")||1,tight:listIsTight(e,a)})},heading:{block:"heading",getAttrs:t=>({level:+t.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:t=>({params:t.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children[0]&&t.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:t=>({href:t.attrGet("href"),title:t.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const blankMark={open:"",close:"",mixable:!0};let MarkdownSerializer$1=class{constructor(e,a,l={}){this.nodes=e,this.marks=a,this.options=l}serialize(e,a={}){a=Object.assign({},this.options,a);let l=new MarkdownSerializerState$1(this.nodes,this.marks,a);return l.renderContent(e),l.out}};const defaultMarkdownSerializer=new MarkdownSerializer$1({blockquote(t,e){t.wrapBlock("> ",null,e,()=>t.renderContent(e))},code_block(t,e){const a=e.textContent.match(/`{3,}/gm),l=a?a.sort().slice(-1)[0]+"`":"```";t.write(l+(e.attrs.params||"")+`
`),t.text(e.textContent,!1),t.write(`
`),t.write(l),t.closeBlock(e)},heading(t,e){t.write(t.repeat("#",e.attrs.level)+" "),t.renderInline(e,!1),t.closeBlock(e)},horizontal_rule(t,e){t.write(e.attrs.markup||"---"),t.closeBlock(e)},bullet_list(t,e){t.renderList(e,"  ",()=>(e.attrs.bullet||"*")+" ")},ordered_list(t,e){let a=e.attrs.order||1,l=String(a+e.childCount-1).length,u=t.repeat(" ",l+2);t.renderList(e,u,c=>{let d=String(a+c);return t.repeat(" ",l-d.length)+d+". "})},list_item(t,e){t.renderContent(e)},paragraph(t,e){t.renderInline(e),t.closeBlock(e)},image(t,e){t.write("!["+t.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(t,e,a,l){for(let u=l+1;u<a.childCount;u++)if(a.child(u).type!=e.type){t.write(`\\
`);return}},text(t,e){t.text(e.text,!t.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(t,e,a,l){return t.inAutolink=isPlainURL(e,a,l),t.inAutolink?"<":"["},close(t,e,a,l){let{inAutolink:u}=t;return t.inAutolink=void 0,u?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(t,e,a,l){return backticksFor(a.child(l),-1)},close(t,e,a,l){return backticksFor(a.child(l-1),1)},escape:!1}});function backticksFor(t,e){let a=/`+/g,l,u=0;if(t.isText)for(;l=a.exec(t.text);)u=Math.max(u,l[0].length);let c=u>0&&e>0?" `":"`";for(let d=0;d<u;d++)c+="`";return u>0&&e<0&&(c+=" "),c}function isPlainURL(t,e,a){if(t.attrs.title||!/^\w+:/.test(t.attrs.href))return!1;let l=e.child(a);return!l.isText||l.text!=t.attrs.href||l.marks[l.marks.length-1]!=t?!1:a==e.childCount-1||!t.isInSet(e.child(a+1).marks)}let MarkdownSerializerState$1=class{constructor(e,a,l){this.nodes=e,this.marks=a,this.options=l,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),e>1){let a=this.delim,l=/\s+$/.exec(a);l&&(a=a.slice(0,a.length-l[0].length));for(let u=1;u<e;u++)this.out+=a+`
`}this.closed=null}}getMark(e){let a=this.marks[e];if(!a){if(this.options.strict!==!1)throw new Error(`Mark type \`${e}\` not supported by Markdown renderer`);a=blankMark}return a}wrapBlock(e,a,l,u){let c=this.delim;this.write(a??e),this.delim+=e,u(),this.delim=c,this.closeBlock(l)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,a=!0){let l=e.split(`
`);for(let u=0;u<l.length;u++)this.write(),!a&&l[u][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=a?this.esc(l[u],this.atBlockStart):l[u],u!=l.length-1&&(this.out+=`
`)}render(e,a,l){if(this.nodes[e.type.name])this.nodes[e.type.name](this,e,a,l);else{if(this.options.strict!==!1)throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");e.type.isLeaf||(e.type.inlineContent?this.renderInline(e):this.renderContent(e),e.isBlock&&this.closeBlock(e))}}renderContent(e){e.forEach((a,l,u)=>this.render(a,e,u))}renderInline(e,a=!0){this.atBlockStart=a;let l=[],u="",c=(d,h,m)=>{let g=d?d.marks:[];d&&d.type.name===this.options.hardBreakNodeName&&(g=g.filter(E=>{if(m+1==e.childCount)return!1;let _=e.child(m+1);return E.isInSet(_.marks)&&(!_.isText||/\S/.test(_.text))}));let y=u;if(u="",d&&d.isText&&g.some(E=>{let _=this.getMark(E.type.name);return _&&_.expelEnclosingWhitespace&&!E.isInSet(l)})){let[E,_,A]=/^(\s*)(.*)$/m.exec(d.text);_&&(y+=_,d=A?d.withText(A):null,d||(g=l))}if(d&&d.isText&&g.some(E=>{let _=this.getMark(E.type.name);return _&&_.expelEnclosingWhitespace&&(m==e.childCount-1||!E.isInSet(e.child(m+1).marks))})){let[E,_,A]=/^(.*?)(\s*)$/m.exec(d.text);A&&(u=A,d=_?d.withText(_):null,d||(g=l))}let b=g.length?g[g.length-1]:null,v=b&&this.getMark(b.type.name).escape===!1,C=g.length-(v?1:0);e:for(let E=0;E<C;E++){let _=g[E];if(!this.getMark(_.type.name).mixable)break;for(let A=0;A<l.length;A++){let R=l[A];if(!this.getMark(R.type.name).mixable)break;if(_.eq(R)){E>A?g=g.slice(0,A).concat(_).concat(g.slice(A,E)).concat(g.slice(E+1,C)):A>E&&(g=g.slice(0,E).concat(g.slice(E+1,A)).concat(_).concat(g.slice(A,C)));continue e}}}let S=0;for(;S<Math.min(l.length,C)&&g[S].eq(l[S]);)++S;for(;S<l.length;)this.text(this.markString(l.pop(),!1,e,m),!1);if(y&&this.text(y),d){for(;l.length<C;){let E=g[l.length];l.push(E),this.text(this.markString(E,!0,e,m),!1),this.atBlockStart=!1}v&&d.isText?this.text(this.markString(b,!0,e,m)+d.text+this.markString(b,!1,e,m+1),!1):this.render(d,e,m),this.atBlockStart=!1}d!=null&&d.isText&&d.nodeSize>0&&(this.atBlockStart=!1)};e.forEach(c),c(null,0,e.childCount),this.atBlockStart=!1}renderList(e,a,l){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let u=typeof e.attrs.tight<"u"?e.attrs.tight:this.options.tightLists,c=this.inTightList;this.inTightList=u,e.forEach((d,h,m)=>{m&&u&&this.flushClose(1),this.wrapBlock(a,l(m),e,()=>this.render(d,e,m))}),this.inTightList=c}esc(e,a=!1){return e=e.replace(/[`*\\~\[\]_]/g,(l,u)=>l=="_"&&u>0&&u+1<e.length&&e[u-1].match(/\w/)&&e[u+1].match(/\w/)?l:"\\"+l),a&&(e=e.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let a=e.indexOf('"')==-1?'""':e.indexOf("'")==-1?"''":"()";return a[0]+e+a[1]}repeat(e,a){let l="";for(let u=0;u<a;u++)l+=e;return l}markString(e,a,l,u){let c=this.getMark(e.type.name),d=a?c.open:c.close;return typeof d=="string"?d:d(this,e,l,u)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}};var markdownItTaskLists,hasRequiredMarkdownItTaskLists;function requireMarkdownItTaskLists(){if(hasRequiredMarkdownItTaskLists)return markdownItTaskLists;hasRequiredMarkdownItTaskLists=1;var t=!0,e=!1,a=!1;markdownItTaskLists=function(E,_){_&&(t=!_.enabled,e=!!_.label,a=!!_.labelAfter),E.core.ruler.after("inline","github-task-lists",function(A){for(var R=A.tokens,k=2;k<R.length;k++)c(R,k)&&(d(R[k],A.Token),l(R[k-2],"class","task-list-item"+(t?"":" enabled")),l(R[u(R,k-2)],"class","contains-task-list"))})};function l(E,_,A){var R=E.attrIndex(_),k=[_,A];R<0?E.attrPush(k):E.attrs[R]=k}function u(E,_){for(var A=E[_].level-1,R=_-1;R>=0;R--)if(E[R].level===A)return R;return-1}function c(E,_){return b(E[_])&&v(E[_-1])&&C(E[_-2])&&S(E[_])}function d(E,_){if(E.children.unshift(h(E,_)),E.children[1].content=E.children[1].content.slice(3),E.content=E.content.slice(3),e)if(a){E.children.pop();var A="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);E.children[0].content=E.children[0].content.slice(0,-1)+' id="'+A+'">',E.children.push(y(E.content,A,_))}else E.children.unshift(m(_)),E.children.push(g(_))}function h(E,_){var A=new _("html_inline","",0),R=t?' disabled="" ':"";return E.content.indexOf("[ ] ")===0?A.content='<input class="task-list-item-checkbox"'+R+'type="checkbox">':(E.content.indexOf("[x] ")===0||E.content.indexOf("[X] ")===0)&&(A.content='<input class="task-list-item-checkbox" checked=""'+R+'type="checkbox">'),A}function m(E){var _=new E("html_inline","",0);return _.content="<label>",_}function g(E){var _=new E("html_inline","",0);return _.content="</label>",_}function y(E,_,A){var R=new A("html_inline","",0);return R.content='<label class="task-list-item-label" for="'+_+'">'+E+"</label>",R.attrs=[{for:_}],R}function b(E){return E.type==="inline"}function v(E){return E.type==="paragraph_open"}function C(E){return E.type==="list_item_open"}function S(E){return E.content.indexOf("[ ] ")===0||E.content.indexOf("[x] ")===0||E.content.indexOf("[X] ")===0}return markdownItTaskLists}var markdownItTaskListsExports=requireMarkdownItTaskLists();const taskListPlugin=getDefaultExportFromCjs$1(markdownItTaskListsExports);var __defProp=Object.defineProperty,__defNormalProp=(t,e,a)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,__publicField=(t,e,a)=>(__defNormalProp(t,typeof e!="symbol"?e+"":e,a),a);const MarkdownTightLists=Extension.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:t=>t.getAttribute("data-tight")==="true"||!t.querySelector("p"),renderHTML:t=>({class:t.tight?this.options.tightClass:null,"data-tight":t.tight?"true":null})}}}]},addCommands(){var t=this;return{toggleTight:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return a=>{let{editor:l,commands:u}=a;function c(d){if(!l.isActive(d))return!1;const h=l.getAttributes(d);return u.updateAttributes(d,{tight:e??!(h!=null&&h.tight)})}return t.options.listTypes.some(d=>c(d))}}}}}),md=MarkdownIt();function scanDelims(t,e){return md.inline.State.prototype.scanDelims.call({src:t,posMax:t.length}),new md.inline.State(t,null,null,[]).scanDelims(e,!0)}function shiftDelim(t,e,a,l){let u=t.substring(0,a)+t.substring(a+e.length);return u=u.substring(0,a+l)+e+u.substring(a+l),u}function trimStart(t,e,a,l){let u=a,c=t;for(;u<l&&!scanDelims(c,u).can_open;)c=shiftDelim(c,e,u,1),u++;return{text:c,from:u,to:l}}function trimEnd(t,e,a,l){let u=l,c=t;for(;u>a&&!scanDelims(c,u).can_close;)c=shiftDelim(c,e,u,-1),u--;return{text:c,from:a,to:u}}function trimInline(t,e,a,l){let u={text:t,from:a,to:l};return u=trimStart(u.text,e,u.from,u.to),u=trimEnd(u.text,e,u.from,u.to),u.to-u.from<e.length+1&&(u.text=u.text.substring(0,u.from)+u.text.substring(u.to+e.length)),u.text}class MarkdownSerializerState extends MarkdownSerializerState$1{constructor(e,a,l){super(e,a,l??{}),__publicField(this,"inTable",!1),this.inlines=[]}render(e,a,l){super.render(e,a,l);const u=this.inlines[this.inlines.length-1];if(u!=null&&u.start&&u!==null&&u!==void 0&&u.end){const{delimiter:c,start:d,end:h}=this.normalizeInline(u);this.out=trimInline(this.out,c,d,h),this.inlines.pop()}}markString(e,a,l,u){const c=this.marks[e.type.name];if(c.expelEnclosingWhitespace)if(a)this.inlines.push({start:this.out.length,delimiter:c.open});else{const d=this.inlines.pop();this.inlines.push({...d,end:this.out.length})}return super.markString(e,a,l,u)}normalizeInline(e){let{start:a,end:l}=e;for(;this.out.charAt(a).match(/\s/);)a++;return{...e,start:a}}}const HTMLMark=Mark.create({name:"markdownHTMLMark",addStorage(){return{markdown:{serialize:{open(t,e){var a,l;return this.editor.storage.markdown.options.html?(a=(l=getMarkTags(e))===null||l===void 0?void 0:l[0])!==null&&a!==void 0?a:"":(console.warn(`Tiptap Markdown: "${e.type.name}" mark is only available in html mode`),"")},close(t,e){var a,l;return this.editor.storage.markdown.options.html&&(a=(l=getMarkTags(e))===null||l===void 0?void 0:l[1])!==null&&a!==void 0?a:""}},parse:{}}}}});function getMarkTags(t){const e=t.type.schema,a=e.text(" ",[t]),u=getHTMLFromFragment(Fragment.from(a),e).match(/^(<.*?>) (<\/.*?>)$/);return u?[u[1],u[2]]:null}function elementFromString(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function escapeHTML(t){return t==null?void 0:t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function extractElement(t){const e=t.parentElement,a=e.cloneNode();for(;e.firstChild&&e.firstChild!==t;)a.appendChild(e.firstChild);a.childNodes.length>0&&e.parentElement.insertBefore(a,e),e.parentElement.insertBefore(t,e),e.childNodes.length===0&&e.remove()}function unwrapElement(t){const e=t.parentNode;for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}const HTMLNode=Node$1.create({name:"markdownHTMLNode",addStorage(){return{markdown:{serialize(t,e,a){this.editor.storage.markdown.options.html?t.write(serializeHTML(e,a)):(console.warn(`Tiptap Markdown: "${e.type.name}" node is only available in html mode`),t.write(`[${e.type.name}]`)),e.isBlock&&t.closeBlock(e)},parse:{}}}}});function serializeHTML(t,e){const a=t.type.schema,l=getHTMLFromFragment(Fragment.from(t),a);return t.isBlock&&(e instanceof Fragment||e.type.name===a.topNodeType.name)?formatBlock(l):l}function formatBlock(t){const a=elementFromString(t).firstElementChild;return a.innerHTML=a.innerHTML.trim()?`
${a.innerHTML}
`:`
`,a.outerHTML}const Blockquote=Node$1.create({name:"blockquote"}),Blockquote$1=Blockquote.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.blockquote,parse:{}}}}}),BulletList=Node$1.create({name:"bulletList"}),BulletList$1=BulletList.extend({addStorage(){return{markdown:{serialize(t,e){return t.renderList(e,"  ",()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" ")},parse:{}}}}}),CodeBlock=Node$1.create({name:"codeBlock"}),CodeBlock$1=CodeBlock.extend({addStorage(){return{markdown:{serialize(t,e){t.write("```"+(e.attrs.language||"")+`
`),t.text(e.textContent,!1),t.ensureNewLine(),t.write("```"),t.closeBlock(e)},parse:{setup(t){var e;t.set({langPrefix:(e=this.options.languageClassPrefix)!==null&&e!==void 0?e:"language-"})},updateDOM(t){t.innerHTML=t.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}}}}),HardBreak=Node$1.create({name:"hardBreak"}),HardBreak$1=HardBreak.extend({addStorage(){return{markdown:{serialize(t,e,a,l){for(let u=l+1;u<a.childCount;u++)if(a.child(u).type!=e.type){t.write(t.inTable?HTMLNode.storage.markdown.serialize.call(this,t,e,a):`\\
`);return}},parse:{}}}}}),Heading=Node$1.create({name:"heading"}),Heading$1=Heading.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.heading,parse:{}}}}}),HorizontalRule=Node$1.create({name:"horizontalRule"}),HorizontalRule$1=HorizontalRule.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.horizontal_rule,parse:{}}}}}),Image=Node$1.create({name:"image"}),Image$1=Image.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.image,parse:{}}}}}),ListItem=Node$1.create({name:"listItem"}),ListItem$1=ListItem.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.list_item,parse:{}}}}}),OrderedList=Node$1.create({name:"orderedList"});function findIndexOfAdjacentNode(t,e,a){let l=0;for(;a-l>0&&e.child(a-l-1).type.name===t.type.name;l++);return l}const OrderedList$1=OrderedList.extend({addStorage(){return{markdown:{serialize(t,e,a,l){const u=e.attrs.start||1,c=String(u+e.childCount-1).length,d=t.repeat(" ",c+2),m=findIndexOfAdjacentNode(e,a,l)%2?") ":". ";t.renderList(e,d,g=>{const y=String(u+g);return t.repeat(" ",c-y.length)+y+m})},parse:{}}}}}),Paragraph=Node$1.create({name:"paragraph"}),Paragraph$1=Paragraph.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.paragraph,parse:{}}}}});function childNodes(t){var e,a;return(e=t==null||(a=t.content)===null||a===void 0?void 0:a.content)!==null&&e!==void 0?e:[]}const Table=Node$1.create({name:"table"}),Table$1=Table.extend({addStorage(){return{markdown:{serialize(t,e,a){if(!isMarkdownSerializable(e)){HTMLNode.storage.markdown.serialize.call(this,t,e,a);return}t.inTable=!0,e.forEach((l,u,c)=>{if(t.write("| "),l.forEach((d,h,m)=>{m&&t.write(" | ");const g=d.firstChild;g.textContent.trim()&&t.renderInline(g)}),t.write(" |"),t.ensureNewLine(),!c){const d=Array.from({length:l.childCount}).map(()=>"---").join(" | ");t.write(`| ${d} |`),t.ensureNewLine()}}),t.closeBlock(e),t.inTable=!1},parse:{}}}}});function hasSpan(t){return t.attrs.colspan>1||t.attrs.rowspan>1}function isMarkdownSerializable(t){const e=childNodes(t),a=e[0],l=e.slice(1);return!(childNodes(a).some(u=>u.type.name!=="tableHeader"||hasSpan(u)||u.childCount>1)||l.some(u=>childNodes(u).some(c=>c.type.name==="tableHeader"||hasSpan(c)||c.childCount>1)))}const TaskItem=Node$1.create({name:"taskItem"}),TaskItem$1=TaskItem.extend({addStorage(){return{markdown:{serialize(t,e){const a=e.attrs.checked?"[x]":"[ ]";t.write(`${a} `),t.renderContent(e)},parse:{updateDOM(t){[...t.querySelectorAll(".task-list-item")].forEach(e=>{const a=e.querySelector("input");e.setAttribute("data-type","taskItem"),a&&(e.setAttribute("data-checked",a.checked),a.remove())})}}}}}}),TaskList=Node$1.create({name:"taskList"}),TaskList$1=TaskList.extend({addStorage(){return{markdown:{serialize:BulletList$1.storage.markdown.serialize,parse:{setup(t){t.use(taskListPlugin)},updateDOM(t){[...t.querySelectorAll(".contains-task-list")].forEach(e=>{e.setAttribute("data-type","taskList")})}}}}}}),Text=Node$1.create({name:"text"}),Text$1=Text.extend({addStorage(){return{markdown:{serialize(t,e){t.text(escapeHTML(e.text))},parse:{}}}}}),Bold=Mark.create({name:"bold"}),Bold$1=Bold.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.marks.strong,parse:{}}}}}),Code=Mark.create({name:"code"}),Code$1=Code.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.marks.code,parse:{}}}}}),Italic=Mark.create({name:"italic"}),Italic$1=Italic.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.marks.em,parse:{}}}}}),Link=Mark.create({name:"link"}),Link$1=Link.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.marks.link,parse:{}}}}}),Strike=Mark.create({name:"strike"}),Strike$1=Strike.extend({addStorage(){return{markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}}}}),markdownExtensions=[Blockquote$1,BulletList$1,CodeBlock$1,HardBreak$1,Heading$1,HorizontalRule$1,HTMLNode,Image$1,ListItem$1,OrderedList$1,Paragraph$1,Table$1,TaskItem$1,TaskList$1,Text$1,Bold$1,Code$1,HTMLMark,Italic$1,Link$1,Strike$1];function getMarkdownSpec(t){var e,a;const l=(e=t.storage)===null||e===void 0?void 0:e.markdown,u=(a=markdownExtensions.find(c=>c.name===t.name))===null||a===void 0?void 0:a.storage.markdown;return l||u?{...u,...l}:null}class MarkdownSerializer{constructor(e){__publicField(this,"editor",null),this.editor=e}serialize(e){const a=new MarkdownSerializerState(this.nodes,this.marks,{hardBreakNodeName:HardBreak$1.name});return a.renderContent(e),a.out}get nodes(){var e;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map(a=>[a,this.serializeNode(HTMLNode)])),...Object.fromEntries((e=this.editor.extensionManager.extensions.filter(a=>a.type==="node"&&this.serializeNode(a)).map(a=>[a.name,this.serializeNode(a)]))!==null&&e!==void 0?e:[])}}get marks(){var e;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map(a=>[a,this.serializeMark(HTMLMark)])),...Object.fromEntries((e=this.editor.extensionManager.extensions.filter(a=>a.type==="mark"&&this.serializeMark(a)).map(a=>[a.name,this.serializeMark(a)]))!==null&&e!==void 0?e:[])}}serializeNode(e){var a;return(a=getMarkdownSpec(e))===null||a===void 0||(a=a.serialize)===null||a===void 0?void 0:a.bind({editor:this.editor,options:e.options})}serializeMark(e){var a;const l=(a=getMarkdownSpec(e))===null||a===void 0?void 0:a.serialize;return l?{...l,open:typeof l.open=="function"?l.open.bind({editor:this.editor,options:e.options}):l.open,close:typeof l.close=="function"?l.close.bind({editor:this.editor,options:e.options}):l.close}:null}}class MarkdownParser{constructor(e,a){__publicField(this,"editor",null),__publicField(this,"md",null);let{html:l,linkify:u,breaks:c}=a;this.editor=e,this.md=this.withPatchedRenderer(MarkdownIt({html:l,linkify:u,breaks:c}))}parse(e){let{inline:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string"){this.editor.extensionManager.extensions.forEach(c=>{var d;return(d=getMarkdownSpec(c))===null||d===void 0||(d=d.parse)===null||d===void 0||(d=d.setup)===null||d===void 0?void 0:d.call({editor:this.editor,options:c.options},this.md)});const l=this.md.render(e),u=elementFromString(l);return this.editor.extensionManager.extensions.forEach(c=>{var d;return(d=getMarkdownSpec(c))===null||d===void 0||(d=d.parse)===null||d===void 0||(d=d.updateDOM)===null||d===void 0?void 0:d.call({editor:this.editor,options:c.options},u)}),this.normalizeDOM(u,{inline:a,content:e}),u.innerHTML}return e}normalizeDOM(e,a){let{inline:l,content:u}=a;return this.normalizeBlocks(e),e.querySelectorAll("*").forEach(c=>{var d;((d=c.nextSibling)===null||d===void 0?void 0:d.nodeType)===Node.TEXT_NODE&&!c.closest("pre")&&(c.nextSibling.textContent=c.nextSibling.textContent.replace(/^\n/,""))}),l&&this.normalizeInline(e,u),e}normalizeBlocks(e){const l=Object.values(this.editor.schema.nodes).filter(u=>u.isBlock).map(u=>{var c;return(c=u.spec.parseDOM)===null||c===void 0?void 0:c.map(d=>d.tag)}).flat().filter(Boolean).join(",");l&&[...e.querySelectorAll(l)].forEach(u=>{u.parentElement.matches("p")&&extractElement(u)})}normalizeInline(e,a){var l;if((l=e.firstElementChild)!==null&&l!==void 0&&l.matches("p")){var u,c,d,h;const m=e.firstElementChild,{nextElementSibling:g}=m,y=(u=(c=a.match(/^\s+/))===null||c===void 0?void 0:c[0])!==null&&u!==void 0?u:"",b=g?"":(d=(h=a.match(/\s+$/))===null||h===void 0?void 0:h[0])!==null&&d!==void 0?d:"";if(a.match(/^\n\n/)){m.innerHTML=`${m.innerHTML}${b}`;return}unwrapElement(m),e.innerHTML=`${y}${e.innerHTML}${b}`}}withPatchedRenderer(e){const a=l=>function(){const u=l(...arguments);return u===`
`?u:u[u.length-1]===`
`?u.slice(0,-1):u};return e.renderer.rules.hardbreak=a(e.renderer.rules.hardbreak),e.renderer.rules.softbreak=a(e.renderer.rules.softbreak),e.renderer.rules.fence=a(e.renderer.rules.fence),e.renderer.rules.code_block=a(e.renderer.rules.code_block),e.renderer.renderToken=a(e.renderer.renderToken.bind(e.renderer)),e}}const MarkdownClipboard=Extension.create({name:"markdownClipboard",addOptions(){return{transformPastedText:!1,transformCopiedText:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("markdownClipboard"),props:{clipboardTextParser:(t,e,a)=>{if(a||!this.options.transformPastedText)return null;const l=this.editor.storage.markdown.parser.parse(t,{inline:!0});return DOMParser.fromSchema(this.editor.schema).parseSlice(elementFromString(l),{preserveWhitespace:!0,context:e})},clipboardTextSerializer:t=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(t.content):null}})]}}),Markdown=Extension.create({name:"markdown",priority:50,addOptions(){return{html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}},addCommands(){const t=index.Commands.config.addCommands();return{setContent:(e,a,l)=>u=>t.setContent(u.editor.storage.markdown.parser.parse(e),a,l)(u),insertContentAt:(e,a,l)=>u=>t.insertContentAt(e,u.editor.storage.markdown.parser.parse(a,{inline:!0}),l)(u)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new MarkdownParser(this.editor,this.options),serializer:new MarkdownSerializer(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage(){return{}},addExtensions(){return[MarkdownTightLists.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),MarkdownClipboard.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}}),TiptapEditor=({markdownText:t})=>{const e=useEditor({extensions:[StarterKit,Markdown.configure({html:!0,tightLists:!0,bulletListMarker:"-",linkify:!0,breaks:!1})],content:""});return reactExports.useEffect(()=>{e&&t&&e.commands.setContent(t,!1,{parseOptions:{preserveWhitespace:!0}})},[e,t]),jsxRuntimeExports.jsx(EditorContent,{editor:e})};function copyToClipboard(t){if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(t).then(()=>console.log("Copied to clipboard!")).catch(e=>console.error("Failed to copy: ",e));else{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999);try{document.execCommand("copy"),console.log("Copied to clipboard!")}catch(a){console.error("Failed to copy: ",a)}document.body.removeChild(e)}}var module={};(function t(e,a,l,u){var c=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),d=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=function(){if(!e.OffscreenCanvas)return!1;var ee=new OffscreenCanvas(1,1),N=ee.getContext("2d");N.fillRect(0,0,1,1);var I=ee.transferToImageBitmap();try{N.createPattern(I,"no-repeat")}catch{return!1}return!0}();function m(){}function g(ee){var N=a.exports.Promise,I=N!==void 0?N:e.Promise;return typeof I=="function"?new I(ee):(ee(m,m),null)}var y=function(ee,N){return{transform:function(I){if(ee)return I;if(N.has(I))return N.get(I);var L=new OffscreenCanvas(I.width,I.height),H=L.getContext("2d");return H.drawImage(I,0,0),N.set(I,L),L},clear:function(){N.clear()}}}(h,new Map),b=function(){var ee=Math.floor(16.666666666666668),N,I,L={},H=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(N=function(re){var oe=Math.random();return L[oe]=requestAnimationFrame(function K(le){H===le||H+ee-1<le?(H=le,delete L[oe],re()):L[oe]=requestAnimationFrame(K)}),oe},I=function(re){L[re]&&cancelAnimationFrame(L[re])}):(N=function(re){return setTimeout(re,ee)},I=function(re){return clearTimeout(re)}),{frame:N,cancel:I}}(),v=function(){var ee,N,I={};function L(H){function re(oe,K){H.postMessage({options:oe||{},callback:K})}H.init=function(K){var le=K.transferControlToOffscreen();H.postMessage({canvas:le},[le])},H.fire=function(K,le,ye){if(N)return re(K,null),N;var Ce=Math.random().toString(36).slice(2);return N=g(function(xe){function j(V){V.data.callback===Ce&&(delete I[Ce],H.removeEventListener("message",j),N=null,y.clear(),ye(),xe())}H.addEventListener("message",j),re(K,Ce),I[Ce]=j.bind(null,{data:{callback:Ce}})}),N},H.reset=function(){H.postMessage({reset:!0});for(var K in I)I[K](),delete I[K]}}return function(){if(ee)return ee;if(!l&&c){var H=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{ee=new Worker(URL.createObjectURL(new Blob([H])))}catch(re){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",re),null}L(ee)}return ee}}(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(ee,N){return N?N(ee):ee}function E(ee){return ee!=null}function _(ee,N,I){return S(ee&&E(ee[N])?ee[N]:C[N],I)}function A(ee){return ee<0?0:Math.floor(ee)}function R(ee,N){return Math.floor(Math.random()*(N-ee))+ee}function k(ee){return parseInt(ee,16)}function M(ee){return ee.map(D)}function D(ee){var N=String(ee).replace(/[^0-9a-f]/gi,"");return N.length<6&&(N=N[0]+N[0]+N[1]+N[1]+N[2]+N[2]),{r:k(N.substring(0,2)),g:k(N.substring(2,4)),b:k(N.substring(4,6))}}function B(ee){var N=_(ee,"origin",Object);return N.x=_(N,"x",Number),N.y=_(N,"y",Number),N}function U(ee){ee.width=document.documentElement.clientWidth,ee.height=document.documentElement.clientHeight}function T(ee){var N=ee.getBoundingClientRect();ee.width=N.width,ee.height=N.height}function $(ee){var N=document.createElement("canvas");return N.style.position="fixed",N.style.top="0px",N.style.left="0px",N.style.pointerEvents="none",N.style.zIndex=ee,N}function G(ee,N,I,L,H,re,oe,K,le){ee.save(),ee.translate(N,I),ee.rotate(re),ee.scale(L,H),ee.arc(0,0,1,oe,K,le),ee.restore()}function ue(ee){var N=ee.angle*(Math.PI/180),I=ee.spread*(Math.PI/180);return{x:ee.x,y:ee.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:ee.startVelocity*.5+Math.random()*ee.startVelocity,angle2D:-N+(.5*I-Math.random()*I),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:ee.color,shape:ee.shape,tick:0,totalTicks:ee.ticks,decay:ee.decay,drift:ee.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:ee.gravity*3,ovalScalar:.6,scalar:ee.scalar,flat:ee.flat}}function te(ee,N){N.x+=Math.cos(N.angle2D)*N.velocity+N.drift,N.y+=Math.sin(N.angle2D)*N.velocity+N.gravity,N.velocity*=N.decay,N.flat?(N.wobble=0,N.wobbleX=N.x+10*N.scalar,N.wobbleY=N.y+10*N.scalar,N.tiltSin=0,N.tiltCos=0,N.random=1):(N.wobble+=N.wobbleSpeed,N.wobbleX=N.x+10*N.scalar*Math.cos(N.wobble),N.wobbleY=N.y+10*N.scalar*Math.sin(N.wobble),N.tiltAngle+=.1,N.tiltSin=Math.sin(N.tiltAngle),N.tiltCos=Math.cos(N.tiltAngle),N.random=Math.random()+2);var I=N.tick++/N.totalTicks,L=N.x+N.random*N.tiltCos,H=N.y+N.random*N.tiltSin,re=N.wobbleX+N.random*N.tiltCos,oe=N.wobbleY+N.random*N.tiltSin;if(ee.fillStyle="rgba("+N.color.r+", "+N.color.g+", "+N.color.b+", "+(1-I)+")",ee.beginPath(),d&&N.shape.type==="path"&&typeof N.shape.path=="string"&&Array.isArray(N.shape.matrix))ee.fill(ce(N.shape.path,N.shape.matrix,N.x,N.y,Math.abs(re-L)*.1,Math.abs(oe-H)*.1,Math.PI/10*N.wobble));else if(N.shape.type==="bitmap"){var K=Math.PI/10*N.wobble,le=Math.abs(re-L)*.1,ye=Math.abs(oe-H)*.1,Ce=N.shape.bitmap.width*N.scalar,xe=N.shape.bitmap.height*N.scalar,j=new DOMMatrix([Math.cos(K)*le,Math.sin(K)*le,-Math.sin(K)*ye,Math.cos(K)*ye,N.x,N.y]);j.multiplySelf(new DOMMatrix(N.shape.matrix));var V=ee.createPattern(y.transform(N.shape.bitmap),"no-repeat");V.setTransform(j),ee.globalAlpha=1-I,ee.fillStyle=V,ee.fillRect(N.x-Ce/2,N.y-xe/2,Ce,xe),ee.globalAlpha=1}else if(N.shape==="circle")ee.ellipse?ee.ellipse(N.x,N.y,Math.abs(re-L)*N.ovalScalar,Math.abs(oe-H)*N.ovalScalar,Math.PI/10*N.wobble,0,2*Math.PI):G(ee,N.x,N.y,Math.abs(re-L)*N.ovalScalar,Math.abs(oe-H)*N.ovalScalar,Math.PI/10*N.wobble,0,2*Math.PI);else if(N.shape==="star")for(var Q=Math.PI/2*3,se=4*N.scalar,q=8*N.scalar,de=N.x,be=N.y,Ee=5,Pe=Math.PI/Ee;Ee--;)de=N.x+Math.cos(Q)*q,be=N.y+Math.sin(Q)*q,ee.lineTo(de,be),Q+=Pe,de=N.x+Math.cos(Q)*se,be=N.y+Math.sin(Q)*se,ee.lineTo(de,be),Q+=Pe;else ee.moveTo(Math.floor(N.x),Math.floor(N.y)),ee.lineTo(Math.floor(N.wobbleX),Math.floor(H)),ee.lineTo(Math.floor(re),Math.floor(oe)),ee.lineTo(Math.floor(L),Math.floor(N.wobbleY));return ee.closePath(),ee.fill(),N.tick<N.totalTicks}function Se(ee,N,I,L,H){var re=N.slice(),oe=ee.getContext("2d"),K,le,ye=g(function(Ce){function xe(){K=le=null,oe.clearRect(0,0,L.width,L.height),y.clear(),H(),Ce()}function j(){l&&!(L.width===u.width&&L.height===u.height)&&(L.width=ee.width=u.width,L.height=ee.height=u.height),!L.width&&!L.height&&(I(ee),L.width=ee.width,L.height=ee.height),oe.clearRect(0,0,L.width,L.height),re=re.filter(function(V){return te(oe,V)}),re.length?K=b.frame(j):xe()}K=b.frame(j),le=xe});return{addFettis:function(Ce){return re=re.concat(Ce),ye},canvas:ee,promise:ye,reset:function(){K&&b.cancel(K),le&&le()}}}function he(ee,N){var I=!ee,L=!!_(N||{},"resize"),H=!1,re=_(N,"disableForReducedMotion",Boolean),oe=c&&!!_(N||{},"useWorker"),K=oe?v():null,le=I?U:T,ye=ee&&K?!!ee.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,xe;function j(Q,se,q){for(var de=_(Q,"particleCount",A),be=_(Q,"angle",Number),Ee=_(Q,"spread",Number),Pe=_(Q,"startVelocity",Number),fe=_(Q,"decay",Number),W=_(Q,"gravity",Number),Y=_(Q,"drift",Number),me=_(Q,"colors",M),Re=_(Q,"ticks",Number),Oe=_(Q,"shapes"),Me=_(Q,"scalar"),Le=!!_(Q,"flat"),qe=B(Q),Ye=de,Ie=[],Ae=ee.width*qe.x,we=ee.height*qe.y;Ye--;)Ie.push(ue({x:Ae,y:we,angle:be,spread:Ee,startVelocity:Pe,color:me[Ye%me.length],shape:Oe[R(0,Oe.length)],ticks:Re,decay:fe,gravity:W,drift:Y,scalar:Me,flat:Le}));return xe?xe.addFettis(Ie):(xe=Se(ee,Ie,le,se,q),xe.promise)}function V(Q){var se=re||_(Q,"disableForReducedMotion",Boolean),q=_(Q,"zIndex",Number);if(se&&Ce)return g(function(Pe){Pe()});I&&xe?ee=xe.canvas:I&&!ee&&(ee=$(q),document.body.appendChild(ee)),L&&!ye&&le(ee);var de={width:ee.width,height:ee.height};K&&!ye&&K.init(ee),ye=!0,K&&(ee.__confetti_initialized=!0);function be(){if(K){var Pe={getBoundingClientRect:function(){if(!I)return ee.getBoundingClientRect()}};le(Pe),K.postMessage({resize:{width:Pe.width,height:Pe.height}});return}de.width=de.height=null}function Ee(){xe=null,L&&(H=!1,e.removeEventListener("resize",be)),I&&ee&&(document.body.contains(ee)&&document.body.removeChild(ee),ee=null,ye=!1)}return L&&!H&&(H=!0,e.addEventListener("resize",be,!1)),K?K.fire(Q,de,Ee):j(Q,de,Ee)}return V.reset=function(){K&&K.reset(),xe&&xe.reset()},V}var Te;function ve(){return Te||(Te=he(null,{useWorker:!0,resize:!0})),Te}function ce(ee,N,I,L,H,re,oe){var K=new Path2D(ee),le=new Path2D;le.addPath(K,new DOMMatrix(N));var ye=new Path2D;return ye.addPath(le,new DOMMatrix([Math.cos(oe)*H,Math.sin(oe)*H,-Math.sin(oe)*re,Math.cos(oe)*re,I,L])),ye}function ae(ee){if(!d)throw new Error("path confetti are not supported in this browser");var N,I;typeof ee=="string"?N=ee:(N=ee.path,I=ee.matrix);var L=new Path2D(N),H=document.createElement("canvas"),re=H.getContext("2d");if(!I){for(var oe=1e3,K=oe,le=oe,ye=0,Ce=0,xe,j,V=0;V<oe;V+=2)for(var Q=0;Q<oe;Q+=2)re.isPointInPath(L,V,Q,"nonzero")&&(K=Math.min(K,V),le=Math.min(le,Q),ye=Math.max(ye,V),Ce=Math.max(Ce,Q));xe=ye-K,j=Ce-le;var se=10,q=Math.min(se/xe,se/j);I=[q,0,0,q,-Math.round(xe/2+K)*q,-Math.round(j/2+le)*q]}return{type:"path",path:N,matrix:I}}function pe(ee){var N,I=1,L="#000000",H='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof ee=="string"?N=ee:(N=ee.text,I="scalar"in ee?ee.scalar:I,H="fontFamily"in ee?ee.fontFamily:H,L="color"in ee?ee.color:L);var re=10*I,oe=""+re+"px "+H,K=new OffscreenCanvas(re,re),le=K.getContext("2d");le.font=oe;var ye=le.measureText(N),Ce=Math.ceil(ye.actualBoundingBoxRight+ye.actualBoundingBoxLeft),xe=Math.ceil(ye.actualBoundingBoxAscent+ye.actualBoundingBoxDescent),j=2,V=ye.actualBoundingBoxLeft+j,Q=ye.actualBoundingBoxAscent+j;Ce+=j+j,xe+=j+j,K=new OffscreenCanvas(Ce,xe),le=K.getContext("2d"),le.font=oe,le.fillStyle=L,le.fillText(N,V,Q);var se=1/I;return{type:"bitmap",bitmap:K.transferToImageBitmap(),matrix:[se,0,0,se,-Ce*se/2,-xe*se/2]}}a.exports=function(){return ve().apply(this,arguments)},a.exports.reset=function(){ve().reset()},a.exports.create=he,a.exports.shapeFromPath=ae,a.exports.shapeFromText=pe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),module,!1);const confetti=module.exports;module.exports.create;const ConfettiContext=reactExports.createContext({}),ConfettiComponent=reactExports.forwardRef((t,e)=>{const{options:a,globalOptions:l={resize:!0,useWorker:!0},manualstart:u=!1,children:c,...d}=t,h=reactExports.useRef(null),m=reactExports.useCallback(b=>{if(b!==null){if(h.current)return;h.current=confetti.create(b,{...l,resize:!0})}else h.current&&(h.current.reset(),h.current=null)},[l]),g=reactExports.useCallback(async(b={})=>{var v;try{await((v=h.current)==null?void 0:v.call(h,{...a,...b}))}catch(C){console.error("Confetti error:",C)}},[a]),y=reactExports.useMemo(()=>({fire:g}),[g]);return reactExports.useImperativeHandle(e,()=>y,[y]),reactExports.useEffect(()=>{u||(async()=>{try{await g()}catch(b){console.error("Confetti effect error:",b)}})()},[u,g]),jsxRuntimeExports.jsxs(ConfettiContext.Provider,{value:y,children:[jsxRuntimeExports.jsx("canvas",{ref:m,...d}),c]})});ConfettiComponent.displayName="Confetti";const formSchema=z.object({apiKey:z.string().min(70,"Invalid API key"),jobDescription:z.string().min(20,"Job description is too short"),messageType:z.string(),outputType:z.string(),resume:z.string().min(10,"Resume must be extracted or provided")});function MyForm(){React2.useState(null);const[t,e]=React2.useState(null),[a,l]=reactExports.useState(!1),[u,c]=reactExports.useState(!1);React2.useState(!1);const[d,h]=reactExports.useState(""),{setGlobalPrompt:m}=usePrompt(),g=useForm({resolver:s(formSchema),defaultValues:{apiKey:"",jobDescription:"",messageType:"Job Interest",outputType:"LinkedIn",resume:""}}),[y,b]=reactExports.useState(null),[v,C]=reactExports.useState(null),S=E=>{const{apiKey:_,resume:A,jobDescription:R,messageType:k,outputType:M}=E;localStorage.setItem("apiKey",_),c(!0);const D=`
Context:
You are provided with a resume and a job description.

Task:
Write a professional, respectful email to a company's HR or recruiter with one of the following intents:

- To express interest in a job role
- To inquire about job opportunities
- To request a referral

Instructions:

Understand the resume: Focus on key skills, experiences, and achievements that are relevant.

Understand the job description: Identify the main responsibilities and required qualifications.

Generate a short, effective message that:
- Shows genuine interest and passion for the role or company
- Highlights 12 key strengths that match the job
- Clearly states the purpose (${k})
- Maintains a polite, professional tone
- Keeps the total message within 150 words

Output Format:
A concise, well-structured email with:
- Polite greeting
- Clear purpose
- Relevant qualifications
- Courteous closing

---

Resume:
${A}

---

Job Description:
${R}

---

Preferred Output Format: ${M}
        `;console.log("Generated Prompt:",D),m(D),(async U=>{try{const T=await axios.post("https://openrouter.ai/api/v1/chat/completions",{model:"mistralai/mistral-small-3.1-24b-instruct:free",messages:[{role:"user",content:[{type:"text",text:U}]}]},{headers:{Authorization:"Bearer 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","Content-Type":"application/json"}});console.log("Response:",T.data),b(T.data);let $=T.data.choices[0].message.content;h($)}catch(T){console.error("Error:",T),C(T.message||"Something went wrong")}finally{c(!1)}})(D)};return reactExports.useEffect(()=>{let E=null;localStorage.getItem("apiKey")&&(E=localStorage.getItem("apiKey"),e(E))},[]),reactExports.useEffect(()=>{t&&(console.log("the api key is",t),g.setValue("apiKey",t))},[t]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:d?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(TiptapEditor,{markdownText:d}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>h(null),children:[jsxRuntimeExports.jsx(CircleChevronLeft,{}),"Back"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{l(!0),copyToClipboard(d)},children:[jsxRuntimeExports.jsx(Copy,{}),a?"copied":"Copy Response"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{h("Loading"),S(g.getValues())},size:"sm",children:[jsxRuntimeExports.jsx(RefreshCw,{}),"Regenerate"]})]})]}):jsxRuntimeExports.jsx(Form,{...g,children:jsxRuntimeExports.jsxs("form",{onSubmit:g.handleSubmit(S),className:"space-y-6 p-4",children:[jsxRuntimeExports.jsx(FormField,{control:g.control,name:"apiKey",value:t,render:({field:E})=>jsxRuntimeExports.jsxs(FormItem,{className:t?"hidden":"",children:[jsxRuntimeExports.jsx(FormLabel,{children:"OpenAPI"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{value:t,placeholder:"Paste your key here",...E})}),jsxRuntimeExports.jsx(FormDescription,{children:"Your API key here"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(PdfDropzone,{onTextExtracted:E=>g.setValue("resume",E)}),jsxRuntimeExports.jsx(FormField,{control:g.control,name:"jobDescription",render:({field:E})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Job Description"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Textarea,{placeholder:"Paste Your Job Description Here...",className:"resize-none",...E})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(FormField,{control:g.control,name:"messageType",render:({field:E})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Message Type"}),jsxRuntimeExports.jsxs(Select,{onValueChange:E.onChange,value:E.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select message type"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"Job Inquiry",children:"Job Inquiry"}),jsxRuntimeExports.jsx(SelectItem,{value:"Job Interest",children:"Job Interest"}),jsxRuntimeExports.jsx(SelectItem,{value:"Referral Request",children:"Referral Request"})]})]}),jsxRuntimeExports.jsx(FormDescription,{children:"Select the message type (e.g., Mail, LinkedIn)"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:g.control,name:"outputType",render:({field:E})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Output Type"}),jsxRuntimeExports.jsxs(Select,{onValueChange:E.onChange,value:E.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select output type"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"Email",children:"Email"}),jsxRuntimeExports.jsx(SelectItem,{value:"LinkedIn",children:"LinkedIn"})]})]}),jsxRuntimeExports.jsx(FormDescription,{children:"You can manage output types in your settings."}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),u&&jsxRuntimeExports.jsxs(Alert,{className:"bg-gradient-to-r from-pink-600 to-indigo-600 bg-clip-text text-transparent dark:from-pink-400 dark:to-indigo-400",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"size-4 animate-spin"}),jsxRuntimeExports.jsx(AlertTitle,{children:"Hang Tight!"}),jsxRuntimeExports.jsx(AlertDescription,{children:"Were crafting the best possible response for you. Thanks for your patience!"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",children:"Submit"})]})})})}function composeEventHandlers$2(t,e,{checkForDefaultPrevented:a=!0}={}){return function(u){if(t==null||t(u),a===!1||!u.defaultPrevented)return e==null?void 0:e(u)}}function setRef$2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$2(...t){return e=>{let a=!1;const l=t.map(u=>{const c=setRef$2(u,e);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let u=0;u<l.length;u++){const c=l[u];typeof c=="function"?c():setRef$2(t[u],null)}}}}function createContextScope$2(t,e=[]){let a=[];function l(c,d){const h=reactExports.createContext(d),m=a.length;a=[...a,d];const g=b=>{var A;const{scope:v,children:C,...S}=b,E=((A=v==null?void 0:v[t])==null?void 0:A[m])||h,_=reactExports.useMemo(()=>S,Object.values(S));return jsxRuntimeExports.jsx(E.Provider,{value:_,children:C})};g.displayName=c+"Provider";function y(b,v){var E;const C=((E=v==null?void 0:v[t])==null?void 0:E[m])||h,S=reactExports.useContext(C);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[g,y]}const u=()=>{const c=a.map(d=>reactExports.createContext(d));return function(h){const m=(h==null?void 0:h[t])||c;return reactExports.useMemo(()=>({[`__scope${t}`]:{...h,[t]:m}}),[h,m])}};return u.scopeName=t,[l,composeContextScopes$2(u,...e)]}function composeContextScopes$2(...t){const e=t[0];if(t.length===1)return e;const a=()=>{const l=t.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(c){const d=l.reduce((h,{useScope:m,scopeName:g})=>{const b=m(c)[`__scope${g}`];return{...h,...b}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return a.scopeName=e.scopeName,a}var useLayoutEffect2$2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useInsertionEffect$1=React[" useInsertionEffect ".trim().toString()]||useLayoutEffect2$2;function useControllableState$1({prop:t,defaultProp:e,onChange:a=()=>{},caller:l}){const[u,c,d]=useUncontrolledState$1({defaultProp:e,onChange:a}),h=t!==void 0,m=h?t:u;{const y=reactExports.useRef(t!==void 0);reactExports.useEffect(()=>{const b=y.current;b!==h&&console.warn(`${l} is changing from ${b?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,l])}const g=reactExports.useCallback(y=>{var b;if(h){const v=isFunction$1(y)?y(t):y;v!==t&&((b=d.current)==null||b.call(d,v))}else c(y)},[h,t,c,d]);return[m,g]}function useUncontrolledState$1({defaultProp:t,onChange:e}){const[a,l]=reactExports.useState(t),u=reactExports.useRef(a),c=reactExports.useRef(e);return useInsertionEffect$1(()=>{c.current=e},[e]),reactExports.useEffect(()=>{var d;u.current!==a&&((d=c.current)==null||d.call(c,a),u.current=a)},[a,u]),[a,l,c]}function isFunction$1(t){return typeof t=="function"}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((t,e)=>{const a=createSlot(`Primitive.${e}`),l=reactExports.forwardRef((u,c)=>{const{asChild:d,...h}=u,m=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...h,ref:c})});return l.displayName=`Primitive.${e}`,{...t,[e]:l}},{});function composeEventHandlers$1(t,e,{checkForDefaultPrevented:a=!0}={}){return function(u){if(t==null||t(u),a===!1||!u.defaultPrevented)return e==null?void 0:e(u)}}function createContextScope$1(t,e=[]){let a=[];function l(c,d){const h=reactExports.createContext(d),m=a.length;a=[...a,d];const g=b=>{var A;const{scope:v,children:C,...S}=b,E=((A=v==null?void 0:v[t])==null?void 0:A[m])||h,_=reactExports.useMemo(()=>S,Object.values(S));return jsxRuntimeExports.jsx(E.Provider,{value:_,children:C})};g.displayName=c+"Provider";function y(b,v){var E;const C=((E=v==null?void 0:v[t])==null?void 0:E[m])||h,S=reactExports.useContext(C);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[g,y]}const u=()=>{const c=a.map(d=>reactExports.createContext(d));return function(h){const m=(h==null?void 0:h[t])||c;return reactExports.useMemo(()=>({[`__scope${t}`]:{...h,[t]:m}}),[h,m])}};return u.scopeName=t,[l,composeContextScopes$1(u,...e)]}function composeContextScopes$1(...t){const e=t[0];if(t.length===1)return e;const a=()=>{const l=t.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(c){const d=l.reduce((h,{useScope:m,scopeName:g})=>{const b=m(c)[`__scope${g}`];return{...h,...b}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return a.scopeName=e.scopeName,a}function setRef$1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$1(...t){return e=>{let a=!1;const l=t.map(u=>{const c=setRef$1(u,e);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let u=0;u<l.length;u++){const c=l[u];typeof c=="function"?c():setRef$1(t[u],null)}}}}function useComposedRefs$1(...t){return reactExports.useCallback(composeRefs$1(...t),t)}function createCollection$1(t){const e=t+"CollectionProvider",[a,l]=createContextScope$1(e),[u,c]=a(e,{collectionRef:{current:null},itemMap:new Map}),d=E=>{const{scope:_,children:A}=E,R=React2.useRef(null),k=React2.useRef(new Map).current;return jsxRuntimeExports.jsx(u,{scope:_,itemMap:k,collectionRef:R,children:A})};d.displayName=e;const h=t+"CollectionSlot",m=createSlot(h),g=React2.forwardRef((E,_)=>{const{scope:A,children:R}=E,k=c(h,A),M=useComposedRefs$1(_,k.collectionRef);return jsxRuntimeExports.jsx(m,{ref:M,children:R})});g.displayName=h;const y=t+"CollectionItemSlot",b="data-radix-collection-item",v=createSlot(y),C=React2.forwardRef((E,_)=>{const{scope:A,children:R,...k}=E,M=React2.useRef(null),D=useComposedRefs$1(_,M),B=c(y,A);return React2.useEffect(()=>(B.itemMap.set(M,{ref:M,...k}),()=>void B.itemMap.delete(M))),jsxRuntimeExports.jsx(v,{[b]:"",ref:D,children:R})});C.displayName=y;function S(E){const _=c(t+"CollectionConsumer",E);return React2.useCallback(()=>{const R=_.collectionRef.current;if(!R)return[];const k=Array.from(R.querySelectorAll(`[${b}]`));return Array.from(_.itemMap.values()).sort((B,U)=>k.indexOf(B.ref.current)-k.indexOf(U.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:d,Slot:g,ItemSlot:C},S,l]}var DirectionContext$1=reactExports.createContext(void 0);function useDirection$1(t){const e=reactExports.useContext(DirectionContext$1);return t||e||"ltr"}var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((t,e)=>{const a=createSlot(`Primitive.${e}`),l=reactExports.forwardRef((u,c)=>{const{asChild:d,...h}=u,m=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...h,ref:c})});return l.displayName=`Primitive.${e}`,{...t,[e]:l}},{});function dispatchDiscreteCustomEvent(t,e){t&&reactDomExports.flushSync(()=>t.dispatchEvent(e))}function useCallbackRef$1(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...a)=>{var l;return(l=e.current)==null?void 0:l.call(e,...a)},[])}function useEscapeKeydown(t,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$1(t);reactExports.useEffect(()=>{const l=u=>{u.key==="Escape"&&a(u)};return e.addEventListener("keydown",l,{capture:!0}),()=>e.removeEventListener("keydown",l,{capture:!0})},[a,e])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((t,e)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,onDismiss:h,...m}=t,g=reactExports.useContext(DismissableLayerContext),[y,b]=reactExports.useState(null),v=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=reactExports.useState({}),S=useComposedRefs$1(e,U=>b(U)),E=Array.from(g.layers),[_]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),A=E.indexOf(_),R=y?E.indexOf(y):-1,k=g.layersWithOutsidePointerEventsDisabled.size>0,M=R>=A,D=usePointerDownOutside(U=>{const T=U.target,$=[...g.branches].some(G=>G.contains(T));!M||$||(u==null||u(U),d==null||d(U),U.defaultPrevented||h==null||h())},v),B=useFocusOutside(U=>{const T=U.target;[...g.branches].some(G=>G.contains(T))||(c==null||c(U),d==null||d(U),U.defaultPrevented||h==null||h())},v);return useEscapeKeydown(U=>{R===g.layers.size-1&&(l==null||l(U),!U.defaultPrevented&&h&&(U.preventDefault(),h()))},v),reactExports.useEffect(()=>{if(y)return a&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(y)),g.layers.add(y),dispatchUpdate(),()=>{a&&g.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=originalBodyPointerEvents)}},[y,v,a,g]),reactExports.useEffect(()=>()=>{y&&(g.layers.delete(y),g.layersWithOutsidePointerEventsDisabled.delete(y),dispatchUpdate())},[y,g]),reactExports.useEffect(()=>{const U=()=>C({});return document.addEventListener(CONTEXT_UPDATE,U),()=>document.removeEventListener(CONTEXT_UPDATE,U)},[]),jsxRuntimeExports.jsx(Primitive$1.div,{...m,ref:S,style:{pointerEvents:k?M?"auto":"none":void 0,...t.style},onFocusCapture:composeEventHandlers$1(t.onFocusCapture,B.onFocusCapture),onBlurCapture:composeEventHandlers$1(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:composeEventHandlers$1(t.onPointerDownCapture,D.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((t,e)=>{const a=reactExports.useContext(DismissableLayerContext),l=reactExports.useRef(null),u=useComposedRefs$1(e,l);return reactExports.useEffect(()=>{const c=l.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),jsxRuntimeExports.jsx(Primitive$1.div,{...t,ref:u})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(t,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$1(t),l=reactExports.useRef(!1),u=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const c=h=>{if(h.target&&!l.current){let m=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,a,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",u.current),u.current=m,e.addEventListener("click",u.current,{once:!0})):m()}else e.removeEventListener("click",u.current);l.current=!1},d=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),e.removeEventListener("pointerdown",c),e.removeEventListener("click",u.current)}},[e,a]),{onPointerDownCapture:()=>l.current=!0}}function useFocusOutside(t,e=globalThis==null?void 0:globalThis.document){const a=useCallbackRef$1(t),l=reactExports.useRef(!1);return reactExports.useEffect(()=>{const u=c=>{c.target&&!l.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,a,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",u),()=>e.removeEventListener("focusin",u)},[e,a]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function dispatchUpdate(){const t=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(t)}function handleAndDispatchCustomEvent(t,e,a,{discrete:l}){const u=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});e&&u.addEventListener(t,e,{once:!0}),l?dispatchDiscreteCustomEvent(u,c):u.dispatchEvent(c)}var count$2=0;function useFocusGuards(){reactExports.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",t[1]??createFocusGuard()),count$2++,()=>{count$2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),count$2--}},[])}function createFocusGuard(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((t,e)=>{const{loop:a=!1,trapped:l=!1,onMountAutoFocus:u,onUnmountAutoFocus:c,...d}=t,[h,m]=reactExports.useState(null),g=useCallbackRef$1(u),y=useCallbackRef$1(c),b=reactExports.useRef(null),v=useComposedRefs$1(e,E=>m(E)),C=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(l){let E=function(k){if(C.paused||!h)return;const M=k.target;h.contains(M)?b.current=M:focus(b.current,{select:!0})},_=function(k){if(C.paused||!h)return;const M=k.relatedTarget;M!==null&&(h.contains(M)||focus(b.current,{select:!0}))},A=function(k){if(document.activeElement===document.body)for(const D of k)D.removedNodes.length>0&&focus(h)};document.addEventListener("focusin",E),document.addEventListener("focusout",_);const R=new MutationObserver(A);return h&&R.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",_),R.disconnect()}}},[l,h,C.paused]),reactExports.useEffect(()=>{if(h){focusScopesStack.add(C);const E=document.activeElement;if(!h.contains(E)){const A=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);h.addEventListener(AUTOFOCUS_ON_MOUNT,g),h.dispatchEvent(A),A.defaultPrevented||(focusFirst$2(removeLinks(getTabbableCandidates(h)),{select:!0}),document.activeElement===E&&focus(h))}return()=>{h.removeEventListener(AUTOFOCUS_ON_MOUNT,g),setTimeout(()=>{const A=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);h.addEventListener(AUTOFOCUS_ON_UNMOUNT,y),h.dispatchEvent(A),A.defaultPrevented||focus(E??document.body,{select:!0}),h.removeEventListener(AUTOFOCUS_ON_UNMOUNT,y),focusScopesStack.remove(C)},0)}}},[h,g,y,C]);const S=reactExports.useCallback(E=>{if(!a&&!l||C.paused)return;const _=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,A=document.activeElement;if(_&&A){const R=E.currentTarget,[k,M]=getTabbableEdges(R);k&&M?!E.shiftKey&&A===M?(E.preventDefault(),a&&focus(k,{select:!0})):E.shiftKey&&A===k&&(E.preventDefault(),a&&focus(M,{select:!0})):A===R&&E.preventDefault()}},[a,l,C.paused]);return jsxRuntimeExports.jsx(Primitive$1.div,{tabIndex:-1,...d,ref:v,onKeyDown:S})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$2(t,{select:e=!1}={}){const a=document.activeElement;for(const l of t)if(focus(l,{select:e}),document.activeElement!==a)return}function getTabbableEdges(t){const e=getTabbableCandidates(t),a=findVisible(e,t),l=findVisible(e.reverse(),t);return[a,l]}function getTabbableCandidates(t){const e=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const u=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||u?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)e.push(a.currentNode);return e}function findVisible(t,e){for(const a of t)if(!isHidden(a,{upTo:e}))return a}function isHidden(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function isSelectableInput(t){return t instanceof HTMLInputElement&&"select"in t}function focus(t,{select:e=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&isSelectableInput(t)&&e&&t.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let t=[];return{add(e){const a=t[0];e!==a&&(a==null||a.pause()),t=arrayRemove(t,e),t.unshift(e)},remove(e){var a;t=arrayRemove(t,e),(a=t[0])==null||a.resume()}}}function arrayRemove(t,e){const a=[...t],l=a.indexOf(e);return l!==-1&&a.splice(l,1),a}function removeLinks(t){return t.filter(e=>e.tagName!=="A")}var useLayoutEffect2$1=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},NAME="Arrow",Arrow$1=reactExports.forwardRef((t,e)=>{const{children:a,width:l=10,height:u=5,...c}=t;return jsxRuntimeExports.jsx(Primitive$1.svg,{...c,ref:e,width:l,height:u,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME;var Root$1=Arrow$1;function useSize(t){const[e,a]=reactExports.useState(void 0);return useLayoutEffect2$1(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const l=new ResizeObserver(u=>{if(!Array.isArray(u)||!u.length)return;const c=u[0];let d,h;if("borderBoxSize"in c){const m=c.borderBoxSize,g=Array.isArray(m)?m[0]:m;d=g.inlineSize,h=g.blockSize}else d=t.offsetWidth,h=t.offsetHeight;a({width:d,height:h})});return l.observe(t,{box:"border-box"}),()=>l.unobserve(t)}else a(void 0)},[t]),e}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$1(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=t=>{const{__scopePopper:e,children:a}=t,[l,u]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:e,anchor:l,onAnchorChange:u,children:a})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((t,e)=>{const{__scopePopper:a,virtualRef:l,...u}=t,c=usePopperContext(ANCHOR_NAME$1,a),d=reactExports.useRef(null),h=useComposedRefs$1(e,d);return reactExports.useEffect(()=>{c.onAnchorChange((l==null?void 0:l.current)||d.current)}),l?null:jsxRuntimeExports.jsx(Primitive$1.div,{...u,ref:h})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$2="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$2),PopperContent=reactExports.forwardRef((t,e)=>{var K,le,ye,Ce,xe,j;const{__scopePopper:a,side:l="bottom",sideOffset:u=0,align:c="center",alignOffset:d=0,arrowPadding:h=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:v=!1,updatePositionStrategy:C="optimized",onPlaced:S,...E}=t,_=usePopperContext(CONTENT_NAME$2,a),[A,R]=reactExports.useState(null),k=useComposedRefs$1(e,V=>R(V)),[M,D]=reactExports.useState(null),B=useSize(M),U=(B==null?void 0:B.width)??0,T=(B==null?void 0:B.height)??0,$=l+(c!=="center"?"-"+c:""),G=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},ue=Array.isArray(g)?g:[g],te=ue.length>0,Se={padding:G,boundary:ue.filter(isNotNull),altBoundary:te},{refs:he,floatingStyles:Te,placement:ve,isPositioned:ce,middlewareData:ae}=useFloating({strategy:"fixed",placement:$,whileElementsMounted:(...V)=>autoUpdate(...V,{animationFrame:C==="always"}),elements:{reference:_.anchor},middleware:[offset({mainAxis:u+T,alignmentAxis:d}),m&&shift$1({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?limitShift():void 0,...Se}),m&&flip({...Se}),size({...Se,apply:({elements:V,rects:Q,availableWidth:se,availableHeight:q})=>{const{width:de,height:be}=Q.reference,Ee=V.floating.style;Ee.setProperty("--radix-popper-available-width",`${se}px`),Ee.setProperty("--radix-popper-available-height",`${q}px`),Ee.setProperty("--radix-popper-anchor-width",`${de}px`),Ee.setProperty("--radix-popper-anchor-height",`${be}px`)}}),M&&arrow$2({element:M,padding:h}),transformOrigin({arrowWidth:U,arrowHeight:T}),v&&hide({strategy:"referenceHidden",...Se})]}),[pe,ee]=getSideAndAlignFromPlacement(ve),N=useCallbackRef$1(S);useLayoutEffect2$1(()=>{ce&&(N==null||N())},[ce,N]);const I=(K=ae.arrow)==null?void 0:K.x,L=(le=ae.arrow)==null?void 0:le.y,H=((ye=ae.arrow)==null?void 0:ye.centerOffset)!==0,[re,oe]=reactExports.useState();return useLayoutEffect2$1(()=>{A&&oe(window.getComputedStyle(A).zIndex)},[A]),jsxRuntimeExports.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...Te,transform:ce?Te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(Ce=ae.transformOrigin)==null?void 0:Ce.x,(xe=ae.transformOrigin)==null?void 0:xe.y].join(" "),...((j=ae.hide)==null?void 0:j.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:a,placedSide:pe,onArrowChange:D,arrowX:I,arrowY:L,shouldHideArrow:H,children:jsxRuntimeExports.jsx(Primitive$1.div,{"data-side":pe,"data-align":ee,...E,ref:k,style:{...E.style,animation:ce?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$2;var ARROW_NAME$2="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function t(e,a){const{__scopePopper:l,...u}=e,c=useContentContext(ARROW_NAME$2,l),d=OPPOSITE_SIDE[c.placedSide];return jsxRuntimeExports.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$1,{...u,ref:a,style:{...u.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$2;function isNotNull(t){return t!==null}var transformOrigin=t=>({name:"transformOrigin",options:t,fn(e){var _,A,R;const{placement:a,rects:l,middlewareData:u}=e,d=((_=u.arrow)==null?void 0:_.centerOffset)!==0,h=d?0:t.arrowWidth,m=d?0:t.arrowHeight,[g,y]=getSideAndAlignFromPlacement(a),b={start:"0%",center:"50%",end:"100%"}[y],v=(((A=u.arrow)==null?void 0:A.x)??0)+h/2,C=(((R=u.arrow)==null?void 0:R.y)??0)+m/2;let S="",E="";return g==="bottom"?(S=d?b:`${v}px`,E=`${-m}px`):g==="top"?(S=d?b:`${v}px`,E=`${l.floating.height+m}px`):g==="right"?(S=`${-m}px`,E=d?b:`${C}px`):g==="left"&&(S=`${l.floating.width+m}px`,E=d?b:`${C}px`),{data:{x:S,y:E}}}});function getSideAndAlignFromPlacement(t){const[e,a="center"]=t.split("-");return[e,a]}var Root2$1=Popper,Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,PORTAL_NAME$2="Portal",Portal$1=reactExports.forwardRef((t,e)=>{var h;const{container:a,...l}=t,[u,c]=reactExports.useState(!1);useLayoutEffect2$1(()=>c(!0),[]);const d=a||u&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return d?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$1.div,{...l,ref:e}),d):null});Portal$1.displayName=PORTAL_NAME$2;function composeEventHandlers(t,e,{checkForDefaultPrevented:a=!0}={}){return function(u){if(t==null||t(u),a===!1||!u.defaultPrevented)return e==null?void 0:e(u)}}function createContextScope(t,e=[]){let a=[];function l(c,d){const h=reactExports.createContext(d),m=a.length;a=[...a,d];const g=b=>{var A;const{scope:v,children:C,...S}=b,E=((A=v==null?void 0:v[t])==null?void 0:A[m])||h,_=reactExports.useMemo(()=>S,Object.values(S));return jsxRuntimeExports.jsx(E.Provider,{value:_,children:C})};g.displayName=c+"Provider";function y(b,v){var E;const C=((E=v==null?void 0:v[t])==null?void 0:E[m])||h,S=reactExports.useContext(C);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[g,y]}const u=()=>{const c=a.map(d=>reactExports.createContext(d));return function(h){const m=(h==null?void 0:h[t])||c;return reactExports.useMemo(()=>({[`__scope${t}`]:{...h,[t]:m}}),[h,m])}};return u.scopeName=t,[l,composeContextScopes(u,...e)]}function composeContextScopes(...t){const e=t[0];if(t.length===1)return e;const a=()=>{const l=t.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(c){const d=l.reduce((h,{useScope:m,scopeName:g})=>{const b=m(c)[`__scope${g}`];return{...h,...b}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return a.scopeName=e.scopeName,a}function setRef(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs(...t){return e=>{let a=!1;const l=t.map(u=>{const c=setRef(u,e);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let u=0;u<l.length;u++){const c=l[u];typeof c=="function"?c():setRef(t[u],null)}}}}function useComposedRefs(...t){return reactExports.useCallback(composeRefs(...t),t)}function createCollection(t){const e=t+"CollectionProvider",[a,l]=createContextScope(e),[u,c]=a(e,{collectionRef:{current:null},itemMap:new Map}),d=E=>{const{scope:_,children:A}=E,R=React2.useRef(null),k=React2.useRef(new Map).current;return jsxRuntimeExports.jsx(u,{scope:_,itemMap:k,collectionRef:R,children:A})};d.displayName=e;const h=t+"CollectionSlot",m=createSlot(h),g=React2.forwardRef((E,_)=>{const{scope:A,children:R}=E,k=c(h,A),M=useComposedRefs(_,k.collectionRef);return jsxRuntimeExports.jsx(m,{ref:M,children:R})});g.displayName=h;const y=t+"CollectionItemSlot",b="data-radix-collection-item",v=createSlot(y),C=React2.forwardRef((E,_)=>{const{scope:A,children:R,...k}=E,M=React2.useRef(null),D=useComposedRefs(_,M),B=c(y,A);return React2.useEffect(()=>(B.itemMap.set(M,{ref:M,...k}),()=>void B.itemMap.delete(M))),jsxRuntimeExports.jsx(v,{[b]:"",ref:D,children:R})});C.displayName=y;function S(E){const _=c(t+"CollectionConsumer",E);return React2.useCallback(()=>{const R=_.collectionRef.current;if(!R)return[];const k=Array.from(R.querySelectorAll(`[${b}]`));return Array.from(_.itemMap.values()).sort((B,U)=>k.indexOf(B.ref.current)-k.indexOf(U.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:d,Slot:g,ItemSlot:C},S,l]}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId$1=React[" useId ".trim().toString()]||(()=>{}),count$1=0;function useId$1(t){const[e,a]=reactExports.useState(useReactId$1());return useLayoutEffect2(()=>{a(l=>l??String(count$1++))},[t]),e?`radix-${e}`:""}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((t,e)=>{const a=createSlot(`Primitive.${e}`),l=reactExports.forwardRef((u,c)=>{const{asChild:d,...h}=u,m=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...h,ref:c})});return l.displayName=`Primitive.${e}`,{...t,[e]:l}},{});function useCallbackRef(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...a)=>{var l;return(l=e.current)==null?void 0:l.call(e,...a)},[])}var useInsertionEffect=React[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:t,defaultProp:e,onChange:a=()=>{},caller:l}){const[u,c,d]=useUncontrolledState({defaultProp:e,onChange:a}),h=t!==void 0,m=h?t:u;{const y=reactExports.useRef(t!==void 0);reactExports.useEffect(()=>{const b=y.current;b!==h&&console.warn(`${l} is changing from ${b?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,l])}const g=reactExports.useCallback(y=>{var b;if(h){const v=isFunction(y)?y(t):y;v!==t&&((b=d.current)==null||b.call(d,v))}else c(y)},[h,t,c,d]);return[m,g]}function useUncontrolledState({defaultProp:t,onChange:e}){const[a,l]=reactExports.useState(t),u=reactExports.useRef(a),c=reactExports.useRef(e);return useInsertionEffect(()=>{c.current=e},[e]),reactExports.useEffect(()=>{var d;u.current!==a&&((d=c.current)==null||d.call(c,a),u.current=a)},[a,u]),[a,l,c]}function isFunction(t){return typeof t=="function"}var DirectionContext=reactExports.createContext(void 0);function useDirection(t){const e=reactExports.useContext(DirectionContext);return t||e||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$2="RovingFocusGroup",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(GROUP_NAME$2),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$2,[createCollectionScope$1]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$2),RovingFocusGroup=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Collection$1.Provider,{scope:t.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:t.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...t,ref:e})})}));RovingFocusGroup.displayName=GROUP_NAME$2;var RovingFocusGroupImpl=reactExports.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:a,orientation:l,loop:u=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:m,onEntryFocus:g,preventScrollOnEntryFocus:y=!1,...b}=t,v=reactExports.useRef(null),C=useComposedRefs(e,v),S=useDirection(c),[E,_]=useControllableState({prop:d,defaultProp:h??null,onChange:m,caller:GROUP_NAME$2}),[A,R]=reactExports.useState(!1),k=useCallbackRef(g),M=useCollection$1(a),D=reactExports.useRef(!1),[B,U]=reactExports.useState(0);return reactExports.useEffect(()=>{const T=v.current;if(T)return T.addEventListener(ENTRY_FOCUS,k),()=>T.removeEventListener(ENTRY_FOCUS,k)},[k]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:a,orientation:l,dir:S,loop:u,currentTabStopId:E,onItemFocus:reactExports.useCallback(T=>_(T),[_]),onItemShiftTab:reactExports.useCallback(()=>R(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>U(T=>T+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>U(T=>T-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:A||B===0?-1:0,"data-orientation":l,...b,ref:C,style:{outline:"none",...t.style},onMouseDown:composeEventHandlers(t.onMouseDown,()=>{D.current=!0}),onFocus:composeEventHandlers(t.onFocus,T=>{const $=!D.current;if(T.target===T.currentTarget&&$&&!A){const G=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(T.currentTarget.dispatchEvent(G),!G.defaultPrevented){const ue=M().filter(ve=>ve.focusable),te=ue.find(ve=>ve.active),Se=ue.find(ve=>ve.id===E),Te=[te,Se,...ue].filter(Boolean).map(ve=>ve.ref.current);focusFirst$1(Te,y)}}D.current=!1}),onBlur:composeEventHandlers(t.onBlur,()=>R(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:a,focusable:l=!0,active:u=!1,tabStopId:c,children:d,...h}=t,m=useId$1(),g=c||m,y=useRovingFocusContext(ITEM_NAME$2,a),b=y.currentTabStopId===g,v=useCollection$1(a),{onFocusableItemAdd:C,onFocusableItemRemove:S,currentTabStopId:E}=y;return reactExports.useEffect(()=>{if(l)return C(),()=>S()},[l,C,S]),jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:a,id:g,focusable:l,active:u,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:b?0:-1,"data-orientation":y.orientation,...h,ref:e,onMouseDown:composeEventHandlers(t.onMouseDown,_=>{l?y.onItemFocus(g):_.preventDefault()}),onFocus:composeEventHandlers(t.onFocus,()=>y.onItemFocus(g)),onKeyDown:composeEventHandlers(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){y.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const A=getFocusIntent(_,y.orientation,y.dir);if(A!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=v().filter(M=>M.focusable).map(M=>M.ref.current);if(A==="last")k.reverse();else if(A==="prev"||A==="next"){A==="prev"&&k.reverse();const M=k.indexOf(_.currentTarget);k=y.loop?wrapArray$1(k,M+1):k.slice(M+1)}setTimeout(()=>focusFirst$1(k))}}),children:typeof d=="function"?d({isCurrentTabStop:b,hasTabStop:E!=null}):d})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function getFocusIntent(t,e,a){const l=getDirectionAwareKey(t.key,a);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(l))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(l)))return MAP_KEY_TO_FOCUS_INTENT[l]}function focusFirst$1(t,e=!1){const a=document.activeElement;for(const l of t)if(l===a||(l.focus({preventScroll:e}),document.activeElement!==a))return}function wrapArray$1(t,e){return t.map((a,l)=>t[(e+l)%t.length])}var Root=RovingFocusGroup,Item=RovingFocusGroupItem,SELECTION_KEYS=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,"ArrowRight"],rtl:[...SELECTION_KEYS,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection,useCollection,createCollectionScope]=createCollection$1(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope$1(MENU_NAME,[createCollectionScope,createPopperScope,createRovingFocusGroupScope]),usePopperScope=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=t=>{const{__scopeMenu:e,open:a=!1,children:l,dir:u,onOpenChange:c,modal:d=!0}=t,h=usePopperScope(e),[m,g]=reactExports.useState(null),y=reactExports.useRef(!1),b=useCallbackRef$1(c),v=useDirection$1(u);return reactExports.useEffect(()=>{const C=()=>{y.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>y.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$1,{...h,children:jsxRuntimeExports.jsx(MenuProvider,{scope:e,open:a,onOpenChange:b,content:m,onContentChange:g,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:e,onClose:reactExports.useCallback(()=>b(!1),[b]),isUsingKeyboardRef:y,dir:v,modal:d,children:l})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((t,e)=>{const{__scopeMenu:a,...l}=t,u=usePopperScope(a);return jsxRuntimeExports.jsx(Anchor,{...u,...l,ref:e})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$1="MenuPortal",[PortalProvider,usePortalContext]=createMenuContext(PORTAL_NAME$1,{forceMount:void 0}),MenuPortal=t=>{const{__scopeMenu:e,forceMount:a,children:l,container:u}=t,c=useMenuContext(PORTAL_NAME$1,e);return jsxRuntimeExports.jsx(PortalProvider,{scope:e,forceMount:a,children:jsxRuntimeExports.jsx(Presence,{present:a||c.open,children:jsxRuntimeExports.jsx(Portal$1,{asChild:!0,container:u,children:l})})})};MenuPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$1="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$1),MenuContent=reactExports.forwardRef((t,e)=>{const a=usePortalContext(CONTENT_NAME$1,t.__scopeMenu),{forceMount:l=a.forceMount,...u}=t,c=useMenuContext(CONTENT_NAME$1,t.__scopeMenu),d=useMenuRootContext(CONTENT_NAME$1,t.__scopeMenu);return jsxRuntimeExports.jsx(Collection.Provider,{scope:t.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:l||c.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:t.__scopeMenu,children:d.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...u,ref:e}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...u,ref:e})})})})}),MenuRootContentModal=reactExports.forwardRef((t,e)=>{const a=useMenuContext(CONTENT_NAME$1,t.__scopeMenu),l=reactExports.useRef(null),u=useComposedRefs$1(e,l);return reactExports.useEffect(()=>{const c=l.current;if(c)return hideOthers(c)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...t,ref:u,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers$1(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((t,e)=>{const a=useMenuContext(CONTENT_NAME$1,t.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),Slot=createSlot("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeMenu:a,loop:l=!1,trapFocus:u,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:h,onEntryFocus:m,onEscapeKeyDown:g,onPointerDownOutside:y,onFocusOutside:b,onInteractOutside:v,onDismiss:C,disableOutsideScroll:S,...E}=t,_=useMenuContext(CONTENT_NAME$1,a),A=useMenuRootContext(CONTENT_NAME$1,a),R=usePopperScope(a),k=useRovingFocusGroupScope(a),M=useCollection(a),[D,B]=reactExports.useState(null),U=reactExports.useRef(null),T=useComposedRefs$1(e,U,_.onContentChange),$=reactExports.useRef(0),G=reactExports.useRef(""),ue=reactExports.useRef(0),te=reactExports.useRef(null),Se=reactExports.useRef("right"),he=reactExports.useRef(0),Te=S?ReactRemoveScroll:reactExports.Fragment,ve=S?{as:Slot,allowPinchZoom:!0}:void 0,ce=pe=>{var K,le;const ee=G.current+pe,N=M().filter(ye=>!ye.disabled),I=document.activeElement,L=(K=N.find(ye=>ye.ref.current===I))==null?void 0:K.textValue,H=N.map(ye=>ye.textValue),re=getNextMatch(H,ee,L),oe=(le=N.find(ye=>ye.textValue===re))==null?void 0:le.ref.current;(function ye(Ce){G.current=Ce,window.clearTimeout($.current),Ce!==""&&($.current=window.setTimeout(()=>ye(""),1e3))})(ee),oe&&setTimeout(()=>oe.focus())};reactExports.useEffect(()=>()=>window.clearTimeout($.current),[]),useFocusGuards();const ae=reactExports.useCallback(pe=>{var N,I;return Se.current===((N=te.current)==null?void 0:N.side)&&isPointerInGraceArea(pe,(I=te.current)==null?void 0:I.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:a,searchRef:G,onItemEnter:reactExports.useCallback(pe=>{ae(pe)&&pe.preventDefault()},[ae]),onItemLeave:reactExports.useCallback(pe=>{var ee;ae(pe)||((ee=U.current)==null||ee.focus(),B(null))},[ae]),onTriggerLeave:reactExports.useCallback(pe=>{ae(pe)&&pe.preventDefault()},[ae]),pointerGraceTimerRef:ue,onPointerGraceIntentChange:reactExports.useCallback(pe=>{te.current=pe},[]),children:jsxRuntimeExports.jsx(Te,{...ve,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:u,onMountAutoFocus:composeEventHandlers$1(c,pe=>{var ee;pe.preventDefault(),(ee=U.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:g,onPointerDownOutside:y,onFocusOutside:b,onInteractOutside:v,onDismiss:C,children:jsxRuntimeExports.jsx(Root,{asChild:!0,...k,dir:A.dir,orientation:"vertical",loop:l,currentTabStopId:D,onCurrentTabStopIdChange:B,onEntryFocus:composeEventHandlers$1(m,pe=>{A.isUsingKeyboardRef.current||pe.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(_.open),"data-radix-menu-content":"",dir:A.dir,...R,...E,ref:T,style:{outline:"none",...E.style},onKeyDown:composeEventHandlers$1(E.onKeyDown,pe=>{const N=pe.target.closest("[data-radix-menu-content]")===pe.currentTarget,I=pe.ctrlKey||pe.altKey||pe.metaKey,L=pe.key.length===1;N&&(pe.key==="Tab"&&pe.preventDefault(),!I&&L&&ce(pe.key));const H=U.current;if(pe.target!==H||!FIRST_LAST_KEYS.includes(pe.key))return;pe.preventDefault();const oe=M().filter(K=>!K.disabled).map(K=>K.ref.current);LAST_KEYS.includes(pe.key)&&oe.reverse(),focusFirst(oe)}),onBlur:composeEventHandlers$1(t.onBlur,pe=>{pe.currentTarget.contains(pe.target)||(window.clearTimeout($.current),G.current="")}),onPointerMove:composeEventHandlers$1(t.onPointerMove,whenMouse(pe=>{const ee=pe.target,N=he.current!==pe.clientX;if(pe.currentTarget.contains(ee)&&N){const I=pe.clientX>he.current?"right":"left";Se.current=I,he.current=pe.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$1;var GROUP_NAME$1="MenuGroup",MenuGroup=reactExports.forwardRef((t,e)=>{const{__scopeMenu:a,...l}=t;return jsxRuntimeExports.jsx(Primitive$1.div,{role:"group",...l,ref:e})});MenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="MenuLabel",MenuLabel=reactExports.forwardRef((t,e)=>{const{__scopeMenu:a,...l}=t;return jsxRuntimeExports.jsx(Primitive$1.div,{...l,ref:e})});MenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((t,e)=>{const{disabled:a=!1,onSelect:l,...u}=t,c=reactExports.useRef(null),d=useMenuRootContext(ITEM_NAME$1,t.__scopeMenu),h=useMenuContentContext(ITEM_NAME$1,t.__scopeMenu),m=useComposedRefs$1(e,c),g=reactExports.useRef(!1),y=()=>{const b=c.current;if(!a&&b){const v=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});b.addEventListener(ITEM_SELECT,C=>l==null?void 0:l(C),{once:!0}),dispatchDiscreteCustomEvent(b,v),v.defaultPrevented?g.current=!1:d.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...u,ref:m,disabled:a,onClick:composeEventHandlers$1(t.onClick,y),onPointerDown:b=>{var v;(v=t.onPointerDown)==null||v.call(t,b),g.current=!0},onPointerUp:composeEventHandlers$1(t.onPointerUp,b=>{var v;g.current||(v=b.currentTarget)==null||v.click()}),onKeyDown:composeEventHandlers$1(t.onKeyDown,b=>{const v=h.searchRef.current!=="";a||v&&b.key===" "||SELECTION_KEYS.includes(b.key)&&(b.currentTarget.click(),b.preventDefault())})})});MenuItem.displayName=ITEM_NAME$1;var MenuItemImpl=reactExports.forwardRef((t,e)=>{const{__scopeMenu:a,disabled:l=!1,textValue:u,...c}=t,d=useMenuContentContext(ITEM_NAME$1,a),h=useRovingFocusGroupScope(a),m=reactExports.useRef(null),g=useComposedRefs$1(e,m),[y,b]=reactExports.useState(!1),[v,C]=reactExports.useState("");return reactExports.useEffect(()=>{const S=m.current;S&&C((S.textContent??"").trim())},[c.children]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:a,disabled:l,textValue:u??v,children:jsxRuntimeExports.jsx(Item,{asChild:!0,...h,focusable:!l,children:jsxRuntimeExports.jsx(Primitive$1.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":l||void 0,"data-disabled":l?"":void 0,...c,ref:g,onPointerMove:composeEventHandlers$1(t.onPointerMove,whenMouse(S=>{l?d.onItemLeave(S):(d.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers$1(t.onPointerLeave,whenMouse(S=>d.onItemLeave(S))),onFocus:composeEventHandlers$1(t.onFocus,()=>b(!0)),onBlur:composeEventHandlers$1(t.onBlur,()=>b(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((t,e)=>{const{checked:a=!1,onCheckedChange:l,...u}=t;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:t.__scopeMenu,checked:a,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(a)?"mixed":a,...u,ref:e,"data-state":getCheckedState(a),onSelect:composeEventHandlers$1(u.onSelect,()=>l==null?void 0:l(isIndeterminate(a)?!0:!a),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((t,e)=>{const{value:a,onValueChange:l,...u}=t,c=useCallbackRef$1(l);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:t.__scopeMenu,value:a,onValueChange:c,children:jsxRuntimeExports.jsx(MenuGroup,{...u,ref:e})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((t,e)=>{const{value:a,...l}=t,u=useRadioGroupContext(RADIO_ITEM_NAME$1,t.__scopeMenu),c=a===u.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:t.__scopeMenu,checked:c,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":c,...l,ref:e,"data-state":getCheckedState(c),onSelect:composeEventHandlers$1(l.onSelect,()=>{var d;return(d=u.onValueChange)==null?void 0:d.call(u,a)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((t,e)=>{const{__scopeMenu:a,forceMount:l,...u}=t,c=useItemIndicatorContext(ITEM_INDICATOR_NAME,a);return jsxRuntimeExports.jsx(Presence,{present:l||isIndeterminate(c.checked)||c.checked===!0,children:jsxRuntimeExports.jsx(Primitive$1.span,{...u,ref:e,"data-state":getCheckedState(c.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME;var SEPARATOR_NAME$1="MenuSeparator",MenuSeparator=reactExports.forwardRef((t,e)=>{const{__scopeMenu:a,...l}=t;return jsxRuntimeExports.jsx(Primitive$1.div,{role:"separator","aria-orientation":"horizontal",...l,ref:e})});MenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$1="MenuArrow",MenuArrow=reactExports.forwardRef((t,e)=>{const{__scopeMenu:a,...l}=t,u=usePopperScope(a);return jsxRuntimeExports.jsx(Arrow,{...u,...l,ref:e})});MenuArrow.displayName=ARROW_NAME$1;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((t,e)=>{const a=useMenuContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),l=useMenuRootContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),u=useMenuSubContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),c=useMenuContentContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),d=reactExports.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:m}=c,g={__scopeMenu:t.__scopeMenu},y=reactExports.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return reactExports.useEffect(()=>y,[y]),reactExports.useEffect(()=>{const b=h.current;return()=>{window.clearTimeout(b),m(null)}},[h,m]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...g,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:u.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":u.contentId,"data-state":getOpenState(a.open),...t,ref:composeRefs$1(e,u.onTriggerChange),onClick:b=>{var v;(v=t.onClick)==null||v.call(t,b),!(t.disabled||b.defaultPrevented)&&(b.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:composeEventHandlers$1(t.onPointerMove,whenMouse(b=>{c.onItemEnter(b),!b.defaultPrevented&&!t.disabled&&!a.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{a.onOpenChange(!0),y()},100))})),onPointerLeave:composeEventHandlers$1(t.onPointerLeave,whenMouse(b=>{var C,S;y();const v=(C=a.content)==null?void 0:C.getBoundingClientRect();if(v){const E=(S=a.content)==null?void 0:S.dataset.side,_=E==="right",A=_?-5:5,R=v[_?"left":"right"],k=v[_?"right":"left"];c.onPointerGraceIntentChange({area:[{x:b.clientX+A,y:b.clientY},{x:R,y:v.top},{x:k,y:v.top},{x:k,y:v.bottom},{x:R,y:v.bottom}],side:E}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(b),b.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers$1(t.onKeyDown,b=>{var C;const v=c.searchRef.current!=="";t.disabled||v&&b.key===" "||SUB_OPEN_KEYS[l.dir].includes(b.key)&&(a.onOpenChange(!0),(C=a.content)==null||C.focus(),b.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((t,e)=>{const a=usePortalContext(CONTENT_NAME$1,t.__scopeMenu),{forceMount:l=a.forceMount,...u}=t,c=useMenuContext(CONTENT_NAME$1,t.__scopeMenu),d=useMenuRootContext(CONTENT_NAME$1,t.__scopeMenu),h=useMenuSubContext(SUB_CONTENT_NAME$1,t.__scopeMenu),m=reactExports.useRef(null),g=useComposedRefs$1(e,m);return jsxRuntimeExports.jsx(Collection.Provider,{scope:t.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:l||c.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:t.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:h.contentId,"aria-labelledby":h.triggerId,...u,ref:g,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var b;d.isUsingKeyboardRef.current&&((b=m.current)==null||b.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:composeEventHandlers$1(t.onFocusOutside,y=>{y.target!==h.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers$1(t.onEscapeKeyDown,y=>{d.onClose(),y.preventDefault()}),onKeyDown:composeEventHandlers$1(t.onKeyDown,y=>{var C;const b=y.currentTarget.contains(y.target),v=SUB_CLOSE_KEYS[d.dir].includes(y.key);b&&v&&(c.onOpenChange(!1),(C=h.trigger)==null||C.focus(),y.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(t){return t?"open":"closed"}function isIndeterminate(t){return t==="indeterminate"}function getCheckedState(t){return isIndeterminate(t)?"indeterminate":t?"checked":"unchecked"}function focusFirst(t){const e=document.activeElement;for(const a of t)if(a===e||(a.focus(),document.activeElement!==e))return}function wrapArray(t,e){return t.map((a,l)=>t[(e+l)%t.length])}function getNextMatch(t,e,a){const u=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=a?t.indexOf(a):-1;let d=wrapArray(t,Math.max(c,0));u.length===1&&(d=d.filter(g=>g!==a));const m=d.find(g=>g.toLowerCase().startsWith(u.toLowerCase()));return m!==a?m:void 0}function isPointInPolygon(t,e){const{x:a,y:l}=t;let u=!1;for(let c=0,d=e.length-1;c<e.length;d=c++){const h=e[c],m=e[d],g=h.x,y=h.y,b=m.x,v=m.y;y>l!=v>l&&a<(b-g)*(l-y)/(v-y)+g&&(u=!u)}return u}function isPointerInGraceArea(t,e){if(!e)return!1;const a={x:t.clientX,y:t.clientY};return isPointInPolygon(a,e)}function whenMouse(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Root3=Menu,Anchor2=MenuAnchor,Portal=MenuPortal,Content2$1=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator=MenuItemIndicator,Separator=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,useReactId=React[" useId ".trim().toString()]||(()=>{}),count=0;function useId(t){const[e,a]=reactExports.useState(useReactId());return useLayoutEffect2$2(()=>{t||a(l=>l??String(count++))},[t]),t||(e?`radix-${e}`:"")}var DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext,createDropdownMenuScope]=createContextScope$2(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu$1=t=>{const{__scopeDropdownMenu:e,children:a,dir:l,open:u,defaultOpen:c,onOpenChange:d,modal:h=!0}=t,m=useMenuScope(e),g=reactExports.useRef(null),[y,b]=useControllableState$1({prop:u,defaultProp:c??!1,onChange:d,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:e,triggerId:useId(),triggerRef:g,contentId:useId(),open:y,onOpenChange:b,onOpenToggle:reactExports.useCallback(()=>b(v=>!v),[b]),modal:h,children:jsxRuntimeExports.jsx(Root3,{...m,open:y,onOpenChange:b,dir:l,modal:h,children:a})})};DropdownMenu$1.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,disabled:l=!1,...u}=t,c=useDropdownMenuContext(TRIGGER_NAME,a),d=useMenuScope(a);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...d,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":l?"":void 0,disabled:l,...u,ref:composeRefs$2(e,c.triggerRef),onPointerDown:composeEventHandlers$2(t.onPointerDown,h=>{!l&&h.button===0&&h.ctrlKey===!1&&(c.onOpenToggle(),c.open||h.preventDefault())}),onKeyDown:composeEventHandlers$2(t.onKeyDown,h=>{l||(["Enter"," "].includes(h.key)&&c.onOpenToggle(),h.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME;var PORTAL_NAME="DropdownMenuPortal",DropdownMenuPortal=t=>{const{__scopeDropdownMenu:e,...a}=t,l=useMenuScope(e);return jsxRuntimeExports.jsx(Portal,{...l,...a})};DropdownMenuPortal.displayName=PORTAL_NAME;var CONTENT_NAME="DropdownMenuContent",DropdownMenuContent$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useDropdownMenuContext(CONTENT_NAME,a),c=useMenuScope(a),d=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$1,{id:u.contentId,"aria-labelledby":u.triggerId,...c,...l,ref:e,onCloseAutoFocus:composeEventHandlers$2(t.onCloseAutoFocus,h=>{var m;d.current||(m=u.triggerRef.current)==null||m.focus(),d.current=!1,h.preventDefault()}),onInteractOutside:composeEventHandlers$2(t.onInteractOutside,h=>{const m=h.detail.originalEvent,g=m.button===0&&m.ctrlKey===!0,y=m.button===2||g;(!u.modal||y)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent$1.displayName=CONTENT_NAME;var GROUP_NAME="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(Group,{...u,...l,ref:e})});DropdownMenuGroup.displayName=GROUP_NAME;var LABEL_NAME="DropdownMenuLabel",DropdownMenuLabel$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(Label,{...u,...l,ref:e})});DropdownMenuLabel$1.displayName=LABEL_NAME;var ITEM_NAME="DropdownMenuItem",DropdownMenuItem$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(Item2$1,{...u,...l,ref:e})});DropdownMenuItem$1.displayName=ITEM_NAME;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(CheckboxItem,{...u,...l,ref:e})});DropdownMenuCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(RadioGroup,{...u,...l,ref:e})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(RadioItem,{...u,...l,ref:e})});DropdownMenuRadioItem$1.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(ItemIndicator,{...u,...l,ref:e})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME="DropdownMenuSeparator",DropdownMenuSeparator$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(Separator,{...u,...l,ref:e})});DropdownMenuSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(Arrow2,{...u,...l,ref:e})});DropdownMenuArrow.displayName=ARROW_NAME;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(SubTrigger,{...u,...l,ref:e})});DropdownMenuSubTrigger$1.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...l}=t,u=useMenuScope(a);return jsxRuntimeExports.jsx(SubContent,{...u,...l,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent$1.displayName=SUB_CONTENT_NAME;var Root2=DropdownMenu$1,Trigger=DropdownMenuTrigger$1,Portal2=DropdownMenuPortal,Content2=DropdownMenuContent$1,Label2=DropdownMenuLabel$1,Item2=DropdownMenuItem$1,CheckboxItem2=DropdownMenuCheckboxItem$1,RadioItem2=DropdownMenuRadioItem$1,ItemIndicator2=DropdownMenuItemIndicator,Separator2=DropdownMenuSeparator$1,SubTrigger2=DropdownMenuSubTrigger$1,SubContent2=DropdownMenuSubContent$1;const DropdownMenu=Root2,DropdownMenuTrigger=Trigger,DropdownMenuSubTrigger=reactExports.forwardRef(({className:t,inset:e,children:a,...l},u)=>jsxRuntimeExports.jsxs(SubTrigger2,{ref:u,className:cn("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...l,children:[a,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto"})]}));DropdownMenuSubTrigger.displayName=SubTrigger2.displayName;const DropdownMenuSubContent=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(SubContent2,{ref:a,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));DropdownMenuSubContent.displayName=SubContent2.displayName;const DropdownMenuContent=reactExports.forwardRef(({className:t,sideOffset:e=4,...a},l)=>jsxRuntimeExports.jsx(Portal2,{children:jsxRuntimeExports.jsx(Content2,{ref:l,sideOffset:e,className:cn("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...a})}));DropdownMenuContent.displayName=Content2.displayName;const DropdownMenuItem=reactExports.forwardRef(({className:t,inset:e,...a},l)=>jsxRuntimeExports.jsx(Item2,{ref:l,className:cn("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...a}));DropdownMenuItem.displayName=Item2.displayName;const DropdownMenuCheckboxItem=reactExports.forwardRef(({className:t,children:e,checked:a,...l},u)=>jsxRuntimeExports.jsxs(CheckboxItem2,{ref:u,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...l,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),e]}));DropdownMenuCheckboxItem.displayName=CheckboxItem2.displayName;const DropdownMenuRadioItem=reactExports.forwardRef(({className:t,children:e,...a},l)=>jsxRuntimeExports.jsxs(RadioItem2,{ref:l,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),e]}));DropdownMenuRadioItem.displayName=RadioItem2.displayName;const DropdownMenuLabel=reactExports.forwardRef(({className:t,inset:e,...a},l)=>jsxRuntimeExports.jsx(Label2,{ref:l,className:cn("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...a}));DropdownMenuLabel.displayName=Label2.displayName;const DropdownMenuSeparator=reactExports.forwardRef(({className:t,...e},a)=>jsxRuntimeExports.jsx(Separator2,{ref:a,className:cn("-mx-1 my-1 h-px bg-muted",t),...e}));DropdownMenuSeparator.displayName=Separator2.displayName;const initialState={theme:"system",setTheme:()=>{}},ThemeProviderContext=reactExports.createContext(initialState);function ThemeProvider({children:t,defaultTheme:e="system",storageKey:a="vite-ui-theme",...l}){const[u,c]=reactExports.useState(()=>localStorage.getItem(a)||e);reactExports.useEffect(()=>{const h=document.querySelector("html");if(h.classList.remove("light","dark"),u==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";h.classList.add(m);return}h.classList.add(u)},[u]);const d={theme:u,setTheme:h=>{localStorage.setItem(a,h),c(h)}};return jsxRuntimeExports.jsx(ThemeProviderContext.Provider,{...l,value:d,children:t})}const useTheme=()=>{const t=reactExports.useContext(ThemeProviderContext);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function ModeToggle(){const{setTheme:t}=useTheme();return jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"icon",children:[jsxRuntimeExports.jsx(Sun,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),jsxRuntimeExports.jsx(Moon,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>t("light"),children:"Light"}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>t("dark"),children:"Dark"}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>t("system"),children:"System"})]})]})}function App(){const[t,e]=reactExports.useState(null);return jsxRuntimeExports.jsx(PromptProvider,{value:{globalPrompt:t,setGlobalPrompt:e},children:jsxRuntimeExports.jsxs("div",{className:"mx-auto pt-6 ",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between px-6",children:[jsxRuntimeExports.jsx("span",{}),jsxRuntimeExports.jsx("h1",{className:"text-4xl text-center font-semibold tracking-tighter",children:"Mail Easy"}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx(ModeToggle,{})})]}),jsxRuntimeExports.jsx(MyForm,{})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(ThemeProvider,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:jsxRuntimeExports.jsx(App,{})}))});export default $f();
